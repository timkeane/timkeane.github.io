!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=132)}([function(t,e,n){"use strict";n.r(e),n.d(e,"boundingExtent",function(){return a}),n.d(e,"buffer",function(){return s}),n.d(e,"clone",function(){return u}),n.d(e,"closestSquaredDistanceXY",function(){return c}),n.d(e,"containsCoordinate",function(){return l}),n.d(e,"containsExtent",function(){return h}),n.d(e,"containsXY",function(){return f}),n.d(e,"coordinateRelationship",function(){return p}),n.d(e,"createEmpty",function(){return d}),n.d(e,"createOrUpdate",function(){return y}),n.d(e,"createOrUpdateEmpty",function(){return g}),n.d(e,"createOrUpdateFromCoordinate",function(){return _}),n.d(e,"createOrUpdateFromCoordinates",function(){return v}),n.d(e,"createOrUpdateFromFlatCoordinates",function(){return m}),n.d(e,"createOrUpdateFromRings",function(){return b}),n.d(e,"equals",function(){return O}),n.d(e,"extend",function(){return E}),n.d(e,"extendCoordinate",function(){return x}),n.d(e,"extendCoordinates",function(){return w}),n.d(e,"extendFlatCoordinates",function(){return j}),n.d(e,"extendRings",function(){return C}),n.d(e,"extendXY",function(){return S}),n.d(e,"forEachCorner",function(){return T}),n.d(e,"getArea",function(){return P}),n.d(e,"getBottomLeft",function(){return R}),n.d(e,"getBottomRight",function(){return I}),n.d(e,"getCenter",function(){return L}),n.d(e,"getCorner",function(){return M}),n.d(e,"getEnlargedArea",function(){return A}),n.d(e,"getForViewAndSize",function(){return D}),n.d(e,"getHeight",function(){return F}),n.d(e,"getIntersectionArea",function(){return k}),n.d(e,"getIntersection",function(){return N}),n.d(e,"getMargin",function(){return G}),n.d(e,"getSize",function(){return Y}),n.d(e,"getTopLeft",function(){return X}),n.d(e,"getTopRight",function(){return z}),n.d(e,"getWidth",function(){return U}),n.d(e,"intersects",function(){return B}),n.d(e,"isEmpty",function(){return W}),n.d(e,"returnOrUpdate",function(){return K}),n.d(e,"scaleFromCenter",function(){return H}),n.d(e,"intersectsSegment",function(){return Z}),n.d(e,"applyTransform",function(){return V});var r=n(10),i=n(68),o=n(26);function a(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;++n)x(e,t[n]);return e}function s(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function u(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function c(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function l(t,e){return f(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function p(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=e[0],u=e[1],c=o.a.UNKNOWN;return s<n?c|=o.a.LEFT:s>i&&(c|=o.a.RIGHT),u<r?c|=o.a.BELOW:u>a&&(c|=o.a.ABOVE),c===o.a.UNKNOWN&&(c=o.a.INTERSECTING),c}function d(){return[1/0,1/0,-1/0,-1/0]}function y(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function g(t){return y(1/0,1/0,-1/0,-1/0,t)}function _(t,e){var n=t[0],r=t[1];return y(n,r,n,r,e)}function v(t,e){return w(g(e),t)}function m(t,e,n,r,i){return j(g(i),t,e,n,r)}function b(t,e){return C(g(e),t)}function O(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function E(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function w(t,e){for(var n=0,r=e.length;n<r;++n)x(t,e[n]);return t}function j(t,e,n,r,i){for(;n<r;n+=i)S(t,e[n],e[n+1]);return t}function C(t,e){for(var n=0,r=e.length;n<r;++n)w(t,e[n]);return t}function S(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function T(t,e){var n;return(n=e(R(t)))||(n=e(I(t)))||(n=e(z(t)))?n:(n=e(X(t)))||!1}function P(t){var e=0;return W(t)||(e=U(t)*F(t)),e}function R(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function L(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function M(t,e){var n;return e===i.a.BOTTOM_LEFT?n=R(t):e===i.a.BOTTOM_RIGHT?n=I(t):e===i.a.TOP_LEFT?n=X(t):e===i.a.TOP_RIGHT?n=z(t):Object(r.a)(!1,13),n}function A(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-r)}function D(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),u=Math.sin(n),c=o*s,l=o*u,h=a*s,f=a*u,p=t[0],d=t[1],g=p-c+f,_=p-c-f,v=p+c-f,m=p+c+f,b=d-l-h,O=d-l+h,E=d+l+h,x=d+l-h;return y(Math.min(g,_,v,m),Math.min(b,O,E,x),Math.max(g,_,v,m),Math.max(b,O,E,x),i)}function F(t){return t[3]-t[1]}function k(t,e){return P(N(t,e))}function N(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return B(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):g(r),r}function G(t){return U(t)+F(t)}function Y(t){return[t[2]-t[0],t[3]-t[1]]}function X(t){return[t[0],t[3]]}function z(t){return[t[2],t[3]]}function U(t){return t[2]-t[0]}function B(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function W(t){return t[2]<t[0]||t[3]<t[1]}function K(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function H(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}function Z(t,e,n){var r=!1,i=p(t,e),a=p(t,n);if(i===o.a.INTERSECTING||a===o.a.INTERSECTING)r=!0;else{var s=t[0],u=t[1],c=t[2],l=t[3],h=e[0],f=e[1],d=n[0],y=n[1],g=(y-f)/(d-h),_=void 0,v=void 0;a&o.a.ABOVE&&!(i&o.a.ABOVE)&&(r=(_=d-(y-l)/g)>=s&&_<=c),r||!(a&o.a.RIGHT)||i&o.a.RIGHT||(r=(v=y-(d-c)*g)>=u&&v<=l),r||!(a&o.a.BELOW)||i&o.a.BELOW||(r=(_=d-(y-u)/g)>=s&&_<=c),r||!(a&o.a.LEFT)||i&o.a.LEFT||(r=(v=y-(d-s)*g)>=u&&v<=l)}return r}function V(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(r,r,2),function(t,e,n){return y(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([r[0],r[2],r[4],r[6]],[r[1],r[3],r[5],r[7]],n)}},function(t,e,n){"use strict";function r(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var i=0;function o(t){return t.ol_uid||(t.ol_uid=String(++i))}var a="6.1.0"},function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";n.r(e);var r,i=n(82),o=n(0),a=n(5),s=n(59),u=n(25),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=6378137*Math.PI,h=[-l,-l,l,l],f=[-180,-85,180,85],p=function(t){function e(e){return t.call(this,{code:e,units:u.b.METERS,extent:h,global:!0,worldExtent:f,getPointResolution:function(t,e){return t/Object(a.b)(e[1]/6378137)}})||this}return c(e,t),e}(s.a),d=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("urn:ogc:def:crs:EPSG:6.18:3:3857"),new p("urn:ogc:def:crs:EPSG::3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function y(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=l,s=0;s<r;s+=i){o[s]=a*t[s]/180;var u=6378137*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));u>a?u=a:u<-a&&(u=-a),o[s+1]=u}return o}function g(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/l,o[a+1]=360*Math.atan(Math.exp(t[a+1]/6378137))/Math.PI-90;return o}var _=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=[-180,-90,180,90],m=6378137*Math.PI/180,b=function(t){function e(e,n){return t.call(this,{code:e,units:u.b.DEGREES,extent:v,axisOrientation:n,global:!0,metersPerUnit:m,worldExtent:v})||this}return _(e,t),e}(s.a),O=[new b("CRS:84"),new b("EPSG:4326","neu"),new b("urn:ogc:def:crs:EPSG::4326","neu"),new b("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new b("urn:ogc:def:crs:OGC:1.3:CRS84"),new b("urn:ogc:def:crs:OGC:2:84"),new b("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new b("urn:x-ogc:def:crs:EPSG:4326","neu")],E=n(51),x={};function w(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function j(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function C(t){!function(t,e){x[t]=e}(t.getCode(),t),Object(E.a)(t,t,w)}function S(t){t.forEach(C)}function T(t){return"string"==typeof t?x[t]||null:t||null}function P(t,e,n,r){var o,a=(t=T(t)).getPointResolutionFunc();if(a)o=a(e,n),r&&r!==t.getUnits()&&(s=t.getMetersPerUnit())&&(o=o*s/u.a[r]);else if(t.getUnits()==u.b.DEGREES&&!r||r==u.b.DEGREES)o=e;else{var s,c=G(t,T("EPSG:4326")),l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];l=c(l,l,2),o=(Object(i.a)(l.slice(0,2),l.slice(2,4))+Object(i.a)(l.slice(4,6),l.slice(6,8)))/2,void 0!==(s=r?u.a[r]:t.getMetersPerUnit())&&(o/=s)}return o}function R(t){S(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Object(E.a)(e,t,w)})})}function I(t,e,n,r){t.forEach(function(t){e.forEach(function(e){Object(E.a)(t,e,n),Object(E.a)(e,t,r)})})}function L(){x={},Object(E.b)()}function M(t,e){return t?"string"==typeof t?T(t):t:T(e)}function A(t){return function(e,n,r){for(var i=e.length,o=void 0!==r?r:2,a=void 0!==n?n:new Array(i),s=0;s<i;s+=o){var u=t([e[s],e[s+1]]);a[s]=u[0],a[s+1]=u[1];for(var c=o-1;c>=2;--c)a[s+c]=e[s+c]}return a}}function D(t,e,n,r){var i=T(t),o=T(e);Object(E.a)(i,o,A(n)),Object(E.a)(o,i,A(r))}function F(t,e){return X(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function k(t,e){var n=X(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=Object(a.d)(r+180,360)-180),n}function N(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||G(t,e)===w)&&n}function G(t,e){var n=t.getCode(),r=e.getCode(),i=Object(E.c)(n,r);return i||(i=j),i}function Y(t,e){return G(T(t),T(e))}function X(t,e,n){return Y(e,n)(t,void 0,t.length)}function z(t,e,n){var r=Y(e,n);return Object(o.applyTransform)(t,r)}function U(t,e,n){return G(e,n)(t)}n.d(e,"cloneTransform",function(){return w}),n.d(e,"identityTransform",function(){return j}),n.d(e,"addProjection",function(){return C}),n.d(e,"addProjections",function(){return S}),n.d(e,"get",function(){return T}),n.d(e,"getPointResolution",function(){return P}),n.d(e,"addEquivalentProjections",function(){return R}),n.d(e,"addEquivalentTransforms",function(){return I}),n.d(e,"clearAllProjections",function(){return L}),n.d(e,"createProjection",function(){return M}),n.d(e,"createTransformFromCoordinateTransform",function(){return A}),n.d(e,"addCoordinateTransforms",function(){return D}),n.d(e,"fromLonLat",function(){return F}),n.d(e,"toLonLat",function(){return k}),n.d(e,"equivalent",function(){return N}),n.d(e,"getTransformFromProjections",function(){return G}),n.d(e,"getTransform",function(){return Y}),n.d(e,"transform",function(){return X}),n.d(e,"transformExtent",function(){return z}),n.d(e,"transformWithProjections",function(){return U}),n.d(e,"setUserProjection",function(){return W}),n.d(e,"clearUserProjection",function(){return K}),n.d(e,"getUserProjection",function(){return H}),n.d(e,"useGeographic",function(){return Z}),n.d(e,"toUserCoordinate",function(){return V}),n.d(e,"fromUserCoordinate",function(){return q}),n.d(e,"toUserExtent",function(){return J}),n.d(e,"fromUserExtent",function(){return Q}),n.d(e,"addCommon",function(){return $}),n.d(e,"METERS_PER_UNIT",function(){return u.a}),n.d(e,"Projection",function(){return s.a});var B=null;function W(t){B=T(t)}function K(){B=null}function H(){return B}function Z(){W("EPSG:4326")}function V(t,e){return B?X(t,e,B):t}function q(t,e){return B?X(t,B,e):t}function J(t,e){return B?z(t,e,B):t}function Q(t,e){return B?z(t,B,e):t}function $(){R(d),R(O),I(O,d,y,g)}$()},function(t,e,n){"use strict";var r,i=n(23),o=n(15),a=n(11),s=n(8),u=n(1),c=n(99),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this,e)||this;return n.consumers={},n}return l(e,t),e.prototype.clear=function(){this.consumers={},t.prototype.clear.call(this)},e.prototype.get=function(e,n){var r=t.prototype.get.call(this,e),i=Object(u.c)(n);return i in this.consumers||(this.consumers[i]={}),this.consumers[i][e]=!0,r},e.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var n=this.pop();for(var e in n.width=n.height=0,this.consumers)delete this.consumers[e][t]}},e.prototype.release=function(t){delete this.consumers[Object(u.c)(t)]},e}(c.a);n.d(e,"c",function(){return p}),n.d(e,"b",function(){return d}),n.d(e,"d",function(){return y}),n.d(e,"e",function(){return g}),n.d(e,"f",function(){return _}),n.d(e,"g",function(){return v}),n.d(e,"i",function(){return m}),n.d(e,"k",function(){return b}),n.d(e,"l",function(){return O}),n.d(e,"m",function(){return E}),n.d(e,"j",function(){return x}),n.d(e,"h",function(){return w}),n.d(e,"o",function(){return j}),n.d(e,"a",function(){return P}),n.d(e,"q",function(){return M}),n.d(e,"p",function(){return D}),n.d(e,"r",function(){return F}),n.d(e,"s",function(){return k}),n.d(e,"n",function(){return G});var f,p="10px sans-serif",d="#000",y="round",g=[],_=0,v="round",m=10,b="#000",O="center",E="middle",x=[0,0,0,0],w=1,j=new h,C={},S=null,T={},P=function(){var t,e,n=C,r=["monospace","serif"],o=r.length,s="wmytzilWMYTZIL@#/&?$%10";function u(t,n,i){for(var a=R(),u=!0,c=0;c<o;++c){var l=r[c];if(a.font=t+" "+n+" 32px "+l,e=a.measureText(s).width,i!=l){a.font=t+" "+n+" 32px "+i+","+l;var h=a.measureText(s).width;u=u&&h!=e}}return!!u}function c(){var e=!0;for(var r in n)n[r]<100&&(u.apply(this,r.split("\n"))?(n[r]=100,Object(a.b)(T),S=null,f=void 0,j.getCount()&&j.clear()):(++n[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=Object(i.f)(e);if(r)for(var o=r.families,a=0,s=o.length;a<s;++a){var l=o[a],h=r.style+"\n"+r.weight+"\n"+l;h in n||(n[h]=100,u(r.style,r.weight,l)||(n[h]=0,void 0===t&&(t=setInterval(c,32))))}}}();function R(){return S||(S=Object(o.a)(1,1)),S}var I,L,M=(L=T,function(t){var e=L[t];return null==e&&(I||((I=document.createElement("div")).innerHTML="M",I.style.margin=I.style.padding="0 !important",I.style.position="absolute !important",I.style.left="-99999px !important"),I.style.font=t,document.body.appendChild(I),e=L[t]=I.offsetHeight,document.body.removeChild(I)),e});function A(t,e){var n=R();return t!=f&&(n.font=f=t),n.measureText(e).width}function D(t,e,n){return e in n?n[e]:n[e]=A(t,e)}function F(t,e,n){for(var r=e.length,i=0,o=0;o<r;++o){var a=A(t,e[o]);i=Math.max(i,a),n.push(a)}return i}function k(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))}var N=Object(s.c)();function G(t,e,n,r,i,o,a,s,u,c,l){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(r,i,o,a,s,u,c,a*l,s*l),1!=n&&(t.globalAlpha=h),e&&t.setTransform.apply(t,N)}},function(t,e,n){"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return h});var i="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function o(t,e,n,r,i,o){var s=i-n,u=o-r;if(0!==s||0!==u){var c=((t-n)*s+(e-r)*u)/(s*s+u*u);c>1?(n=i,r=o):c>0&&(n+=s*c,r+=u*c)}return a(t,e,n,r)}function a(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function s(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var c=-t[u][n]/t[n][n],l=n;l<e+1;l++)n==l?t[u][l]=0:t[u][l]+=c*t[n][l]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}function u(t){return 180*t/Math.PI}function c(t){return t*Math.PI/180}function l(t,e){var n=t%e;return n*e<0?n+e:n}function h(t,e,n){return t+n*(e-t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});var r=n(11);function i(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function o(t,e,n,r){return i(t,e,n,r,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(r.b)(t))}},function(t,e,n){"use strict";e.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"e",function(){return h}),n.d(e,"b",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"i",function(){return d});var r=n(10),i=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],c=e[1],l=e[2],h=e[3],f=e[4],p=e[5];return t[0]=n*u+i*c,t[1]=r*u+o*c,t[2]=n*l+i*h,t[3]=r*l+o*h,t[4]=n*f+i*p+a,t[5]=r*f+o*p+s,t}function s(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function c(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function l(t,e,n){return a(t,s(i,e,0,0,n,0,0))}function h(t,e,n){return s(t,e,0,0,n,0,0)}function f(t,e,n,r,i,o,a,s){var u=Math.sin(o),c=Math.cos(o);return t[0]=r*c,t[1]=i*u,t[2]=-r*u,t[3]=i*c,t[4]=a*r*c-s*r*u+e,t[5]=a*i*u+s*i*c+n,t}function p(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];Object(r.a)(0!==i,32);var o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5];return t[0]=u/i,t[1]=-a/i,t[2]=-s/i,t[3]=o/i,t[4]=(s*l-u*c)/i,t[5]=-(o*l-a*c)/i,t}function d(t){return"matrix("+t.join(", ")+")"}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(91);function i(t,e){if(!t)throw new r.a(e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a});var r="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function i(t){for(var e in t)delete t[e]}var o="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function a(t){var e;for(e in t)return!1;return!e}},function(t,e,n){"use strict";function r(t,e,n){for(var r,o,a=n||i,s=0,u=t.length,c=!1;s<u;)(o=+a(t[r=s+(u-s>>1)],e))<0?s=r+1:(u=r,c=!o);return c?s:~s}function i(t,e){return t>e?1:t<e?-1:0}function o(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function a(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function s(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}function u(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function c(t,e,n){var r=e||i;return t.every(function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)})}n.d(e,"a",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return c})},function(t,e){t.exports=jQuery},function(t,e,n){"use strict";n.d(e,"b",function(){return p});var r,i=n(1),o=n(53),a=n(92),s=n(27),u=n(11),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return c(e,t),e}(s.a),h=function(t){function e(e){var n=t.call(this)||this;return Object(i.c)(n),n.values_={},void 0!==e&&n.setProperties(e),n}return c(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(u.a)({},this.values_)},e.prototype.notify=function(t,e){var n;n=p(t),this.dispatchEvent(new l(n,t,e)),n=o.a.PROPERTYCHANGE,this.dispatchEvent(new l(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(a.a),f={};function p(t){return f.hasOwnProperty(t)?f[t]:f[t]="change:"+t}e.a=h},function(t,e,n){"use strict";function r(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function i(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function o(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function a(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function u(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function c(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"f",function(){return c})},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s});var r=n(12);function i(){return!0}function o(){return!1}function a(){}function s(t){var e,n,i,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===i&&Object(r.b)(a,n)||(o=!0,i=this,n=a,e=t.apply(this,arguments)),e}}},function(t,e,n){"use strict";var r=n(7);e.a={SINGLECLICK:"singleclick",CLICK:r.a.CLICK,DBLCLICK:r.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"h",function(){return h}),n.d(e,"i",function(){return f}),n.d(e,"e",function(){return p}),n.d(e,"g",function(){return d}),n(17);var r=n(10),i=n(16),o=n(30),a=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},s=function(t){return t.target.getTargetElement()===document.activeElement},u=i.b,c=function(t){var e=t.originalEvent;return 0==e.button&&!(o.e&&o.d&&e.ctrlKey)},l=(i.a,function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}),h=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},f=function(t){var e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},p=function(t){var e=t.pointerEvent;return Object(r.a)(void 0!==e,56),"mouse"==e.pointerType},d=function(t){var e=t.pointerEvent;return Object(r.a)(void 0!==e,56),e.isPrimary&&0===e.button}},function(t,e,n){"use strict";e.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"f",function(){return l});var r,i,o="ol-hidden",a="ol-selectable",s="ol-unselectable",u="ol-control",c="ol-collapsed",l=(i={},function(t){if(r||(r=document.createElement("div").style),!(t in i)){r.font=t;var e=r.fontFamily,n=r.fontWeight,o=r.fontStyle;if(r.font="",!e)return null;var a=e.split(/,\s?/);i[t]={families:a,weight:n,style:o}}return i[t]})},function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i={};i[r.DEGREES]=2*Math.PI*6370997/360,i[r.FEET]=.3048,i[r.METERS]=1,i[r.USFEET]=1200/3937,e.b=r},function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){"use strict";var r=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();e.a=r},function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,n){"use strict";function r(t){return Math.pow(t,3)}function i(t){return 1-r(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a})},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u});var r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=-1!==r.indexOf("firefox"),o=(-1!==r.indexOf("safari")&&r.indexOf("chrom"),-1!==r.indexOf("webkit")&&-1==r.indexOf("edge")),a=-1!==r.indexOf("macintosh"),s=window.devicePixelRatio||1,u="undefined"!=typeof Image&&Image.prototype.decode},function(t,e,n){"use strict";n.d(e,"b",function(){return f});var r,i=n(1),o=n(0),a=n(93),s=n(20),u=n(37),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){var e=t.call(this)||this;return e.layout=s.a.XY,e.stride=2,e.flatCoordinates=null,e}return c(e,t),e.prototype.computeExtent=function(t){return Object(o.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=h(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.b)()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=h(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=s.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=s.a.XY:3==t?e=s.a.XYZ:4==t&&(e=s.a.XYZM),e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Object(u.a)(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=Object(o.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var s=this.getStride();Object(u.b)(a,0,a.length,s,t,r,i,a),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Object(u.d)(n,0,n.length,r,t,e,n),this.changed()}},e}(a.a);function h(t){var e;return t==s.a.XY?e=2:t==s.a.XYZ||t==s.a.XYM?e=3:t==s.a.XYZM&&(e=4),e}function f(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return Object(u.c)(r,0,r.length,i,e,n)}return null}e.a=l},function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=e;s<n;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function i(t,e,n,i,o){for(var a=void 0!==o?o:[],s=0,u=0,c=n.length;u<c;++u){var l=n[u];a[s++]=r(t,e,l,i,a[s]),e=l}return a.length=s,a}function o(t,e,n,r,o){for(var a=void 0!==o?o:[],s=0,u=0,c=n.length;u<c;++u){var l=n[u];a[s++]=i(t,e,l,r,a[s]),e=l[l.length-1]}return a.length=s,a}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";var r=n(14),i=n(29),o="active";n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l});var a,s=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return s(e,t),e.prototype.getActive=function(){return this.get(o)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o,t)},e.prototype.setMap=function(t){this.map_=t},e}(r.a);function c(t,e,n){var r=t.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:i.d,center:t.getConstrainedCenter(o)})}}function l(t,e,n,r){var o=t.getZoom();if(void 0!==o){var a=t.getConstrainedZoom(o+e),s=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:i.b})}}e.a=u},function(t,e,n){"use strict";function r(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function i(t,e,n){return t+"/"+e+"/"+n}function o(t){return i(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function u(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(r,i)}n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return u})},function(t,e,n){"use strict";var r,i=n(91),o=n(28),a=n(14),s=n(27),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c="length",l=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return u(e,t),e}(s.a),h=function(t){function e(e,n){var r=t.call(this)||this,i=n||{};if(r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var o=0,a=r.array_.length;o<a;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return u(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(c)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new l(o.a.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new l(o.a.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new l(o.a.REMOVE,r,t)),this.dispatchEvent(new l(o.a.ADD,e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(c,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new i.a(58)},e}(a.a);e.a=h},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i=n(17),o=n(33),a=n(11),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return s(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==i.a.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==i.a.POINTERDOWN){var r=this.handleDownEvent(t);r&&t.preventDefault(),this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==i.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===i.a.POINTERDOWN||e===i.a.POINTERDRAG||e===i.a.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==i.a.POINTERUP?delete this.trackedPointers_[n]:(t.type==i.a.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Object(a.c)(this.trackedPointers_)}},e}(o.a);function c(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}e.b=u},function(t,e,n){"use strict";function r(t,e,n,r,i,o){for(var a=o||[],s=0,u=e;u<n;u+=r){var c=t[u],l=t[u+1];a[s++]=i[0]*c+i[2]*l+i[4],a[s++]=i[1]*c+i[3]*l+i[5]}return o&&a.length!=s&&(a.length=s),a}function i(t,e,n,r,i,o,a){for(var s=a||[],u=Math.cos(i),c=Math.sin(i),l=o[0],h=o[1],f=0,p=e;p<n;p+=r){var d=t[p]-l,y=t[p+1]-h;s[f++]=l+d*u-y*c,s[f++]=h+d*c+y*u;for(var g=p+2;g<p+r;++g)s[f++]=t[g]}return a&&s.length!=f&&(s.length=f),s}function o(t,e,n,r,i,o,a,s){for(var u=s||[],c=a[0],l=a[1],h=0,f=e;f<n;f+=r){var p=t[f]-c,d=t[f+1]-l;u[h++]=c+i*p,u[h++]=l+o*d;for(var y=f+2;y<f+r;++y)u[h++]=t[y]}return s&&u.length!=h&&(u.length=h),u}function a(t,e,n,r,i,o,a){for(var s=a||[],u=0,c=e;c<n;c+=r){s[u++]=t[c]+i,s[u++]=t[c+1]+o;for(var l=c+2;l<c+r;++l)s[u++]=t[l]}return a&&s.length!=u&&(s.length=u),s}n.d(e,"c",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a})},function(t,e,n){"use strict";n.d(e,"e",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l});var r=n(5);function i(t,e,n,i,o,a,s){var u,c=t[e],l=t[e+1],h=t[n]-c,f=t[n+1]-l;if(0===h&&0===f)u=e;else{var p=((o-c)*h+(a-l)*f)/(h*h+f*f);if(p>1)u=n;else{if(p>0){for(var d=0;d<i;++d)s[d]=Object(r.c)(t[e+d],t[n+d],p);return void(s.length=i)}u=e}}for(d=0;d<i;++d)s[d]=t[u+d];s.length=i}function o(t,e,n,i,o){var a=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var u=t[e],c=t[e+1],l=Object(r.f)(a,s,u,c);l>o&&(o=l),a=u,s=c}return o}function a(t,e,n,r,i){for(var a=0,s=n.length;a<s;++a){var u=n[a];i=o(t,e,u,r,i),e=u}return i}function s(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var u=n[o];i=a(t,e,u,r,i),e=u[u.length-1]}return i}function u(t,e,n,o,a,s,u,c,l,h,f){if(e==n)return h;var p,d;if(0===a){if((d=Object(r.f)(u,c,t[e],t[e+1]))<h){for(p=0;p<o;++p)l[p]=t[e+p];return l.length=o,d}return h}for(var y=f||[NaN,NaN],g=e+o;g<n;)if(i(t,g-o,g,o,u,c,y),(d=Object(r.f)(u,c,y[0],y[1]))<h){for(h=d,p=0;p<o;++p)l[p]=y[p];l.length=o,g+=o}else g+=o*Math.max((Math.sqrt(d)-Math.sqrt(h))/a|0,1);if(s&&(i(t,n-o,e,o,u,c,y),(d=Object(r.f)(u,c,y[0],y[1]))<h)){for(h=d,p=0;p<o;++p)l[p]=y[p];l.length=o}return h}function c(t,e,n,r,i,o,a,s,c,l,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var y=n[p];l=u(t,e,y,r,i,o,a,s,c,l,f),e=y}return l}function l(t,e,n,r,i,o,a,s,u,l,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var y=n[p];l=c(t,e,y,r,i,o,a,s,u,l,f),e=y[y.length-1]}return l}},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}function i(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)t[e++]=a[s];return e}function o(t,e,n,r,o){for(var a=o||[],s=0,u=0,c=n.length;u<c;++u){var l=i(t,e,n[u],r);a[s++]=l,e=l}return a.length=s,a}function a(t,e,n,r,i){for(var a=i||[],s=0,u=0,c=n.length;u<c;++u){var l=o(t,e,n[u],r,a[s]);a[s++]=l,e=l[l.length-1]}return a.length=s,a}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a})},function(t,e,n){"use strict";function r(t){return t[0]>0&&t[1]>0}function i(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(61);function i(t){return Array.isArray(t)?Object(r.c)(t):t}},function(t,e,n){"use strict";n.r(e);var r,i=n(0),o=n(2),a=n(31),s=n(39),u=n(5),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return c(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=Object(u.f)(t,e,i[0],i[1]);if(o<r){for(var a=this.stride,s=0;s<a;++s)n[s]=i[s];return n.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return o.a.POINT},e.prototype.intersectsExtent=function(t){return Object(i.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.default=l},function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";n.r(e);var r=n(5);function i(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r}function o(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function a(t,e){var n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1],a=t[0]-i,s=t[1]-o;0===a&&0===s&&(a=1);var u=Math.sqrt(a*a+s*s);return[i+n*a/u,o+n*s/u]}function s(t,e){var n,r,i=t[0],o=t[1],a=e[0],s=e[1],u=a[0],c=a[1],l=s[0],h=s[1],f=l-u,p=h-c,d=0===f&&0===p?0:(f*(i-u)+p*(o-c))/(f*f+p*p||0);return d<=0?(n=u,r=c):d>=1?(n=l,r=h):(n=u+d*f,r=c+d*p),[n,r]}function u(t){return function(e){return v(e,t)}}function c(t,e,n){var o=Object(r.d)(e+180,360)-180,a=Math.abs(3600*o),s=n||0,u=Math.pow(10,s),c=Math.floor(a/3600),l=Math.floor((a-3600*c)/60),h=a-3600*c-60*l;return(h=Math.ceil(h*u)/u)>=60&&(h=0,l+=1),l>=60&&(l=0,c+=1),c+"° "+i(l,2)+"′ "+i(h,2,s)+"″"+(0==o?"":" "+t.charAt(o<0?1:0))}function l(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function h(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function f(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t}function p(t,e){return t[0]*=e,t[1]*=e,t}function d(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function y(t,e){return Math.sqrt(d(t,e))}function g(t,e){return d(t,s(t,e))}function _(t,e){return t?c("NS",t[1],e)+" "+c("EW",t[0],e):""}function v(t,e){return l(t,"{x}, {y}",e)}n.d(e,"add",function(){return o}),n.d(e,"closestOnCircle",function(){return a}),n.d(e,"closestOnSegment",function(){return s}),n.d(e,"createStringXY",function(){return u}),n.d(e,"degreesToStringHDMS",function(){return c}),n.d(e,"format",function(){return l}),n.d(e,"equals",function(){return h}),n.d(e,"rotate",function(){return f}),n.d(e,"scale",function(){return p}),n.d(e,"squaredDistance",function(){return d}),n.d(e,"distance",function(){return y}),n.d(e,"squaredDistanceToSegment",function(){return g}),n.d(e,"toStringHDMS",function(){return _}),n.d(e,"toStringXY",function(){return v})},function(t,e,n){"use strict";var r,i=n(52),o=n(16),a=n(27),s=n(11),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return u(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new a.a(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,i=this.listeners_[n];if(i){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var s=0,u=i.length;s<u;++s)if(!1===i[s].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var c=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];c--;)this.removeEventListener(n,o.c);delete this.dispatching_[n]}return r}},e.prototype.disposeInternal=function(){Object(s.b)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(t in this.pendingRemovals_?(n[r]=o.c,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(i.a);e.a=c},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c});var r=n(5);function i(t,e,n,i,o,a,s){var u=(n-e)/i;if(u<3){for(;e<n;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var c=new Array(u);c[0]=1,c[u-1]=1;for(var l=[e,n-i],h=0;l.length>0;){for(var f=l.pop(),p=l.pop(),d=0,y=t[p],g=t[p+1],_=t[f],v=t[f+1],m=p+i;m<f;m+=i){var b=t[m],O=t[m+1],E=Object(r.g)(b,O,y,g,_,v);E>d&&(h=m,d=E)}d>o&&(c[(h-e)/i]=1,p+i<h&&l.push(p,h),h+i<f&&l.push(h,f))}for(m=0;m<u;++m)c[m]&&(a[s++]=t[e+m*i],a[s++]=t[e+m*i+1]);return s}function o(t,e,n,r,o,a,s,u){for(var c=0,l=n.length;c<l;++c){var h=n[c];s=i(t,e,h,r,o,a,s),u.push(s),e=h}return s}function a(t,e){return e*Math.round(t/e)}function s(t,e,n,r,i,o,s){if(e==n)return s;var u,c,l=a(t[e],i),h=a(t[e+1],i);e+=r,o[s++]=l,o[s++]=h;do{if(u=a(t[e],i),c=a(t[e+1],i),(e+=r)==n)return o[s++]=u,o[s++]=c,s}while(u==l&&c==h);for(;e<n;){var f=a(t[e],i),p=a(t[e+1],i);if(e+=r,f!=u||p!=c){var d=u-l,y=c-h,g=f-l,_=p-h;d*_==y*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(y<0&&_<y||y==_||y>0&&_>y)?(u=f,c=p):(o[s++]=u,o[s++]=c,l=u,h=c,u=f,c=p)}}return o[s++]=u,o[s++]=c,s}function u(t,e,n,r,i,o,a,u){for(var c=0,l=n.length;c<l;++c){var h=n[c];a=s(t,e,h,r,i,o,a),u.push(a),e=h}return a}function c(t,e,n,r,i,o,a,s){for(var c=0,l=n.length;c<l;++c){var h=n[c],f=[];a=u(t,e,h,r,i,o,a,f),s.push(f),e=h[h.length-1]}return a}},function(t,e,n){"use strict";var r,i=n(12),o=n(0),a=n(20),s=n(2),u=n(31),c=n(71),l=n(38),h=n(39),f=n(32),p=n(46),d=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return d(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(o.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,a.a.XY)},e.prototype.getType=function(){return s.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(h.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(u.a),g=n(42),_=n(82),v=n(48),m=n(96),b=n(60),O=n(65);n(5),n.d(e,"a",function(){return w}),n.d(e,"c",function(){return j});var E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return E(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(o.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return Object(v.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(c.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(O.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(f.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(o.getCenter)(this.getExtent());this.flatInteriorPoint_=Object(m.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new g.default(this.getFlatInteriorPoint(),a.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new y(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new y(e.slice(i,s),t);r.push(u),i=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(O.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(O.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Object(p.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,a.a.XY,r)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(b.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(h.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(u.a);function w(t,e,n,r){for(var o=n||32,s=[],u=0;u<o;++u)Object(i.c)(s,Object(_.b)(t,e,2*Math.PI*u/o,r));return s.push(s[0],s[1]),new x(s,a.a.XY,[s.length])}function j(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new x(o,a.a.XY,[o.length])}e.b=x},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s});var r=n(0);function i(t,e,n,i,a){return!Object(r.forEachCorner)(a,function(r){return!o(t,e,n,i,r[0],r[1])})}function o(t,e,n,r,i,o){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var c=t[e],l=t[e+1];u<=o?l>o&&(c-s)*(o-u)-(i-s)*(l-u)>0&&a++:l<=o&&(c-s)*(o-u)-(i-s)*(l-u)<0&&a--,s=c,u=l}return 0!==a}function a(t,e,n,r,i,a){if(0===n.length)return!1;if(!o(t,e,n[0],r,i,a))return!1;for(var s=1,u=n.length;s<u;++s)if(o(t,n[s-1],n[s],r,i,a))return!1;return!0}function s(t,e,n,r,i,o){if(0===n.length)return!1;for(var s=0,u=n.length;s<u;++s){var c=n[s];if(a(t,e,c,r,i,o))return!0;e=c[c.length-1]}return!1}},function(t,e,n){"use strict";n.d(e,"b",function(){return d});var r,i=n(6),o=n(7),a=n(14),s=n(104),u=n(19),c=n(11),l=n(50),h=n(43),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=this,r=Object(c.a)({},e);delete r.source,(n=t.call(this,r)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(Object(a.b)(u.a.SOURCE),n.handleSourcePropertyChange_);var i=e.source?e.source:null;return n.setSource(i),n}return f(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(u.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.a)(t,o.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.a)(t,l.a.PRECOMPOSE,function(t){t.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=Object(i.a)(this,o.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(u.a.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e}(s.a);function d(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}e.a=p},function(t,e,n){"use strict";e.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n(11);var r={};function i(){r={}}function o(t,e,n){var i=t.getCode(),o=e.getCode();i in r||(r[i]={}),r[i][o]=n}function a(t,e){var n;return t in r&&e in r[t]&&(n=r[t][e]),n}},function(t,e,n){"use strict";var r=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();e.a=r},function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n(5);function i(t){return void 0!==t?0:void 0}function o(t){return void 0!==t?t:void 0}function a(t){var e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function s(t){var e=t||Object(r.i)(5);return function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}},function(t,e,n){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(13)),o=a(n(134));function a(t){return t&&t.__esModule?t:{default:t}}o.default.defs([["EPSG:2263","+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=ft +to_meter=0.3048006096012192 +no_defs"],["EPSG:6539","+proj=lcc +lat_1=40.66666666666666 +lat_2=41.03333333333333 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000 +y_0=0 +ellps=GRS80 +units=us-ft +no_defs"]]);var s={proj4:o.default,inherits:function(t,e){s.copyFromParentProperties(t.prototype,e.prototype)},subclass:function(t,e){var n=Object.getPrototypeOf(e);s.copyFromParentProperties(t,n),s.copyFromParentKeys(t,e)},mixin:function(t,e){e.forEach(function(e){i.default.extend(t,e)})},copyFromParentProperties:function(t,e){Object.getOwnPropertyNames(e).forEach(function(n){n in t||(t[n]=e[n])})},copyFromParentKeys:function(t,e){Object.keys(e).forEach(function(n){n in t||(t[n]=e[n])})},capitalize:function(t){var e="";return t.split(" ").forEach(function(t){var n=t.toLowerCase();e+=n.substr(0,1).toUpperCase(),e+=n.substr(1).toLowerCase(),e+=" "}),e.trim()},nextId:function(t){var e=s.uniqueIds[t];return s.uniqueIds[t]="number"==typeof e?e+1:0,"".concat(t,"-").concat(s.uniqueIds[t])},html:function(t){if("function"==typeof t.html)return(0,i.default)(t.html());var e=(0,i.default)('<div class="nyc-html"></div>');return t.getProperties?t=t.getProperties():t.properties&&(t=t.properties),Object.keys(t).forEach(function(n){e.append('<div><span class="fld">'.concat(n,'</span><span class="val">').concat(t[n],"</span></div>"))}),e},loading:function(t){t.hasClass("loading")&&t.append((0,i.default)("#loading").get(0)||s.LOADING_HTML)},ready:function(t){(0,i.default)(t||(0,i.default)("body")).removeClass("loading").attr("aria-hidden",!1),(0,i.default)("#loading").fadeOut()},cacheBust:function(t){var e=6e4*t;return Math.round((new Date).getTime()/e)*e},noSpaceBarScroll:function(){(0,i.default)(document).keypress(s.noSpaceBarHandler)},noSpaceBarHandler:function(t){var e=t.target.tagName;if(-1===i.default.inArray(e,["INPUT","TEXTAREA","SELECT"])){var n=t.key;if(i.default.inArray(n,[" ","Enter"])>-1){var r=(0,i.default)(t.target),o=r.attr("href");t.preventDefault(),o&&"#"!==o?r.attr("target")?window.open(o):s.location(o):r.trigger("click")}}},location:function(t){window.location=t},activeElement:function(){var t=document.activeElement;return{activeElement:t,isTextInput:"INPUT"===t.tagName&&"text"===t.type}},removeDups:function(t){var e={},n=[];return t.forEach(function(t){e[t]=r(t)}),Object.keys(e).forEach(function(t){n.push("number"===e[t]?1*t:t)}),n},uniqueIds:{},LOADING_HTML:'<div id="loading"><div><svg xmlns="http://www.w3.org/2000/svg" width="152" height="52"><g transform="translate(1.5,0)"><polygon points="15.5,1.2 3.1,1.2 0,4.3 0,47.7 3.1,50.8 15.5,50.8 18.6,47.7 18.6,35.3 34.1,50.8 46.6,50.8 49.7,47.7 49.7,4.3 46.6,1.2 34.1,1.2 31,4.3 31,16.7 "/><polygon points="83.8,47.7 83.8,38.4 99.3,22.9 99.3,10.5 99.3,4.3 96.2,1.2 83.8,1.2 80.7,4.3 80.7,10.5 74.5,16.7 68.3,10.5 68.3,4.3 65.2,1.2 52.8,1.2 49.7,4.3 49.7,22.9 65.2,38.4 65.2,47.7 68.3,50.8 80.7,50.8 "/><polygon points="145.9,29.1 130.4,29.1 130.4,32.2 118,32.2 118,19.8 130.4,19.8 130.4,22.9 145.9,22.9 149,19.8 149,10.5 139.7,1.2 108.6,1.2 99.3,10.5 99.3,41.5 108.6,50.8 139.7,50.8 149,41.5 149,32.2 "/></g></svg><h1>maps.nyc.gov</h1></div></div>'};(0,i.default)(document).ready(function(){s.loading((0,i.default)("body"))});var u=s;e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(66),i=n(40),o=n(0),a=n(68),s=n(3),u=n(25),c=n(10),l=n(69),h=n(12),f=n(5),p=n(34),d=[0,0,0],y=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(c.a)(Object(h.d)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(c.a)(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=Object(o.getTopLeft)(a)),Object(c.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(c.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.b,Object(c.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new l.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,o,a,s=null,u=t[0]-1;for(2===this.zoomFactor_?(o=t[1],a=t[2]):s=this.getTileCoordExtent(t,r);u>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),i=Object(l.a)(o,o,a,a,n)):i=this.getTileRangeForExtentAndZ(s,u,n),e(u,i))return!0;--u}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return Object(l.a)(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),a=this.getResolution(t),s=Object(i.c)(this.getTileSize(t),this.tmpSize_),u=r[0]+e.minX*s[0]*a,c=r[0]+(e.maxX+1)*s[0]*a,l=r[1]+e.minY*s[1]*a,h=r[1]+(e.maxY+1)*s[1]*a;return Object(o.createOrUpdate)(u,l,c,h,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=d;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),Object(l.a)(i,r[1],o,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Object(i.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),a=Object(i.c)(this.getTileSize(t[0]),this.tmpSize_),s=n[0]+t[1]*a[0]*r,u=n[1]-(t[2]+1)*a[1]*r,c=s+a[0]*r,l=u+a[1]*r;return Object(o.createOrUpdate)(s,u,c,l,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,o){var a=this.getZForResolution(n),s=n/this.getResolution(a),u=this.getOrigin(a),c=Object(i.c)(this.getTileSize(a),this.tmpSize_),l=r?.5:0,h=r?.5:0,f=Math.floor((t-u[0])/n+l),d=Math.floor((u[1]-e)/n+h),y=s*f/c[0],g=s*d/c[1];return r?(y=Math.ceil(y)-1,g=Math.ceil(g)-1):(y=Math.floor(y),g=Math.floor(g)),Object(p.a)(a,y,g,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,o){var a=this.getOrigin(n),s=this.getResolution(n),u=Object(i.c)(this.getTileSize(n),this.tmpSize_),c=r?.5:0,l=r?.5:0,h=Math.floor((t-a[0])/s+c),f=Math.floor((a[1]-e)/s+l),d=h/u[0],y=f/u[1];return r?(d=Math.ceil(d)-1,y=Math.ceil(y)-1):(d=Math.floor(d),y=Math.floor(y)),Object(p.a)(n,d,y,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){var n=Object(h.e)(this.resolutions_,t,e||0);return Object(f.a)(n,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();function g(t){var e=t.getDefaultTileGrid();return e||(e=O(t),t.setDefaultTileGrid(e)),e}function _(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),a=E(n);if(Object(o.containsCoordinate)(a,i))return e;var s=Object(o.getWidth)(a),u=Math.ceil((a[0]-i[0])/s);return i[0]+=s*u,t.getTileCoordForCoordAndZ(i,r)}function v(t,e,n,r){var i=void 0!==r?r:a.a.TOP_LEFT,s=b(t,e,n);return new y({extent:t,origin:Object(o.getCorner)(t,i),resolutions:s,tileSize:n})}function m(t){var e=t||{},n=e.extent||Object(s.get)("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:b(n,e.maxZoom,e.tileSize)};return new y(r)}function b(t,e,n){for(var a=void 0!==e?e:r.a,s=Object(o.getHeight)(t),u=Object(o.getWidth)(t),c=Object(i.c)(void 0!==n?n:r.b),l=Math.max(u/c[0],s/c[1]),h=a+1,f=new Array(h),p=0;p<h;++p)f[p]=l/Math.pow(2,p);return f}function O(t,e,n,r){return v(E(t),e,n,r)}function E(t){var e=(t=Object(s.get)(t)).getExtent();if(!e){var n=180*s.METERS_PER_UNIT[u.b.DEGREES]/t.getMetersPerUnit();e=Object(o.createOrUpdate)(-n,-n,n,n)}return e}n.d(e,"getForProjection",function(){return g}),n.d(e,"wrapX",function(){return _}),n.d(e,"createForExtent",function(){return v}),n.d(e,"createXYZ",function(){return m}),n.d(e,"createForProjection",function(){return O}),n.d(e,"extentFromProjection",function(){return E})},function(t,e,n){"use strict";n.r(e),e.default={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,n){"use strict";var r=n(25),i=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||r.a[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c});var r=n(0),i=n(48),o=n(94);function a(t,e,n,i,a){var s=Object(r.extendFlatCoordinates)(Object(r.createEmpty)(),t,e,n,i);return!!Object(r.intersects)(a,s)&&(!!Object(r.containsExtent)(a,s)||s[0]>=a[0]&&s[2]<=a[2]||s[1]>=a[1]&&s[3]<=a[3]||Object(o.a)(t,e,n,i,function(t,e){return Object(r.intersectsSegment)(a,t,e)}))}function s(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){if(a(t,e,n[o],r,i))return!0;e=n[o]}return!1}function u(t,e,n,r,o){if(!function(t,e,n,r,o){return!!(a(t,e,n,r,o)||Object(i.b)(t,e,n,r,o[0],o[1])||Object(i.b)(t,e,n,r,o[0],o[3])||Object(i.b)(t,e,n,r,o[2],o[1])||Object(i.b)(t,e,n,r,o[2],o[3]))}(t,e,n[0],r,o))return!1;if(1===n.length)return!0;for(var s=1,u=n.length;s<u;++s)if(Object(i.a)(t,n[s-1],n[s],r,o)&&!a(t,n[s-1],n[s],r,o))return!1;return!0}function c(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(u(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return h}),n.d(e,"c",function(){return p});var r=n(10),i=n(5),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(t){return"string"==typeof t?t:p(t)}var u,c,l=(u={},c=0,function(t){var e;if(u.hasOwnProperty(t))e=u[t];else{if(c>=1024){var n=0;for(var i in u)0==(3&n++)&&(delete u[i],--c)}e=function(t){var e,n,i,s,u;if(a.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),o.exec(t)){var c,l=t.length-1;c=l<=4?1:2;var h=4===l||8===l;e=parseInt(t.substr(1+0*c,c),16),n=parseInt(t.substr(1+1*c,c),16),i=parseInt(t.substr(1+2*c,c),16),s=h?parseInt(t.substr(1+3*c,c),16):255,1==c&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,h&&(s=(s<<4)+s)),u=[e,n,i,s/255]}else 0==t.indexOf("rgba(")?f(u=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((u=t.slice(4,-1).split(",").map(Number)).push(1),f(u)):Object(r.a)(!1,14);return u}(t),u[t]=e,++c}return e});function h(t){return Array.isArray(t)?t:l(t)}function f(t){return t[0]=Object(i.a)(t[0]+.5|0,0,255),t[1]=Object(i.a)(t[1]+.5|0,0,255),t[2]=Object(i.a)(t[2]+.5|0,0,255),t[3]=Object(i.a)(t[3],0,1),t}function p(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return h});var r=n(1),i=n(18),o=n(2),a=n(22),s={Point:function(t,e,n,r){var o=n.getImage();if(o){if(o.getImageState()!=i.a.LOADED)return;var s=t.getBuilder(n.getZIndex(),a.a.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,r)}var u=n.getText();if(u){var c=t.getBuilder(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!!o)),c.drawText(e,r)}},LineString:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getBuilder(n.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),a.a.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},Polygon:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var s=t.getBuilder(n.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(i,o),s.drawPolygon(e,r)}var u=n.getText();if(u){var c=t.getBuilder(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!1)),c.drawText(e,r)}},MultiPoint:function(t,e,n,r){var o=n.getImage();if(o){if(o.getImageState()!=i.a.LOADED)return;var s=t.getBuilder(n.getZIndex(),a.a.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,r)}var u=n.getText();if(u){var c=t.getBuilder(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!!o)),c.drawText(e,r)}},MultiLineString:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getBuilder(n.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),a.a.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},MultiPolygon:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(o||i){var s=t.getBuilder(n.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(i,o),s.drawMultiPolygon(e,r)}var u=n.getText();if(u){var c=t.getBuilder(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!1)),c.drawText(e,r)}},GeometryCollection:function(t,e,n,r){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i)(0,s[a[i].getType()])(t,a[i],n,r)},Circle:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var s=t.getBuilder(n.getZIndex(),a.a.CIRCLE);s.setFillStrokeStyle(i,o),s.drawCircle(e,r)}var u=n.getText();if(u){var c=t.getBuilder(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!1)),c.drawText(e,r)}}};function u(t,e){return parseInt(Object(r.c)(t),10)-parseInt(Object(r.c)(e),10)}function c(t,e){var n=l(t,e);return n*n}function l(t,e){return.5*t/e}function h(t,e,n,r,u,c){var l=!1,h=n.getImage();if(h){var f=h.getImageState();f==i.a.LOADED||f==i.a.ERROR?h.unlistenImageChange(u):(f==i.a.IDLE&&h.load(),f=h.getImageState(),h.listenImageChange(u),l=!0)}return function(t,e,n,r,i){var u=n.getGeometryFunction()(e);if(u){var c=u.simplifyTransformed(r,i);n.getRenderer()?function t(e,n,r,i){if(n.getType()!=o.a.GEOMETRY_COLLECTION)e.getBuilder(r.getZIndex(),a.a.DEFAULT).drawCustom(n,i,r.getRenderer());else for(var s=n.getGeometries(),u=0,c=s.length;u<c;++u)t(e,s[u],r,i)}(t,c,n,e):(0,s[c.getType()])(t,c,n,e)}}(t,e,n,r,c),l}},function(t,e,n){"use strict";var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e.a=r},function(t,e,n){"use strict";function r(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function i(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=(s-o)*(u+a),o=s,a=u}return i>0}function o(t,e,n,r,o){for(var a=void 0!==o&&o,s=0,u=n.length;s<u;++s){var c=n[s],l=i(t,e,c,r);if(0===s){if(a&&l||!a&&!l)return!1}else if(a&&!l||!a&&l)return!1;e=c}return!0}function a(t,e,n,r,i){for(var a=0,s=n.length;a<s;++a){var u=n[a];if(!o(t,e,u,r,i))return!1;u.length&&(e=u[u.length-1])}return!0}function s(t,e,n,o,a){for(var s=void 0!==a&&a,u=0,c=n.length;u<c;++u){var l=n[u],h=i(t,e,l,o);(0===u?s&&h||!s&&!h:s&&!h||!s&&h)&&r(t,e,l,o),e=l}return e}function u(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o)e=s(t,e,n[o],r,i);return e}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return u})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=42,i=256},function(t,e,n){"use strict";n.r(e),n.d(e,"toFunction",function(){return l}),n.d(e,"createDefaultStyle",function(){return f}),n.d(e,"createEditingStyle",function(){return p});var r=n(10),i=n(2),o=n(84),a=n(73),s=n(64);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=d,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===u(e)&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function l(t){var e,n;"function"==typeof t?e=t:(Array.isArray(t)?n=t:(Object(r.a)("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n});return e}var h=null;function f(t,e){if(!h){var n=new a.a({color:"rgba(255,255,255,0.4)"}),r=new s.a({color:"#3399CC",width:1.25});h=[new c({image:new o.a({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return h}function p(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[i.a.POLYGON]=[new c({fill:new a.a({color:[255,255,255,.5]})})],t[i.a.MULTI_POLYGON]=t[i.a.POLYGON],t[i.a.LINE_STRING]=[new c({stroke:new s.a({color:e,width:5})}),new c({stroke:new s.a({color:n,width:3})})],t[i.a.MULTI_LINE_STRING]=t[i.a.LINE_STRING],t[i.a.CIRCLE]=t[i.a.POLYGON].concat(t[i.a.LINE_STRING]),t[i.a.POINT]=[new c({image:new o.a({radius:6,fill:new a.a({color:n}),stroke:new s.a({color:e,width:1.5})}),zIndex:1/0})],t[i.a.MULTI_POINT]=t[i.a.POINT],t[i.a.GEOMETRY_COLLECTION]=t[i.a.POLYGON].concat(t[i.a.LINE_STRING],t[i.a.POINT]),t}function d(t){return t.getGeometry()}e.default=c},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function i(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)}e.b=r},function(t,e,n){"use strict";n.r(e),n.d(e,"transformGeometryWithOptions",function(){return u}),n.d(e,"transformExtentWithOptions",function(){return c});var r=n(11),i=n(1),o=n(3),a=n(25),s=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?Object(o.get)(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===a.b.TILE_PIXELS&&(r=Object(o.get)(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return Object(r.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Object(i.b)()},t.prototype.readFeature=function(t,e){return Object(i.b)()},t.prototype.readFeatures=function(t,e){return Object(i.b)()},t.prototype.readGeometry=function(t,e){return Object(i.b)()},t.prototype.readProjection=function(t){return Object(i.b)()},t.prototype.writeFeature=function(t,e){return Object(i.b)()},t.prototype.writeFeatures=function(t,e){return Object(i.b)()},t.prototype.writeGeometry=function(t,e){return Object(i.b)()},t}();function u(t,e,n){var r,i=n?Object(o.get)(n.featureProjection):null,a=n?Object(o.get)(n.dataProjection):null;if(r=i&&a&&!Object(o.equivalent)(i,a)?(e?t.clone():t).transform(e?i:a,e?a:i):t,e&&n&&void 0!==n.decimals){var s=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return r}function c(t,e){var n=e?Object(o.get)(e.featureProjection):null,r=e?Object(o.get)(e.dataProjection):null;return n&&r&&!Object(o.equivalent)(n,r)?Object(o.transformExtent)(t,r,n):t}e.default=s},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=a*s-o*u,o=s,a=u}return i/2}function i(t,e,n,i){for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];o+=r(t,e,u,i),e=u}return o}function o(t,e,n,r){for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];o+=i(t,e,u,r),e=u[u.length-1]}return o}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(61);function i(t,e,n){return e+":"+t+":"+(n?Object(r.b)(n):"null")}var o=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=i(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var o=i(t,e,n);this.cache_[o]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}())},function(t,e,n){"use strict";var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e.a=r},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=(i=n(13))&&i.__esModule?i:{default:i},a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.evtHdlrs={}}var e,n;return e=t,(n=[{key:"on",value:function(t,e,n){this.addHdlr(t,e,n)}},{key:"one",value:function(t,e,n){this.addHdlr(t,e,n,!0)}},{key:"trigger",value:function(t,e){var n=this.evtHdlrs[t],r=[];n&&(n.forEach(function(t){t.scope?t.handler.call(t.scope,e):t.handler(e),t.remove&&r.push(t)}),r.forEach(function(t){n.splice(o.default.inArray(t,n),1)}))}},{key:"off",value:function(t,e,n){var r=this.evtHdlrs[t];r.forEach(function(t,i){if(t.handler===e&&t.scope===n)return r.splice(i,1),!1})}},{key:"addHdlr",value:function(t,e,n,r){this.evtHdlrs[t]=this.evtHdlrs[t]||[],this.evtHdlrs[t].push({handler:e,scope:n,remove:r})}}])&&r(e.prototype,n),t}();a.Handler;var s=a;e.default=s},function(t,e,n){"use strict";n.r(e);var r,i=n(17),o=n(33),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this,{handleEvent:u})||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return a(e,t),e}(o.a);function u(t){var e=!1;if(t.type==i.a.DBLCLICK){var n=t.originalEvent,r=t.map,a=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,u=r.getView();Object(o.c)(u,s,a,this.duration_),t.preventDefault(),e=!0}return!e}e.default=s},function(t,e,n){"use strict";n.r(e);var r,i=n(44),o=n(29),a=n(21),s=n(16),u=n(36),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this,{stopDown:s.a})||this,r=e||{};return n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=r.condition?r.condition:h,n.noKinetic_=!1,n}return c(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=Object(u.a)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],o=t.map.getView();Object(i.scale)(r,o.getResolution()),Object(i.rotate)(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),a=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(a),u=e.getCoordinateFromPixelInternal([s[0]-r*Math.cos(i),s[1]-r*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(u),duration:500,easing:o.b})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(u.b);function h(t){return Object(a.f)(t)&&Object(a.g)(t)}e.default=l},function(t,e,n){"use strict";n.r(e);var r,i=n(16),o=n(36),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=this,r=e||{},o=r;return o.stopDown||(o.stopDown=i.a),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return a(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,a=n.clientY-r.clientY,s=Math.sqrt(i*i+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var u=t.map,c=u.getView();1!=e&&(this.lastScaleDelta_=e);var l=u.getViewport().getBoundingClientRect(),h=Object(o.a)(this.targetPointers);h[0]-=l.left,h[1]-=l.top,this.anchor_=u.getCoordinateFromPixelInternal(h),u.render(),c.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o.b);e.default=s},function(t,e,n){"use strict";n.r(e);var r,i=n(7),o=n(21),a=n(33),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=t.call(this,{handleEvent:c})||this,r=e||{};return n.condition_=r.condition?r.condition:o.i,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return s(e,t),e}(a.a);function c(t){var e=!1;if(t.type==i.a.KEYDOWN||t.type==i.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,o=n=="+".charCodeAt(0)?this.delta_:-this.delta_,s=r.getView();Object(a.c)(s,o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=u},function(t,e,n){"use strict";n.r(e),n.d(e,"Mode",function(){return l});var r,i=n(21),o=n(7),a=n(30),s=n(33),u=n(5),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l={TRACKPAD:"trackpad",WHEEL:"wheel"},h=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.condition_=r.condition?r.condition:i.b,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return c(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==o.a.WHEEL)return!0;t.preventDefault();var e,n=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==o.a.WHEEL&&(e=r.deltaY,a.b&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=a.a),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();if(void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?l.TRACKPAD:l.WHEEL),this.mode_===l.TRACKPAD){var s=n.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),s.adjustZoom(-e/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1}this.totalDelta_+=e;var u=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),u),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=Object(u.a)(this.totalDelta_,-this.maxDelta_,this.maxDelta_);Object(s.c)(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(s.a);e.default=h},function(t,e,n){"use strict";n.r(e);var r,i=n(29),o=n(21),a=n(0),s=n(90),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=this,r=e||{},i=r.condition?r.condition:o.h;return(n=t.call(this,{condition:i,className:r.className||"ol-dragzoom",minArea:r.minArea,onBoxEnd:l})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return u(e,t),e}(s.a);function l(){var t=this.getMap(),e=t.getView(),n=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var o=e.calculateExtentInternal(n),s=Object(a.createOrUpdateFromCoordinates)([t.getPixelFromCoordinateInternal(Object(a.getBottomLeft)(r)),t.getPixelFromCoordinateInternal(Object(a.getTopRight)(r))]),u=e.getResolutionForExtentInternal(s,n);Object(a.scaleFromCenter)(o,1/u),r=o}var c=e.getConstrainedResolution(e.getResolutionForExtentInternal(r,n)),l=e.getConstrainedCenter(Object(a.getCenter)(r),c);e.animateInternal({resolution:c,center:l,duration:this.duration_,easing:i.b})}e.default=c},function(t,e,n){"use strict";n.r(e);var r,i=n(44),o=n(7),a=37,s=38,u=39,c=40,l=n(21),h=n(33),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=t.call(this,{handleEvent:d})||this,r=e||{};return n.defaultCondition_=function(t){return Object(l.f)(t)&&Object(l.i)(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return f(e,t),e}(h.a);function d(t){var e=!1;if(t.type==o.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==c||n==a||n==u||n==s)){var r=t.map.getView(),l=r.getResolution()*this.pixelDelta_,f=0,p=0;n==c?p=-l:n==a?f=-l:n==u?f=l:p=l;var d=[f,p];Object(i.rotate)(d,r.getRotation()),Object(h.b)(r,d,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=p},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n(5);function i(t,e,n){var i=n||6371008.8,o=Object(r.i)(t[1]),a=Object(r.i)(e[1]),s=(a-o)/2,u=Object(r.i)(e[0]-t[0])/2,c=Math.sin(s)*Math.sin(s)+Math.sin(u)*Math.sin(u)*Math.cos(o)*Math.cos(a);return 2*i*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function o(t,e,n,i){var o=i||6371008.8,a=Object(r.i)(t[1]),s=Object(r.i)(t[0]),u=e/o,c=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(n)),l=s+Math.atan2(Math.sin(n)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(c));return[Object(r.h)(l),Object(r.h)(c)]}n(2)},function(t,e,n){"use strict";var r,i=n(12),o=n(41),a=n(0),s=n(2),u=n(31),c=n(37),l=n(100),h=n(4),f=n(8),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=0,u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=0,u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=Object(f.c)(),u}return p(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=Object(c.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,h=i.length;l<h;l+=2){var p=i[l]-this.imageAnchorX_,d=i[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var y=p+this.imageAnchorX_,g=d+this.imageAnchorY_;Object(f.b)(a,y,g,this.imageScale_,this.imageScale_,u,-y,-g),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Object(c.c)(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,u=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var l=Object(f.b)(this.tmpLocalTransform_,s,u,this.textScale_,this.textScale_,a,-s,-u);o.setTransform.apply(o,l)}this.textStrokeState_&&o.strokeText(this.text_,s,u),this.textFillState_&&o.fillText(this.text_,s,u)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=Object(c.c)(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var u=2;u<s;u+=2)o.lineTo(a[u],a[u+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if(Object(a.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(u.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case s.a.POINT:this.drawPoint(t);break;case s.a.LINE_STRING:this.drawLineString(t);break;case s.a.POLYGON:this.drawPolygon(t);break;case s.a.MULTI_POINT:this.drawMultiPoint(t);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Object(a.intersects)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(a.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var u=0,c=o.length;u<c;++u)i=this.moveToLineTo_(r,i,o[u],s,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,u=i.length;s<u;++s){var c=i[s];r=this.drawRings_(n,r,c,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),e.setLineDash&&(Object(i.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:h.l;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=r&&(n.textAlign=e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Object(o.a)(n||h.b)}}else this.fillState_=null;if(e){var r=e.getColor(),i=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),u=e.getLineJoin(),c=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:h.d,lineDash:a||h.e,lineDashOffset:s||h.f,lineJoin:void 0!==u?u:h.g,lineWidth:this.pixelRatio_*(void 0!==c?c:h.h),miterLimit:void 0!==l?l:h.i,strokeStyle:Object(o.a)(r||h.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Object(o.a)(n||h.b)}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),a=r.getLineCap(),s=r.getLineDash(),u=r.getLineDashOffset(),c=r.getLineJoin(),l=r.getWidth(),f=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.d,lineDash:s||h.e,lineDashOffset:u||h.f,lineJoin:void 0!==c?c:h.g,lineWidth:void 0!==l?l:h.h,miterLimit:void 0!==f?f:h.i,strokeStyle:Object(o.a)(i||h.k)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),y=t.getOffsetY(),g=t.getRotateWithView(),_=t.getRotation(),v=t.getScale(),m=t.getText(),b=t.getTextAlign(),O=t.getTextBaseline();this.textState_={font:void 0!==p?p:h.c,textAlign:void 0!==b?b:h.l,textBaseline:void 0!==O?O:h.m},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==y?this.pixelRatio_*y:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==_?_:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(l.a);e.a=d},function(t,e,n){"use strict";var r,i=n(103),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke})||this}return o(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(i.a);e.a=a},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=l(n(13));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this)).container=(0,c.default)(t),e}return e=s,(n=[{key:"getContainer",value:function(){return this.container}},{key:"find",value:function(t){return this.getContainer().find(t)}},{key:"prepend",value:function(t){return this.getContainer().prepend((0,c.default)(t))}},{key:"append",value:function(t){return this.getContainer().append((0,c.default)(t))}}])&&i(e.prototype,n),s}(l(n(74)).default);e.default=h},function(t,e,n){"use strict";n.r(e);var r,i=n(10),o=n(87),a=n(70),s=n(1),u=n(58),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function l(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}var h=function(t){function e(){return t.call(this)||this}return c(e,t),e.prototype.getType=function(){return u.default.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(s.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(s.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(s.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))},e.prototype.readProjectionFromObject=function(t){return Object(s.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(s.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(s.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(s.b)()},e}(a.default),f=n(6),p=n(7),d=n(0),y=n(93),g=n(2),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function v(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}var m=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return _(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(f.c),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(f.a)(this.geometries_[t],p.a.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<Object(d.closestSquaredDistanceXY)(this.getExtent(),t,e))return r;for(var i=this.geometries_,o=0,a=i.length;o<a;++o)r=i[o].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(d.createOrUpdateEmpty)(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)Object(d.extend)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return v(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,i=!1,o=0,a=r.length;o<a;++o){var s=r[o],u=s.getSimplifiedGeometry(t);n.push(u),u!==s&&(i=!0)}if(i){var c=new e(null);return c.setGeometriesArray(n),c}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return g.a.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=Object(d.getCenter)(this.getExtent()));for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(v(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(y.a),b=n(12),O=n(20),E=n(31),x=n(38),w=n(39),j=n(32),C=n(5);function S(t,e,n,r,i,o){var a=NaN,s=NaN,u=(n-e)/r;if(1===u)a=t[e],s=t[e+1];else if(2==u)a=(1-i)*t[e]+i*t[e+r],s=(1-i)*t[e+1]+i*t[e+r+1];else if(0!==u){for(var c=t[e],l=t[e+1],h=0,f=[0],p=e+r;p<n;p+=r){var d=t[p],y=t[p+1];h+=Math.sqrt((d-c)*(d-c)+(y-l)*(y-l)),f.push(h),c=d,l=y}var g=i*h,_=Object(b.a)(f,g);if(_<0){var v=(g-f[-_-2])/(f[-_-1]-f[-_-2]),m=e+(-_-2)*r;a=Object(C.c)(t[m],t[m+r],v),s=Object(C.c)(t[m+1],t[m+r+1],v)}else a=t[e+_*r],s=t[e+_*r+1]}return o?(o[0]=a,o[1]=s,o):[a,s]}function T(t,e,n,r,i,o){if(n==e)return null;var a;if(i<t[e+r-1])return o?((a=t.slice(e,e+r))[r-1]=i,a):null;if(t[n-1]<i)return o?((a=t.slice(n-r,n))[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,u=n/r;s<u;){var c=s+u>>1;i<t[(c+1)*r-1]?u=c:s=c+1}var l=t[s*r-1];if(i==l)return t.slice((s-1)*r,(s-1)*r+r);var h=(i-l)/(t[(s+1)*r-1]-l);a=[];for(var f=0;f<r-1;++f)a.push(Object(C.c)(t[(s-1)*r+f],t[s*r+f],h));return a.push(i),a}var P=n(60),R=n(95),I=n(94),L=n(46),M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return M(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(b.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(d.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(x.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(x.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return Object(I.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=O.a.XYM&&this.layout!=O.a.XYZM)return null;var n=void 0!==e&&e;return T(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Object(j.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return S(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(R.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(L.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,O.a.XY)},e.prototype.getType=function(){return g.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(P.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(w.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(E.a),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(e[0]))i.setCoordinates(e,n);else if(void 0!==n&&r)i.setFlatCoordinates(n,e),i.ends_=r;else{for(var o=i.getLayout(),a=e,s=[],u=[],c=0,l=a.length;c<l;++c){var h=a[c];0===c&&(o=h.getLayout()),Object(b.c)(s,h.getFlatCoordinates()),u.push(s.length)}i.setFlatCoordinates(o,s),i.ends_=u}return i}return D(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Object(b.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(d.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(x.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(x.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=O.a.XYM&&this.layout!=O.a.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return function(t,e,n,r,i,o,a){if(a)return T(t,e,n[n.length-1],r,i,o);var s;if(i<t[r-1])return o?((s=t.slice(0,r))[r-1]=i,s):null;if(t[t.length-1]<i)return o?((s=t.slice(t.length-r))[r-1]=i,s):null;for(var u=0,c=n.length;u<c;++u){var l=n[u];if(e!=l){if(i<t[e+r-1])return null;if(i<=t[l-1])return T(t,e,l,r,i,!1);e=l}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},e.prototype.getCoordinates=function(){return Object(j.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new A(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,a=e.length;o<a;++o){var s=e[o],u=new A(t.slice(i,s),n);r.push(u),i=s}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,i=this.stride,o=0,a=r.length;o<a;++o){var s=r[o],u=S(e,n,s,i,.5);Object(b.c)(t,u),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Object(L.b)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,O.a.XY,r)},e.prototype.getType=function(){return g.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(P.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(w.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(E.a),k=n(42),N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return N(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Object(b.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){if(r<Object(d.closestSquaredDistanceXY)(this.getExtent(),t,e))return r;for(var i=this.flatCoordinates,o=this.stride,a=0,s=i.length;a<s;a+=o){var u=Object(C.f)(t,e,i[a],i[a+1]);if(u<r){r=u;for(var c=0;c<o;++c)n[c]=i[a+c];n.length=o}}return r},e.prototype.getCoordinates=function(){return Object(j.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new k.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var a=new k.default(t.slice(i,i+n),e);r.push(a)}return r},e.prototype.getType=function(){return g.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,i=e.length;r<i;r+=n){var o=e[r],a=e[r+1];if(Object(d.containsXY)(t,o,a))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(w.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(E.a),Y=n(47),X=n(71),z=n(48),U=n(96),B=n(65),W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=i.getLayout(),a=e,s=[],u=[],c=0,l=a.length;c<l;++c){var h=a[c];0===c&&(o=h.getLayout());for(var f=s.length,p=h.getEnds(),d=0,y=p.length;d<y;++d)p[d]+=f;Object(b.c)(s,h.getFlatCoordinates()),u.push(p)}n=o,e=s,r=u}return void 0!==n&&r?(i.setFlatCoordinates(n,e),i.endss_=r):i.setCoordinates(e,n),i}return W(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Object(b.c)(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,i=(e=t.getEnds().slice()).length;r<i;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(d.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(x.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(x.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return Object(z.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(X.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(B.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(j.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,r){for(var i=[],o=Object(d.createEmpty)(),a=0,s=n.length;a<s;++a){var u=n[a];o=Object(d.createOrUpdateFromFlatCoordinates)(t,e,u[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=u[u.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(U.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new G(this.getFlatInteriorPoints().slice(),O.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(B.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(B.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Object(L.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,O.a.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,a=r.length;o<a;++o)r[o]-=e;return new Y.b(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),u=s[s.length-1];if(0!==i)for(var c=0,l=s.length;c<l;++c)s[c]-=i;var h=new Y.b(e.slice(i,u),t,s);r.push(h),i=u}return r},e.prototype.getType=function(){return g.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(P.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(w.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(E.a),H=n(11),Z=n(3),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).dataProjection=Object(Z.get)(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=Object(Z.get)(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n}return V(e,t),e.prototype.readFeatureFromObject=function(t,e){var n,r=J((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),i=new o.default;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&i.setGeometryName(n.geometry_name),i.setGeometry(r),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,i=0,o=r.length;i<o;++i)n.push(this.readFeatureFromObject(r[i],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return J(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=Object(Z.get)(n.properties.name):Object(i.a)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();void 0!==r&&(n.id=r);var i=t.getGeometry();i&&(n.geometry=Q(i,e));var o=t.getProperties();return delete o[t.getGeometryName()],Object(H.d)(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return Q(t,this.adaptOptions(e))},e}(h);function J(t,e){if(!t)return null;var n;switch(t.type){case g.a.POINT:n=function(t){return new k.default(t.coordinates)}(t);break;case g.a.LINE_STRING:n=function(t){return new A(t.coordinates)}(t);break;case g.a.POLYGON:n=function(t){return new Y.b(t.coordinates)}(t);break;case g.a.MULTI_POINT:n=function(t){return new G(t.coordinates)}(t);break;case g.a.MULTI_LINE_STRING:n=function(t){return new F(t.coordinates)}(t);break;case g.a.MULTI_POLYGON:n=function(t){return new K(t.coordinates)}(t);break;case g.a.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map(function(t){return J(t,void 0)});return new m(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Object(a.transformGeometryWithOptions)(n,!1,e)}function Q(t,e){var n,r=(t=Object(a.transformGeometryWithOptions)(t,!0,e)).getType();switch(r){case g.a.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case g.a.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case g.a.POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case g.a.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case g.a.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case g.a.MULTI_POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case g.a.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=Object(H.a)({},e);return delete n.featureProjection,Q(t,n)})}}(t,e);break;case g.a.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}e.default=q},function(t,e,n){"use strict";n.r(e),n.d(e,"createStyleFunction",function(){return l});var r,i=n(10),o=n(6),a=n(7),s=n(14),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(Object(s.b)(n.geometryName_),n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var i=e;n.setProperties(i)}return n}return u(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(o.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(o.a)(t,a.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?l(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(s.a);function l(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:(Object(i.a)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}e.default=c},function(t,e,n){"use strict";n.r(e);var r,i=n(49),o=n(11),a=n(67),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u="renderOrder",c=function(t){function e(e){var n=this,r=e||{},i=Object(o.a)({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(n=t.call(this,i)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return s(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(u)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(u,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.createDefaultStyle,this.styleFunction_=null===t?void 0:Object(a.toFunction)(this.style_),this.changed()},e}(i.a),l=n(1),h=n(24),f=n(0),p=n(3),d=n(12),y=n(41),g=n(26),_=n(2),v=n(32),m=n(100),b=n(4),O={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},E=[O.FILL],x=[O.STROKE],w=[O.BEGIN_PATH],j=[O.CLOSE_PATH],C=O,S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return S(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,r,i,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=r);var u,c,l,h=t[e],p=t[e+1],d=this.tmpCoordinate_,y=!0;for(u=e+r;u<n;u+=r)d[0]=t[u],d[1]=t[u+1],(l=Object(f.coordinateRelationship)(s,d))!==c?(y&&(this.coordinates[a++]=h,this.coordinates[a++]=p),this.coordinates[a++]=d[0],this.coordinates[a++]=d[1],y=!1):l===g.a.INTERSECTING?(this.coordinates[a++]=d[0],this.coordinates[a++]=d[1],y=!1):y=!0,h=d[0],p=d[1],c=l;return(i&&y||u===e+r)&&(this.coordinates[a++]=h,this.coordinates[a++]=p),a},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatCoordinates(t,e,s,r,!1,!1);i.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,s,u=t.getType(),c=t.getStride(),l=this.coordinates.length;if(u==_.a.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var f=0,p=h.length;f<p;++f){var d=[];s=this.drawCustomCoordinates_(r,s,h[f],c,d),a.push(d)}this.instructions.push([C.CUSTOM,l,a,t,n,v.c])}else u==_.a.POLYGON||u==_.a.MULTI_LINE_STRING?(o=[],r=u==_.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),c,o),this.instructions.push([C.CUSTOM,l,o,t,n,v.b])):u==_.a.LINE_STRING||u==_.a.MULTI_POINT?(r=t.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,c,!1,!1),this.instructions.push([C.CUSTOM,l,i,t,n,v.a])):u==_.a.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([C.CUSTOM,l,i,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var n=t.getExtent();this.beginGeometryInstruction1_=[C.BEGIN_GEOMETRY,e,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[C.BEGIN_GEOMETRY,e,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==C.END_GEOMETRY?o=t:r==C.BEGIN_GEOMETRY&&(n[2]=t,Object(d.g)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=Object(y.a)(r||b.b)}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=Object(y.a)(i||b.k);var o=e.getLineCap();n.lineCap=void 0!==o?o:b.d;var a=e.getLineDash();n.lineDash=a?a.slice():b.e;var s=e.getLineDashOffset();n.lineDashOffset=s||b.f;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:b.g;var c=e.getWidth();n.lineWidth=void 0!==c?c:b.h;var l=e.getMiterLimit();n.miterLimit=void 0!==l?l:b.i,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[C.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[C.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!Object(d.b)(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[C.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(f.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(f.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(m.a),P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return P(e,t),e.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([C.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([C.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([C.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([C.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=r[0]},e}(T),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return I(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,r,!1,!1),a=[C.MOVE_TO_LINE_TO,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],w);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(x),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],w);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),u=0,c=0,l=o.length;c<l;++c)u=this.drawFlatCoordinates_(a,u,o[c],s);this.hitDetectionInstructions.push(x),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(x),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(x),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(w)},e}(T),M=n(46),A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return A(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=void 0!==i.strokeStyle,s=n.length;this.instructions.push(w),this.hitDetectionInstructions.push(w);for(var u=0;u<s;++u){var c=n[u],l=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,r,!0,!a),f=[C.MOVE_TO_LINE_TO,l,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(j),this.hitDetectionInstructions.push(j)),e=c}return o&&(this.instructions.push(E),this.hitDetectionInstructions.push(E)),a&&(this.instructions.push(x),this.hitDetectionInstructions.push(x)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([C.SET_FILL_STYLE,b.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var u=[C.CIRCLE,s];this.instructions.push(w,u),this.hitDetectionInstructions.push(w,u),void 0!==n.fillStyle&&(this.instructions.push(E),this.hitDetectionInstructions.push(E)),void 0!==n.strokeStyle&&(this.instructions.push(x),this.hitDetectionInstructions.push(x)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([C.SET_FILL_STYLE,b.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([C.SET_FILL_STYLE,b.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),u=0,c=0,l=o.length;c<l;++c)u=this.drawFlatCoordinatess_(a,u,o[c],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,i=n.length;r<i;++r)n[r]=Object(M.e)(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(T);function F(t,e,n,r,i){var o,a,s,u,c,l,h,f,p,d=n,y=n,g=0,_=0,v=n;for(o=n;o<r;o+=i){var m=e[o],b=e[o+1];void 0!==u&&(f=m-u,p=b-c,s=Math.sqrt(f*f+p*p),void 0!==l&&(_+=a,Math.acos((l*f+h*p)/(a*s))>t&&(_>g&&(g=_,d=v,y=o),_=0,v=o-i)),a=s,l=f,h=p),u=m,c=b}return(_+=s)>g?[v,o]:[d,y]}var k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},G={Circle:D,Default:T,Image:R,LineString:L,Polygon:D,Text:function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.declutterGroups_,o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",b.o.prune(),o}return k(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var o,a,s=this.coordinates.length,u=t.getType(),c=null,l=2,h=2;if("line"===i.placement){if(!Object(f.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(c=t.getFlatCoordinates(),h=t.getStride(),u==_.a.LINE_STRING)p=[c.length];else if(u==_.a.MULTI_LINE_STRING)p=t.getEnds();else if(u==_.a.POLYGON)p=t.getEnds().slice(0,1);else if(u==_.a.MULTI_POLYGON){var d=t.getEndss();for(p=[],o=0,a=d.length;o<a;++o)p.push(d[o][0])}this.beginGeometry(t,e);for(var y=i.textAlign,g=0,v=void 0,m=0,O=p.length;m<O;++m){if(null==y){var E=F(i.maxAngle,c,g,p[m],h);g=E[0],v=E[1]}else v=p[m];for(o=g;o<v;o+=h)this.coordinates.push(c[o],c[o+1]);l=this.coordinates.length,g=p[m];var x=this.declutterGroups_?0===m?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(s,l,x),s=l}this.endGeometry(e)}else{var w=null;switch(i.overflow||(w=[]),u){case _.a.POINT:case _.a.MULTI_POINT:l=(c=t.getFlatCoordinates()).length;break;case _.a.LINE_STRING:c=t.getFlatMidpoint();break;case _.a.CIRCLE:c=t.getCenter();break;case _.a.MULTI_LINE_STRING:l=(c=t.getFlatMidpoints()).length;break;case _.a.POLYGON:c=t.getFlatInteriorPoint(),i.overflow||w.push(c[2]/this.resolution),h=3;break;case _.a.MULTI_POLYGON:var j=t.getFlatInteriorPoints();for(c=[],o=0,a=j.length;o<a;o+=3)i.overflow||w.push(j[o+2]/this.resolution),c.push(j[o],j[o+1]);if(0==(l=c.length))return}l=this.appendFlatCoordinates(c,0,l,h,!1,!1),this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var S=this.pixelRatio;this.instructions.push([C.DRAW_IMAGE,s,l,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,i.padding==b.j?b.j:i.padding.map(function(t){return t*S}),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,w]),this.hitDetectionInstructions.push([C.DRAW_IMAGE,s,l,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,i.padding,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,w]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||b.l,textBaseline:e.textBaseline||b.m,scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,c=N[i.textBaseline],l=this.textOffsetY_*u,h=this.text_,f=i.scale,p=r?r.lineWidth*f/2:0;this.instructions.push([C.DRAW_CHARS,t,e,c,n,i.overflow,s,i.maxAngle,u,l,o,p*u,h,a,1]),this.hitDetectionInstructions.push([C.DRAW_CHARS,t,e,c,n,i.overflow,s,i.maxAngle,1,l,o,p,h,a,1/u])},e.prototype.setTextStyle=function(t,e){var n,r,i;if(t){this.declutterGroups_=e;var o=t.getFill();o?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=Object(y.a)(o.getColor()||b.b)):r=this.textFillState_=null;var a=t.getStroke();if(a){(i=this.textStrokeState_)||(i=this.textStrokeState_={});var s=a.getLineDash(),u=a.getLineDashOffset(),c=a.getWidth(),h=a.getMiterLimit();i.lineCap=a.getLineCap()||b.d,i.lineDash=s?s.slice():b.e,i.lineDashOffset=void 0===u?b.f:u,i.lineJoin=a.getLineJoin()||b.g,i.lineWidth=void 0===c?b.h:c,i.miterLimit=void 0===h?b.i:h,i.strokeStyle=Object(y.a)(a.getColor()||b.k)}else i=this.textStrokeState_=null;n=this.textState_;var f=t.getFont()||b.c;Object(b.a)(f);var p=t.getScale();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||b.m,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||b.j,n.scale=void 0===p?1:p;var d=t.getOffsetX(),g=t.getOffsetY(),_=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===v?0:v,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:Object(l.c)(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(l.c)(r.fillStyle):""}else this.text_=""},e}(T)},Y=function(){function t(t,e,n,r,i){this.declutter_=i,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=this.declutterGroups_=[Object(f.createEmpty)()])[0].push(1)),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,G[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i),i},t}(),X=n(15),z=n(37),U=n(22),B=n(8),W=n(95),K=n(5);function H(t,e,n,r,i,o,a,s,u,c,l){for(var h,f,p=[],d=t[e]>t[n-r],y=i.length,g=t[e],_=t[e+1],v=t[e+=r],m=t[e+1],b=0,O=Math.sqrt(Math.pow(v-g,2)+Math.pow(m-_,2)),E=!1,x=0;x<y;++x){for(var w=i[h=d?y-x-1:x],j=s*u(c,w,l),C=o+j/2;e<n-r&&b+O<C;)g=v,_=m,v=t[e+=r],m=t[e+1],b+=O,O=Math.sqrt(Math.pow(v-g,2)+Math.pow(m-_,2));var S=C-b,T=Math.atan2(m-_,v-g);if(d&&(T+=T>0?-Math.PI:Math.PI),void 0!==f){var P=T-f;if(E=E||0!==P,P+=P>Math.PI?-2*Math.PI:P<-Math.PI?2*Math.PI:0,Math.abs(P)>a)return null}f=T;var R=S/O,I=Object(K.c)(g,v,R),L=Object(K.c)(_,m,R);p[h]=[I,L,j/2,T,w],o+=j}return E?p:[[p[0][0],p[0][1],p[0][2],p[0][3],i]]}var Z=n(52),V=n(97),q=n.n(V),J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q=Object(f.createEmpty)(),$=Object(B.c)(),tt=[],et=[],nt=[],rt=[],it=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.overlaps=r,o.pixelRatio=n,o.resolution=e,o.alignFill_,o.declutterItems=[],o.instructions=i.instructions,o.coordinates=i.coordinates,o.coordinateCache_={},o.renderedTransform_=Object(B.c)(),o.hitDetectionInstructions=i.hitDetectionInstructions,o.pixelCoordinates_=null,o.viewRotation_=0,o.fillStates=i.fillStates||{},o.strokeStates=i.strokeStates||{},o.textStates=i.textStates||{},o.widths_={},o}return J(e,t),e.prototype.disposeInternal=function(){b.o.release(this),t.prototype.disposeInternal.call(this)},e.prototype.getTextImage=function(t,e,n,r){var i,o=r+e+t+n+this.pixelRatio;if(!b.o.containsKey(o)){var a=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,u=this.textStates[e],c=this.pixelRatio,l=u.scale*c,h=N[u.textAlign||b.l],f=r&&a.lineWidth?a.lineWidth:0,p=t.split("\n"),d=p.length,y=[],g=Object(b.r)(u.font,p,y),_=Object(b.q)(u.font),v=_*d,m=g+f,O=Object(X.a)(Math.ceil((m+2)*l),Math.ceil((v+f)*l));i=O.canvas,b.o.set(o,i),1!=l&&O.scale(l,l),O.font=u.font,r&&(O.strokeStyle=a.strokeStyle,O.lineWidth=f,O.lineCap=a.lineCap,O.lineJoin=a.lineJoin,O.miterLimit=a.miterLimit,O.setLineDash&&a.lineDash.length&&(O.setLineDash(a.lineDash),O.lineDashOffset=a.lineDashOffset)),n&&(O.fillStyle=s.fillStyle),O.textBaseline="middle",O.textAlign="center";var E=.5-h,x=h*m+E*f,w=void 0;if(r)for(w=0;w<d;++w)O.strokeText(p[w],x+E*y[w],.5*(f+_)+w*_);if(n)for(w=0;w<d;++w)O.fillText(p[w],x+E*y[w],.5*(f+_)+w*_)}return b.o.get(o,this)},e.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,r,i,o,a,s,u,c,l,h,p,d,y,g,_,v){var m=_||v;e-=i*=p,n-=o*=p;var O=y+c>r.width?r.width-c:y,E=s+l>r.height?r.height-l:s,x=g[3]+O*p+g[1],w=g[0]+E*p+g[2],j=e-g[3],C=n-g[0];(m||0!==h)&&(tt[0]=rt[0]=j,tt[1]=et[1]=C,et[0]=nt[0]=j+x,nt[1]=rt[1]=C+w);var S=null;if(0!==h){var T=e+i,P=n+o;S=Object(B.b)($,T,P,1,1,h,-T,-P),Object(B.a)($,tt),Object(B.a)($,et),Object(B.a)($,nt),Object(B.a)($,rt),Object(f.createOrUpdate)(Math.min(tt[0],et[0],nt[0],rt[0]),Math.min(tt[1],et[1],nt[1],rt[1]),Math.max(tt[0],et[0],nt[0],rt[0]),Math.max(tt[1],et[1],nt[1],rt[1]),Q)}else Object(f.createOrUpdate)(j,C,j+x,C+w,Q);var R=t.canvas,I=v?v[2]*p/2:0,L=Q[0]-I<=R.width&&Q[2]+I>=0&&Q[1]-I<=R.height&&Q[3]+I>=0;if(d&&(e=Math.round(e),n=Math.round(n)),a){if(!L&&1==a[4])return;Object(f.extend)(a,Q);var M=L?[t,S?S.slice(0):null,u,r,c,l,O,E,e,n,p]:null;M&&(m&&M.push(_,v,tt,et,nt,rt),a.push(M))}else L&&(m&&this.replayTextBackground_(t,tt,et,nt,rt,_,v),Object(b.n)(t,S,u,r,c,l,O,E,e,n,p))},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(B.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter=function(t,e,n,r){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var o={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(r||(r=new q.a(9)),!r.collides(o)){r.insert(o);for(var a=5,s=t.length;a<s;++a){var u=t[a],c=u[0],l=c.globalAlpha;l!==n&&(c.globalAlpha=n),u.length>11&&this.replayTextBackground_(u[0],u[13],u[14],u[15],u[16],u[11],u[12]),b.n.apply(void 0,u),l!==n&&(c.globalAlpha=l)}}t.length=5,Object(f.createOrUpdateEmpty)(t)}}return r},e.prototype.drawTextImageWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.getTextImage(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,u=N[i.textAlign||b.l],c=N[i.textBaseline||b.m],l=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:u*(o.width/s-2*i.scale)+2*(.5-u)*l,anchorY:c*o.height/s+2*(.5-c)*l}},e.prototype.execute_=function(t,e,n,r,i,o){var a;this.declutterItems.length=0,this.pixelCoordinates_&&Object(d.b)(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=Object(z.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(B.h)(this.renderedTransform_,e));for(var s,u,c,l,h,p,y,g,_,v,m,O,E,x,w,j,S,T=0,P=n.length,R=0,I=0,L=0,M=null,A=null,D=this.coordinateCache_,F=this.viewRotation_,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:F},G=this.instructions!=n||this.overlaps?0:200;T<P;){var Y=n[T];switch(Y[0]){case C.BEGIN_GEOMETRY:(w=Y[1]).getGeometry()?void 0===o||Object(f.intersects)(o,Y[3])?++T:T=Y[2]+1:T=Y[2];break;case C.BEGIN_PATH:I>G&&(this.fill_(t),I=0),L>G&&(t.stroke(),L=0),I||L||(t.beginPath(),l=h=NaN),++T;break;case C.CIRCLE:var X=a[R=Y[1]],U=a[R+1],K=a[R+2]-X,Z=a[R+3]-U,V=Math.sqrt(K*K+Z*Z);t.moveTo(X+V,U),t.arc(X,U,V,0,2*Math.PI,!0),++T;break;case C.CLOSE_PATH:t.closePath(),++T;break;case C.CUSTOM:R=Y[1],s=Y[2];var q=Y[3],J=Y[4],Q=6==Y.length?Y[5]:void 0;k.geometry=q,k.feature=w,T in D||(D[T]=[]);var $=D[T];Q?Q(a,R,s,2,$):($[0]=a[R],$[1]=a[R+1],$.length=2),J($,k),++T;break;case C.DRAW_IMAGE:R=Y[1],s=Y[2],v=Y[3],u=Y[4],c=Y[5],_=i?null:Y[6];var tt=Y[7],et=Y[8],nt=Y[9],rt=Y[10],it=Y[11],ot=Y[12],at=Y[13],st=Y[14];if(!v&&Y.length>=19){m=Y[18],O=Y[19],E=Y[20],x=Y[21];var ut=this.drawTextImageWithPointPlacement_(m,O,E,x);v=Y[3]=ut.label;var ct=Y[22];u=Y[4]=(ut.anchorX-ct)*this.pixelRatio;var lt=Y[23];c=Y[5]=(ut.anchorY-lt)*this.pixelRatio,tt=Y[7]=v.height,st=Y[14]=v.width}var ht=void 0;Y.length>24&&(ht=Y[24]);var ft=void 0,pt=void 0,dt=void 0;Y.length>16?(ft=Y[15],pt=Y[16],dt=Y[17]):(ft=b.j,pt=dt=!1),it&&(ot+=F);for(var yt=0,gt=0;R<s;R+=2)if(!(ht&&ht[yt++]<st/this.pixelRatio)){if(_){var _t=Math.floor(gt);_.length<_t+1&&((g=Object(f.createEmpty)()).push(_[0][4]),_.push(g)),g=_[_t]}this.replayImage_(t,a[R],a[R+1],v,u,c,g,tt,et,nt,rt,ot,at,r,st,ft,pt?M:null,dt?A:null),g&&(gt===Math.floor(gt)&&this.declutterItems.push(this,g,w),gt+=1/g[4])}++T;break;case C.DRAW_CHARS:var vt=Y[1],mt=Y[2],bt=Y[3];g=i?null:Y[4];var Ot=Y[5];x=Y[6];var Et=Y[7],xt=Y[8],wt=Y[9];E=Y[10];var jt=Y[11];m=Y[12],O=Y[13];var Ct,St=Y[14],Tt=this.textStates[O],Pt=Tt.font,Rt=Tt.scale*xt;Ct=Pt in this.widths_?this.widths_[Pt]:this.widths_[Pt]={};var It=Object(W.a)(a,vt,mt,2),Lt=Rt*Object(b.p)(Pt,m,Ct);if(Ot||Lt<=It){var Mt=this.textStates[O].textAlign,At=H(a,vt,mt,2,m,(It-Lt)*N[Mt],Et,Rt,b.p,Pt,Ct);if(At){var Dt=void 0,Ft=void 0,kt=void 0,Nt=void 0,Gt=void 0;if(E)for(Dt=0,Ft=At.length;Dt<Ft;++Dt)kt=(Gt=At[Dt])[4],Nt=this.getTextImage(kt,O,"",E),u=Gt[2]+jt,c=bt*Nt.height+2*(.5-bt)*jt-wt,this.replayImage_(t,Gt[0],Gt[1],Nt,u,c,g,Nt.height,1,0,0,Gt[3],St,!1,Nt.width,b.j,null,null);if(x)for(Dt=0,Ft=At.length;Dt<Ft;++Dt)kt=(Gt=At[Dt])[4],Nt=this.getTextImage(kt,O,x,""),u=Gt[2],c=bt*Nt.height-wt,this.replayImage_(t,Gt[0],Gt[1],Nt,u,c,g,Nt.height,1,0,0,Gt[3],St,!1,Nt.width,b.j,null,null)}}this.declutterItems.push(this,g,w),++T;break;case C.END_GEOMETRY:if(void 0!==i){var Yt=i(w=Y[1]);if(Yt)return Yt}++T;break;case C.FILL:G?I++:this.fill_(t),++T;break;case C.MOVE_TO_LINE_TO:for(R=Y[1],s=Y[2],j=a[R],y=(S=a[R+1])+.5|0,(p=j+.5|0)===l&&y===h||(t.moveTo(j,S),l=p,h=y),R+=2;R<s;R+=2)p=(j=a[R])+.5|0,y=(S=a[R+1])+.5|0,R!=s-2&&p===l&&y===h||(t.lineTo(j,S),l=p,h=y);++T;break;case C.SET_FILL_STYLE:M=Y,this.alignFill_=Y[2],I&&(this.fill_(t),I=0,L&&(t.stroke(),L=0)),t.fillStyle=Y[1],++T;break;case C.SET_STROKE_STYLE:A=Y,L&&(t.stroke(),L=0),this.setStrokeStyle_(t,Y),++T;break;case C.STROKE:G?L++:t.stroke(),++T;break;default:++T}}I&&this.fill_(t),L&&t.stroke()},e.prototype.execute=function(t,e,n,r){this.viewRotation_=n,this.execute_(t,e,this.instructions,r,void 0,void 0)},e.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,e,this.hitDetectionInstructions,!0,r,i)},e}(Z.a),ot=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=[U.a.POLYGON,U.a.CIRCLE,U.a.LINE_STRING,U.a.IMAGE,U.a.TEXT,U.a.DEFAULT],st=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.maxExtent_=e,s.overlaps_=i,s.pixelRatio_=r,s.resolution_=n,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=Object(B.c)(),s.createExecutors_(o),s}return ot(e,t),e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var r=t[e];for(var i in r){var o=r[i];n[i]=new it(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},e.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var n=this.executorsByZIndex_[e];for(var r in n)n[r].disposeInternal()}if(this.hitDetectionContext_){var i=this.hitDetectionContext_.canvas;i.width=i.height=0}t.prototype.disposeInternal.call(this)},e.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o){var a=2*(r=Math.round(r))+1,s=Object(B.b)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=Object(X.a)(a,a));var u,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(u=Object(f.createEmpty)(),Object(f.extendCoordinate)(u,t),Object(f.buffer)(u,e*(this.renderBuffer_+r),u));var l,h=function(t){if(void 0!==ut[t])return ut[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);for(var i=t,o=0,a=0;i>=o;)ct(n,t+i,t+o),ct(n,t+o,t+i),ct(n,t-o,t+i),ct(n,t-i,t+o),ct(n,t-i,t-o),ct(n,t-o,t-i),ct(n,t+o,t-i),ct(n,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return ut[t]=n,n}(r);function p(t){for(var e=c.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var r=0;r<a;r++)if(h[n][r]&&e[4*(r*a+n)+3]>0){var s=void 0;return(!o||l!=U.a.IMAGE&&l!=U.a.TEXT||-1!==o.indexOf(t))&&(s=i(t)),s||void c.clearRect(0,0,a,a)}}var y,g,_,v,m,b=Object.keys(this.executorsByZIndex_).map(Number);for(b.sort(d.f),y=b.length-1;y>=0;--y){var O=b[y].toString();for(_=this.executorsByZIndex_[O],g=at.length-1;g>=0;--g)if(void 0!==(v=_[l=at[g]])&&(m=v.executeHitDetection(c,s,n,p,u)))return m}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return Object(z.c)(a,0,8,2,t,a),a},e.prototype.isEmpty=function(){return Object(o.d)(this.executorsByZIndex_)},e.prototype.execute=function(t,e,n,r,i,o){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(d.f),this.maxExtent_&&(t.save(),this.clip(t,e));var s,u,c,l,h,f,p=i||at;for(s=0,u=a.length;s<u;++s){var y=a[s].toString();for(h=this.executorsByZIndex_[y],c=0,l=p.length;c<l;++c){var g=p[c];if(void 0!==(f=h[g]))if(!o||g!=U.a.IMAGE&&g!=U.a.TEXT)f.execute(t,e,n,r);else{var _=o[y];_?_.push(f,e.slice(0)):o[y]=[f,e.slice(0)]}}}this.maxExtent_&&t.restore()},e}(Z.a),ut={0:[[!0]]};function ct(t,e,n){var r,i=Math.floor(t.length/2);if(e>=i)for(r=i;r<e;r++)t[r][n]=!0;else if(e<i)for(r=e+1;r<i;r++)t[r][n]=!0}var lt=st,ht=n(105),ft=n(63),pt=n(83),dt=n(164),yt=n(55);function gt(t,e,n){var r=[];if(n){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),o=n.data[i],a=n.data[i+1],s=n.data[i+2];if(255===n.data[i+3]){var u=s+256*(a+256*o),c=Math.ceil(16777216/e.length);u%c==0&&r.push(e[u/c])}}return r}var _t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vt=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=Object(f.createEmpty)(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return _t(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];Object(B.e)(this.pixelTransform,1/n,1/n),Object(B.d)(this.inversePixelTransform,this.pixelTransform),this.useContainer(e,this.pixelTransform,r.opacity);var i=this.context,o=i.canvas,a=this.replayGroup_;if(!a||a.isEmpty())return!this.containerReused&&o.width>0&&(o.width=0),this.container;var s=Math.round(t.size[0]*n),u=Math.round(t.size[1]*n);if(o.width!=s||o.height!=u){o.width=s,o.height=u;var c=Object(B.i)(this.pixelTransform);o.style.transform!==c&&(o.style.transform=c)}else this.containerReused||i.clearRect(0,0,s,u);this.preRender(i,t);var l=t.extent,y=t.viewState,g=y.center,_=y.resolution,v=y.projection,m=y.rotation,b=v.getExtent(),O=this.getLayer().getSource(),E=!1;if(r.extent){var x=Object(p.fromUserExtent)(r.extent,v);(E=!Object(f.containsExtent)(x,t.extent)&&Object(f.intersects)(x,t.extent))&&this.clip(i,t,x)}var w=t.viewHints,j=!(w[h.a.ANIMATING]||w[h.a.INTERACTING]),C=this.getRenderTransform(g,_,m,n,s,u,0),S=this.getLayer().getDeclutter()?{}:null;if(a.execute(i,C,m,j,void 0,S),O.getWrapX()&&v.canWrapX()&&!Object(f.containsExtent)(b,l)){for(var T=l[0],P=Object(f.getWidth)(b),R=0,I=void 0;T<b[0];){I=P*--R;var L=this.getRenderTransform(g,_,m,n,s,u,I);a.execute(i,L,m,j,void 0,S),T+=P}for(R=0,T=l[2];T>b[2];){I=P*++R;var M=this.getRenderTransform(g,_,m,n,s,u,I);a.execute(i,M,m,j,void 0,S),T-=P}}if(S){var A=t.viewHints;!function(t,e,n,r,i,o){for(var a=Object.keys(t).map(Number).sort(d.f),s=0,u=a.length;s<u;++s)for(var c=t[a[s].toString()],l=void 0,h=0,f=c.length;h<f;){var p=c[h++];p!==l&&(l=p,o.push({items:p.declutterItems,opacity:1}));var y=c[h++];p.execute(e,y,n,i)}}(S,i,m,0,!(A[h.a.ANIMATING]||A[h.a.INTERACTING]),t.declutterItems)}E&&i.restore(),this.postRender(i,t);var D=r.opacity,F=this.container;return D!==parseFloat(F.style.opacity)&&(F.style.opacity=1===D?"":D),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,n){this.hitDetectionImageData_||this.animatingOrInteracting_?e(gt(t,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];Object(B.a)(this.pixelTransform,n);var r=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.renderedExtent_,u=this.getLayer(),c=[],l=n[0]/2,h=n[1]/2;c.push(this.getRenderTransform(r,i,o,.5,l,h,0).slice());var p=u.getSource(),y=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!Object(f.containsExtent)(y,s)){for(var g=s[0],v=Object(f.getWidth)(y),m=0,b=void 0;g<y[0];)b=v*--m,c.push(this.getRenderTransform(r,i,o,.5,l,h,b).slice()),g+=v;for(m=0,g=s[2];g>y[2];)b=v*++m,c.push(this.getRenderTransform(r,i,o,.5,l,h,b).slice()),g-=v}this.hitDetectionImageData_=function(t,e,n,r,i,o,a){var s=t[0]/2,u=t[1]/2,c=Object(X.a)(s,u);c.imageSmoothingEnabled=!1;for(var l=c.canvas,h=new pt.a(c,.5,i,null,a),p=n.length,y=Math.ceil(16777216/p),g={},v=0;v<p;++v){var m=n[v],b=m.getStyleFunction()||r;if(r){var O=b(m,o);Array.isArray(O)||(O=[O]);for(var E="#"+("000000"+(v*y).toString(16)).slice(-6),x=0,w=O.length;x<w;++x){var j=O[x],C=j.clone(),S=C.getFill();S&&S.setColor(E);var T=C.getStroke();T&&T.setColor(E),C.setText(void 0);var P=j.getImage();if(P){var R=P.getImageSize(),I=Object(X.a)(R[0],R[1]);I.fillStyle=E;var L=I.canvas;I.fillRect(0,0,L.width,L.height);var M=R?R[0]:L.width,A=R?R[1]:L.height;Object(X.a)(M,A).drawImage(L,0,0),C.setImage(new dt.default({img:L,imgSize:R,anchor:P.getAnchor(),anchorXUnits:yt.a.PIXELS,anchorYUnits:yt.a.PIXELS,offset:P.getOrigin(),size:P.getSize(),opacity:P.getOpacity(),scale:P.getScale(),rotation:P.getRotation(),rotateWithView:P.getRotateWithView()}))}var D=Number(C.getZIndex());(G=g[D])||((G=g[D]={})[_.a.POLYGON]=[],G[_.a.CIRCLE]=[],G[_.a.LINE_STRING]=[],G[_.a.POINT]=[]);var F=C.getGeometryFunction()(m);F&&Object(f.intersects)(i,F.getExtent())&&G[F.getType().replace("Multi","")].push(F,C)}}}for(var k=Object.keys(g).map(Number).sort(d.f),N=(v=0,k.length);v<N;++v){var G=g[k[v]];for(var Y in G){var z=G[Y];for(x=0,w=z.length;x<w;x+=2){h.setStyle(z[x+1]);for(var U=0,B=e.length;U<B;++U)h.setTransform(e[U]),h.drawGeometry(z[x])}}}return c.getImageData(0,0,l.width,l.height)}(n,c,this.renderedFeatures_,u.getStyleFunction(),s,i,o),e(gt(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){if(this.replayGroup_){var o=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,a,n,function(t){var e=Object(l.c)(t);if(!(e in u))return u[e]=!0,r(t,s)},s.getDeclutter()?i:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource(),r=t.viewHints[h.a.ANIMATING],i=t.viewHints[h.a.INTERACTING],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!a&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,u=t.viewState,c=u.projection,l=u.resolution,d=t.pixelRatio,y=e.getRevision(),g=e.getRenderBuffer(),_=e.getRenderOrder();void 0===_&&(_=ft.a);var v=u.center.slice(),m=Object(f.buffer)(s,g*l),b=u.projection.getExtent();if(n.getWrapX()&&u.projection.canWrapX()&&!Object(f.containsExtent)(b,t.extent)){var O=Object(f.getWidth)(b),E=Math.max(Object(f.getWidth)(m)/2,O);m[0]=b[0]-E,m[2]=b[2]+E;var x=Math.floor((v[0]-b[0])/O);v[0]-=x*O}if(!this.dirty_&&this.renderedResolution_==l&&this.renderedRevision_==y&&this.renderedRenderOrder_==_&&Object(f.containsExtent)(this.renderedExtent_,m))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var w,j=new Y(Object(ft.c)(l,d),m,l,d,e.getDeclutter()),C=Object(p.getUserProjection)();C?(n.loadFeatures(Object(p.toUserExtent)(m,c),l,C),w=Object(p.getTransformFromProjections)(C,c)):n.loadFeatures(m,l,c);var S=Object(ft.b)(l,d),T=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,l)),n){var i=this.renderFeature(t,S,n,j,w);this.dirty_=this.dirty_||i}}.bind(this),P=Object(p.toUserExtent)(m,c),R=n.getFeaturesInExtent(P);_&&R.sort(_);for(var I=0,L=R.length;I<L;++I)T(R[I]);this.renderedFeatures_=R;var M=j.finish(),A=new lt(m,l,d,n.getOverlaps(),M,e.getRenderBuffer());return this.renderedResolution_=l,this.renderedRevision_=y,this.renderedRenderOrder_=_,this.renderedExtent_=m,this.renderedRotation_=u.rotation,this.renderedCenter_=v,this.renderedProjection_=c,this.replayGroup_=A,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=Object(ft.d)(r,t,n[a],e,this.boundHandleStyleImageChange_,i)||o;else o=Object(ft.d)(r,t,n,e,this.boundHandleStyleImageChange_,i);return o},e}(ht.a),mt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bt=function(t){function e(e){return t.call(this,e)||this}return mt(e,t),e.prototype.createRenderer=function(){return new vt(this)},e}(c);e.default=bt},function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(35),o=n(28),a=n(53),s=n(12),u=n(10),c=n(6),l=n(27),h=n(7),f=n(0),p=n(16),d=n(58),y=!1;function g(t,e){return function(t,e,n,r){return function(n,i,o){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,i,o):t,!0),e.getType()==d.default.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.withCredentials=y,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var i=e.getType(),s=void 0;i==d.default.JSON||i==d.default.TEXT?s=a.responseText:i==d.default.XML?(s=a.responseXML)||(s=(new DOMParser).parseFromString(a.responseText,"application/xml")):i==d.default.ARRAY_BUFFER&&(s=a.response),s?function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}.call(this,e.readFeatures(s,{extent:n,featureProjection:o}),e.readProjection(s)):r.call(this)}else r.call(this)}.bind(this),a.onerror=function(){r.call(this)}.bind(this),a.send()}}(t,e,0,p.c)}function _(t,e){return[[-1/0,-1/0,1/0,1/0]]}var v=n(11),m=n(98),b=n(43),O="addfeature",E="removefeature",x=n(97),w=n.n(x),j=function(){function t(t){this.rbush_=new w.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(r.c)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],u={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=u,this.items_[Object(r.c)(s)]=u}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Object(r.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Object(r.c)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];Object(f.equals)(i,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return Object(v.d)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(f.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();n.d(e,"VectorSourceEvent",function(){return T});var C,S=(C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),T=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return S(e,t),e}(l.a),P=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:b.a.READY,wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=p.c,n.format_=r.format,n.overlaps_=null==r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(Object(u.a)(n.format_,7),n.loader_=g(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:_;var o,a,s=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=s?new j:null,n.loadedExtentsRtree_=new j,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?a=r.features:r.features&&(a=(o=r.features).getArray()),s||void 0!==o||(o=new i.a(a)),void 0!==a&&n.addFeaturesInternal(a),void 0!==o&&n.bindFeaturesCollection_(o),n}return S(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(r.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new T(O,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(c.a)(e,h.a.CHANGE,this.handleFeatureChange_,this),Object(c.a)(e,a.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(Object(u.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,a=t.length;o<a;o++){var s=t[o],u=Object(r.c)(s);this.addToIndex_(u,s)&&n.push(s)}o=0;for(var c=n.length;o<c;o++){s=n[o],u=Object(r.c)(s),this.setupChangeEvents_(u,s);var l=s.getGeometry();if(l){var h=l.getExtent();e.push(h),i.push(s)}else this.nullGeometryFeatures_[u]=s}this.featuresRtree_&&this.featuresRtree_.load(e,i),o=0;for(var f=n.length;o<f;o++)this.dispatchEvent(new T(O,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(O,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(E,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(c.c);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new T("clear");this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(v.d)(this.nullGeometryFeatures_)||Object(s.c)(t,Object(v.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||p.b;return this.featuresRtree_.forEachInExtent(s,function(t){if(u(t)){var e=t.getGeometry(),c=a;if((a=e.closestPointXY(n,r,o,a))<c){i=t;var l=Math.sqrt(a);s[0]=n-l,s[1]=r-l,s[2]=n+l,s[3]=r+l}}}),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(r.c)(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var a=e.getId();if(void 0!==a){var s=a.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new T("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(r.c)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(v.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var r=this.loadedExtentsRtree_,i=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=i[t];r.forEachInExtent(s,function(t){return Object(f.containsExtent)(t.extent,s)})||(a.loader_.call(a,s,e,n),r.insert(s,{extent:s.slice()}),a.loading=a.loader_!==p.c)},a=this,s=0,u=i.length;s<u;++s)o(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Object(f.equals)(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(r.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(r.c)(t);this.featureChangeKeys_[e].forEach(c.c),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new T(E,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Object(u.a)(this.format_,7),this.setLoader(g(t,this.format_))},e}(m.a);e.default=P},function(t,e,n){"use strict";var r,i=n(27),o=n(21),a=n(16),s=n(36),u=n(52),c=n(47),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return l(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new c.b([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(u.a),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return f(e,t),e}(i.a),d=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.box_=new h(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,n.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:a.c,n.startPixel_=null,n.condition_=r.condition?r.condition:o.b,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return f(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(o.e)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new p("boxdrag",t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(o.e)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new p("boxend",t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!(!Object(o.e)(t)||!Object(o.d)(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new p("boxstart",t.coordinate,t)),0))},e}(s.b);e.a=d},function(t,e,n){"use strict";var r,i=n(1),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return o(e,t),e}(Error);e.a=a},function(t,e,n){"use strict";var r,i=n(6),o=n(45),a=n(7),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return s(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(a.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.a)(this,t[o],e);return r}return Object(i.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.b)(this,t[o],e);return r}return Object(i.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(o.a);e.a=u},function(t,e,n){"use strict";var r,i=n(1),o=n(14),a=n(0),s=n(37),u=n(3),c=n(25),l=n(8),h=n(16),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=Object(l.c)(),d=function(t){function e(){var e=t.call(this)||this;return e.extent_=Object(a.createEmpty)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=Object(h.d)(function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)}),e}return f(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Object(i.b)()},e.prototype.closestPointXY=function(t,e,n,r){return Object(i.b)()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(a.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.b)()},e.prototype.scale=function(t,e,n){Object(i.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.b)()},e.prototype.getType=function(){return Object(i.b)()},e.prototype.applyTransform=function(t){Object(i.b)()},e.prototype.intersectsExtent=function(t){return Object(i.b)()},e.prototype.translate=function(t,e){Object(i.b)()},e.prototype.transform=function(t,e){var n=Object(u.get)(t),r=n.getUnits()==c.b.TILE_PIXELS?function(t,r,i){var o=n.getExtent(),c=n.getWorldExtent(),h=Object(a.getHeight)(c)/Object(a.getHeight)(o);return Object(l.b)(p,c[0],c[3],h,-h,0,0,0),Object(s.c)(t,0,t.length,i,p,r),Object(u.getTransform)(n,e)(t,r,i)}:Object(u.getTransform)(n,e);return this.applyTransform(r),this},e}(o.a);e.a=d},function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o,a=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=t[e],o=t[e+1],a=0,s=e+r;s<n;s+=r){var u=t[s],c=t[s+1];a+=Math.sqrt((u-i)*(u-i)+(c-o)*(c-o)),i=u,o=c}return a}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n(12),i=n(48);function o(t,e,n,o,a,s,u){for(var c,l,h,f,p,d,y,g=a[s+1],_=[],v=0,m=n.length;v<m;++v){var b=n[v];for(f=t[b-o],d=t[b-o+1],c=e;c<b;c+=o)p=t[c],y=t[c+1],(g<=d&&y<=g||d<=g&&g<=y)&&(h=(g-d)/(y-d)*(p-f)+f,_.push(h)),f=p,d=y}var O=NaN,E=-1/0;for(_.sort(r.f),f=_[0],c=1,l=_.length;c<l;++c){p=_[c];var x=Math.abs(p-f);x>E&&(h=(f+p)/2,Object(i.c)(t,e,n,o,h,g)&&(O=h,E=x)),f=p}return isNaN(O)&&(O=a[s]),u?(u.push(O,g,E),u):[O,g,E]}function a(t,e,n,r,i){for(var a=[],s=0,u=n.length;s<u;++s){var c=n[s];a=o(t,e,c,r,i,2*s,a),e=c[c.length-1]}return a}},function(t,e,n){var r,i;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a,s){"object"==o(e)&&void 0!==t?t.exports=s():void 0===(i="function"==typeof(r=s)?r.call(e,n,e,t):r)||(t.exports=i)}(0,function(){"use strict";function t(t,r,i,o,a){!function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,c=Math.log(s),l=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*l/s+h)),Math.min(o,Math.floor(r+(s-u)*l/s+h)),a)}var f=n[r],p=i,d=o;for(e(n,i,r),a(n[o],f)>0&&e(n,i,o);p<d;){for(e(n,p,d),p++,d--;a(n[p],f)<0;)p++;for(;a(n[d],f)>0;)d--}0===a(n[i],f)?e(n,i,d):e(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,r,i||0,o||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(i,t.leaf?r(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;p(t,s)&&(e.leaf?n.push(a):f(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||f(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,a=this.data,s=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=c.pop(),o=!0),a.leaf){var l=i(t,a.children,e);if(-1!==l)return a.children.splice(l,1),u.push(a),this._condense(u),this}o||a.leaf||!f(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,a=n-e+1,s=this._maxEntries;if(a<=s)return o(i=d(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=d([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),c=u*Math.ceil(Math.sqrt(s));y(t,e,n,c,this.compareMinX);for(var l=e;l<=n;l+=c){var h=Math.min(l+c-1,n);y(t,l,h,u,this.compareMinY);for(var f=l;f<=h;f+=u){var p=Math.min(f+u-1,h);i.children.push(this._build(t,f,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],c=l(u),h=(f=t,p=u,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-c);h<o?(o=h,i=c<i?c:i,a=u):h===o&&c<i&&(i=c,a=u)}e=a||e.children[0]}var f,p;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),s(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,s,u,c,h,f=1/0,p=1/0,d=e;d<=n-e;d++){var y=a(t,0,d,this.toBBox),g=a(t,d,n,this.toBBox),_=(i=y,o=g,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),c=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,c-s)*Math.max(0,h-u)),v=l(y)+l(g);_<f?(f=_,r=d,p=v<p?v:p):_===f&&v<p&&(p=v,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=a(t,0,e,i),u=a(t,n-e,n,i),c=h(o)+h(u),l=e;l<n-e;l++){var f=t.children[l];s(o,t.leaf?i(f):f),c+=h(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];s(u,t.leaf?i(d):d),c+=h(u)}return c},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r})},function(t,e,n){"use strict";var r,i=n(1),o=n(14),a=n(3),s=n(43),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this)||this;return n.projection_=Object(a.get)(e.projection),n.attributions_=l(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:s.a.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return u(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(i.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=l(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(o.a);function l(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=c},function(t,e,n){"use strict";var r,i=n(10),o=n(45),a=n(7),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=t.call(this)||this;return n.highWaterMark=void 0!==e?e:2048,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return s(e,t),e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(a.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},e.prototype.get=function(t,e){var n=this.entries_[t];return Object(i.a)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},e.prototype.remove=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(i.a)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(o.a);e.a=u},function(t,e,n){"use strict";var r=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();e.a=r},function(t,e,n){"use strict";var r=n(1),i=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getAnchor=function(){return Object(r.b)()},t.prototype.getImage=function(t){return Object(r.b)()},t.prototype.getHitDetectionImage=function(t){return Object(r.b)()},t.prototype.getImageState=function(){return Object(r.b)()},t.prototype.getImageSize=function(){return Object(r.b)()},t.prototype.getHitDetectionImageSize=function(){return Object(r.b)()},t.prototype.getOrigin=function(){return Object(r.b)()},t.prototype.getSize=function(){return Object(r.b)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){Object(r.b)()},t.prototype.load=function(){Object(r.b)()},t.prototype.unlistenImageChange=function(t){Object(r.b)()},t}();e.a=i},function(t,e,n){"use strict";var r,i=n(27),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return o(e,t),e}(i.a);e.a=a},function(t,e,n){"use strict";var r,i=n(61),o=n(41),a=n(15),s=n(18),u=n(4),c=n(101),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:1})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return l(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return s.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e=u.d,n=u.g,r=0,i=null,s=0,c=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=u.k),t=Object(o.a)(t),void 0===(c=this.stroke_.getWidth())&&(c=u.h),i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=u.g),void 0===(e=this.stroke_.getLineCap())&&(e=u.d),void 0===(r=this.stroke_.getMiterLimit())&&(r=u.i));var l=2*(this.radius_+c)+1,h={strokeStyle:t,strokeWidth:c,size:l,lineCap:e,lineDash:i,lineDashOffset:s,lineJoin:n,miterLimit:r},f=Object(a.a)(l,l);this.canvas_=f.canvas;var p=l=this.canvas_.width;this.draw_(h,f,0,0),this.createHitDetectionCanvas_(h),this.anchor_=[l/2,l/2],this.size_=[l,l],this.imageSize_=[p,p]},e.prototype.draw_=function(t,e,n,r){var i,a,s;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(c*=2),i=0;i<=c;i++)a=2*i*Math.PI/c-Math.PI/2+this.angle_,s=i%2==0?this.radius_:l,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=u.b),e.fillStyle=Object(o.a)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Object(i.a)(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=Object(a.a)(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,s=void 0,c=void 0;for(a=0;a<=i;a++)c=2*a*Math.PI/i-Math.PI/2+this.angle_,s=a%2==0?this.radius_:o,e.lineTo(t.size/2+s*Math.cos(c),t.size/2+s*Math.sin(c))}e.fillStyle=u.b,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(c.a);e.a=h},function(t,e,n){"use strict";var r,i=n(1),o=n(14),a=n(19),s=n(5),u=n(11),c=n(10),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this)||this,r=Object(u.a)({},e);return r[a.a.OPACITY]=void 0!==e.opacity?e.opacity:1,Object(c.a)("number"==typeof r[a.a.OPACITY],64),r[a.a.VISIBLE]=void 0===e.visible||e.visible,r[a.a.Z_INDEX]=e.zIndex,r[a.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[a.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,r[a.a.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,r[a.a.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return l(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t,hasOverlay:!1};return e.opacity=Object(s.a)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=this.getZIndex()||(!1===e.managed?1/0:0),e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Object(i.b)()},e.prototype.getLayerStatesArray=function(t){return Object(i.b)()},e.prototype.getExtent=function(){return this.get(a.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(a.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(a.a.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(a.a.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(a.a.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(a.a.OPACITY)},e.prototype.getSourceState=function(){return Object(i.b)()},e.prototype.getVisible=function(){return this.get(a.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(a.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(a.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(a.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(a.a.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(a.a.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(a.a.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Object(c.a)("number"==typeof t,64),this.set(a.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(a.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(a.a.Z_INDEX,t)},e}(o.a);e.a=h},function(t,e,n){"use strict";var r,i=n(0),o=n(15),a=n(102),s=n(50),u=n(4),c=n(1),l=n(18),h=n(92),f=n(7),p=n(43),d=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return d(e,t),e.prototype.getFeatures=function(t){return Object(c.b)()},e.prototype.prepareFrame=function(t){return Object(c.b)()},e.prototype.renderFrame=function(t,e){return Object(c.b)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return Object(c.b)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===l.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=l.a.LOADED&&e!=l.a.ERROR&&t.addEventListener(f.a.CHANGE,this.boundHandleImageChange_),e==l.a.IDLE&&(t.load(),e=t.getState()),e==l.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==p.a.READY&&t.changed()},e}(h.a),g=n(8),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=Object(g.c)(),n.pixelTransform=Object(g.c)(),n.inversePixelTransform=Object(g.c)(),n.context=null,n.containerReused=!1,n}return _(e,t),e.prototype.useContainer=function(t,e,n){var r,i,a=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===a&&(u=t.firstElementChild)instanceof HTMLCanvasElement&&(i=u.getContext("2d")),i&&i.canvas.style.transform===Object(g.i)(e)?(this.container=t,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=a;var s=r.style;s.position="absolute",s.width="100%",s.height="100%";var u=(i=Object(o.a)()).canvas;r.appendChild(u),(s=u.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=i}},e.prototype.clip=function(t,e,n){var r=e.pixelRatio,o=e.size[0]*r/2,a=e.size[1]*r/2,s=e.viewState.rotation,c=Object(i.getTopLeft)(n),l=Object(i.getTopRight)(n),h=Object(i.getBottomRight)(n),f=Object(i.getBottomLeft)(n);Object(g.a)(e.coordinateToPixelTransform,c),Object(g.a)(e.coordinateToPixelTransform,l),Object(g.a)(e.coordinateToPixelTransform,h),Object(g.a)(e.coordinateToPixelTransform,f),t.save(),Object(u.s)(t,-s,o,a),t.beginPath(),t.moveTo(c[0]*r,c[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(h[0]*r,h[1]*r),t.lineTo(f[0]*r,f[1]*r),t.clip(),Object(u.s)(t,s,o,a)},e.prototype.clipUnrotated=function(t,e,n){var r=Object(i.getTopLeft)(n),o=Object(i.getTopRight)(n),a=Object(i.getBottomRight)(n),s=Object(i.getBottomLeft)(n);Object(g.a)(e.coordinateToPixelTransform,r),Object(g.a)(e.coordinateToPixelTransform,o),Object(g.a)(e.coordinateToPixelTransform,a),Object(g.a)(e.coordinateToPixelTransform,s);var u=this.inversePixelTransform;Object(g.a)(u,r),Object(g.a)(u,o),Object(g.a)(u,a),Object(g.a)(u,s),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new a.a(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(s.a.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(s.a.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=i/2,u=o/2,c=r/e,l=-c,h=-t[0]+a,f=-t[1];return Object(g.b)(this.tempTransform_,s,u,c,l,-n,h,f)},e.prototype.getDataAtPixel=function(t,e,n){var r,i=Object(g.a)(this.inversePixelTransform,t.slice()),o=this.context;try{r=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e}(y);e.a=v},function(t,e,n){"use strict";var r,i=n(1),o=n(45),a=n(7),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return s(e,t),e.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(i.b)()},e}(o.a),c=n(18),l=n(6),h=n(0),f=n(30);n.d(e,"a",function(){return d});var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function d(t,e,n){var r=t;if(r.src&&f.c){var i=!0;return r.decode().then(function(){i&&e()}).catch(function(t){i&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){i=!1}}var o=[Object(l.b)(r,a.a.LOAD,e),Object(l.b)(r,a.a.ERROR,n)];return function(){o.forEach(l.c)}}!function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,c.a.IDLE)||this;return s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=c.a.IDLE,s.imageLoadFunction_=a,s}p(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=c.a.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(h.getHeight)(this.extent)/this.image_.height),this.state=c.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=c.a.IDLE&&this.state!=c.a.ERROR||(this.state=c.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=d(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(u)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=l(n(74));function l(t){return t&&t.__esModule?t:{default:t}}var h=l(n(56)).default.proj4,f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,c.default);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this)).geocoder=t.geocoder,e.projection=t.projection||"EPSG:3857",e.hookupEvents(),e}return e=s,(n=[{key:"metersPerUnit",value:function(){return h.defs[this.projection].to_meter}},{key:"accuracyDistance",value:function(t){return"EPSG:3857"===this.projection?t:t/this.metersPerUnit()}},{key:"search",value:function(t){this.geocoder.search(t)}},{key:"locate",value:function(){throw"Not implemented"}},{key:"track",value:function(){throw"Not implemented"}},{key:"proxyEvent",value:function(t){this.trigger(t.type,t)}},{key:"hookupEvents",value:function(){this.geocoder.on("geocoded",this.proxyEvent,this),this.geocoder.on("ambiguous",this.proxyEvent,this),this.geocoder.on("error",this.proxyEvent,this)}}])&&i(e.prototype,n),s}();f.Options,f.Accuracy={HIGH:0,MEDIUM:50,LOW:500,ZIP_CODE:1e3},f.Result,f.Ambiguous;var p=f;e.default=p},function(t,e){t.exports=window.Papa||{}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=p(n(56)),l=p(n(107)),h=p(n(135)),f=p(n(136));function p(t){return t&&t.__esModule?t:{default:t}}var d=c.default.proj4,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,h.default);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t)).url="".concat(t.url,"&input="),e.projection=t.projection||"EPSG:3857",e}return e=s,(n=[{key:"search",value:function(t){var e=this;return new Promise(function(n,r){5!==(t=t.trim()).length||isNaN(t)?t.length&&(t=t.replace(/"/g,"").replace(/'/g,"").replace(/&/g," and "),(0,f.default)("".concat(e.url).concat(t)).then(function(t){return t.json()}).then(function(t){e.geoclient(t,n)}).catch(function(t){e.error(t,r)})):e.resolveZip(t,n)})}},{key:"resolveZip",value:function(t,e){var n,r=this.project(s.ZIP_CODE_POINTS[t]);r?(e(n={coordinate:r,accuracy:l.default.Accuracy.ZIP_CODE,type:"geocoded",zip:!0,name:t}),this.trigger("geocoded",n)):(e(n={input:t,type:"ambiguous",possible:[]}),this.trigger("ambiguous",n))}},{key:"project",value:function(t){return t&&"EPSG:2263"!==this.projection?d("EPSG:2263",this.projection,t):t}},{key:"geoclient",value:function(t,e){var n=t.results,r={type:"ambiguous",input:t.input,possible:[]};if("OK"===t.status)if(1===n.length){var i=n[0],o=this.parse(i);o?(o.type="geocoded",e(o),this.trigger("geocoded",o)):(e(r),this.trigger("ambiguous",r))}else{var a={type:"ambiguous",input:t.input,possible:this.possible(n)};e(a),this.trigger("ambiguous",a)}else e(r),this.trigger("ambiguous",r)}},{key:"possible",value:function(t){var e=this,n=[];return t.forEach(function(t){var r=e.parse(t);r&&n.push(r)}),n}},{key:"parse",value:function(t){var e,n,r,i=t.request.split(" ")[0],o=t.response;if("intersection"===i)e="".concat(o.streetName1," and ").concat(o.streetName2),n=[1*o.xCoordinate,1*o.yCoordinate],r=l.default.Accuracy.MEDIUM;else if("blockface"===i)e=o.firstStreetNameNormalized+" btwn "+o.secondStreetNameNormalized+" & "+o.thirdStreetNameNormalized,n=[(1*o.fromXCoordinate+1*o.toXCoordinate)/2,(1*o.fromYCoordinate+1*o.toYCoordinate)/2],r=l.default.Accuracy.LOW;else{var a=o.internalLabelXCoordinate,s=o.internalLabelYCoordinate;e=(o.houseNumber?o.houseNumber+" ":"")+(o.firstStreetNameNormalized||o.giStreetName1),n=[1*(a&&s?a:o.xCoordinate),1*(a&&s?s:o.yCoordinate)],r=a&&s?l.default.Accuracy.HIGH:l.default.Accuracy.MEDIUM}try{return{type:"geocoded",coordinate:this.project(n),data:o,accuracy:r,name:c.default.capitalize("".concat(e.replace(/  +/g," "),", ").concat(o.firstBoroughName))+", NY ".concat(o.zipCode||o.leftSegmentZipCode||"")}}catch(e){console.warn("No coordinate",t)}}},{key:"error",value:function(t,e){console.error("Geoclient error",t),e({type:"error",error:t}),this.trigger("error",t)}}])&&i(e.prototype,n),s}();y.Options,y.ZIP_CODE_POINTS={10474:[1018466,233787],10455:[1007889,236616],10037:[1001661,235627],10024:[991450,225457],10454:[1007449,232863],10026:[997179,231835],10025:[993331,230012],10035:[1006595,228454],11101:[1001319,211034],11364:[1051553,211923],10018:[984278,215509],10020:[990012,215729],11005:[1064789,214295],10017:[991869,213252],10001:[983613,213360],10011:[982781,210664],10016:[990291,210665],11104:[1006224,210564],11109:[996054,210740],10010:[988989,208515],11367:[1032392,205392],10014:[982449,206620],10003:[987465,205563],11222:[998773,204620],11379:[1017432,200740],11429:[1056859,198057],11435:[1036960,195018],11415:[1031798,197376],11418:[1031001,193330],11433:[1043368,193721],11451:[1039899,194697],11221:[1004438,191873],11421:[1023878,191241],11372:[1016528,213126],11004:[1065606,210363],11040:[1065956,213534],10002:[988242,200171],10314:[939259,155728],11228:[980891,164066],11209:[976172,165379],10304:[962458,165679],10456:[1007883,242372],10472:[1021444,241624],10031:[998088,239814],10039:[1001519,240436],10459:[1013835,240084],10451:[1005368,238290],10473:[1022475,237217],10030:[1000193,237302],10027:[999088,234131],10461:[1028296,247902],10457:[1012388,247405],10460:[1015132,243510],10032:[1000382,244917],10452:[1005446,244483],11414:[1027256,178677],11232:[983612,177801],10034:[1005713,255122],10033:[1001707,248780],10462:[1020685,249420],10040:[1003863,251914],10453:[1008152,249805],11102:[1004636,220364],10021:[997020,219120],11361:[1047797,217779],11358:[1040709,216377],11362:[1057749,215220],10044:[996385,214347],11369:[1019957,217722],11103:[1008295,217197],11106:[1001397,217519],11368:[1024870,212082],11377:[1010574,210678],10036:[985413,216821],11355:[1033762,213010],10302:[945946,169124],10465:[1031495,239091],11691:[1053783,158810],11096:[1054217,162199],11223:[991665,156781],11208:[1019700,184749],11207:[1013544,183721],11413:[1053380,183328],11217:[989547,187967],11238:[994291,186584],11231:[983057,186217],11422:[1057272,180607],11420:[1036899,184708],11417:[1027410,185709],11215:[989882,181773],11357:[1036533,225804],10029:[999950,227538],"00083":[991590,220538],11356:[1028115,225277],11359:[1046026,228012],10303:[933820,171004],11234:[1004323,163783],11360:[1044984,223892],11105:[1011836,221755],10128:[997765,224257],11371:[1022003,220457],10023:[988765,222068],11363:[1055047,220385],10028:[995910,222872],11354:[1032198,219054],11216:[998312,187241],11416:[1025796,188584],11233:[1006523,186300],11436:[1040697,185554],11213:[1000284,183308],11212:[1008387,180764],11225:[997345,180829],11218:[990799,173649],11226:[995711,174598],11219:[985166,169604],11210:[999101,167896],11230:[993494,166072],11419:[1033365,190202],11434:[1046577,185969],11204:[987887,164576],10471:[1012587,266570],10470:[1024748,268409],10466:[1024313,263999],10467:[1019786,258782],11430:[1043607,175068],11203:[1002509,175950],10469:[1026678,255623],10468:[1013897,258046],10458:[1015534,253712],11378:[1009641,202115],10009:[990043,203961],10012:[984832,203596],10013:[982892,201665],10007:[982504,199552],11237:[1004600,197083],11385:[1011367,195195],10038:[983418,197803],11206:[1000221,195003],10006:[980563,197293],11412:[1050773,193231],10005:[981339,197038],11251:[993428,194599],11411:[1057763,192413],11201:[986968,192156],10004:[972576,193652],11205:[995897,192159],10305:[963310,156060],11229:[999717,158278],11214:[984e3,159330],10306:[950937,145144],11694:[1025530,149310],11224:[984306,149092],10308:[942704,140020],10282:[979981,200244],11211:[999857,199848],11249:[993704,198278],11370:[1016758,227518],10065:[994666,217698],10075:[995301,221633],10069:[987047,221849],10281:[980036,198787],11373:[1017948,208465],10279:[981949,198823],10165:[990124,213288],10168:[990733,212960],10105:[990067,217259],10118:[988212,211939],10176:[990123,214490],10162:[997739,219667],10170:[990955,213470],10112:[989735,215947],10122:[986550,213178],10107:[989098,218425],10103:[990705,216275],10174:[991094,213106],10166:[990733,213798],10169:[990872,214089],10167:[991259,214199],10177:[990927,214381],10172:[991398,214417],10171:[991426,214709],10270:[982060,196710],10104:[990123,216312],10271:[981339,197293],10110:[989486,213943],10175:[989847,214016],10151:[991702,217332],10173:[990040,213907],10178:[990429,212814],10119:[986217,213068],10121:[986439,212486],10123:[986827,213032],10106:[989624,218024],10158:[991177,212122],10041:[981727,195435],10120:[987242,212449],10278:[983113,199880],10155:[993143,216531],10043:[982337,195836],10081:[981838,197074],10096:[989071,214235],10097:[988461,216931],10196:[989458,214963],10275:[980368,196382],10265:[982060,196164],10045:[981866,197329],10047:[988047,208660],10080:[980785,198167],10203:[981062,196965],10259:[981478,197439],10260:[981921,196564],10285:[980147,199224],10286:[981727,196637],10463:[1007644,260043],10475:[1030489,258509],10464:[1036131,258338],10309:[923594,132955],10307:[916899,124411],10280:[979509,197257],10048:[980812,198532],10055:[991564,215802],10019:[989652,217477],10111:[990483,215838],10153:[991896,217478],10154:[991896,215328],10152:[991979,215584],10115:[994299,234675],10022:[993087,215620],11235:[1000973,149936],11693:[1036606,153266],11692:[1041045,155461],11697:[1009230,143240],10312:[935583,136827],11239:[1021573,175899],11236:[1011642,172461],11220:[979421,172519],10301:[961077,172967],10310:[950582,169591],11426:[1060737,207724],11365:[1041364,208618],11001:[1065508,206646],11375:[1026883,201848],11427:[1053373,205042],11374:[1022389,203771],11366:[1039491,203659],11423:[1048812,200621],11428:[1055655,202207],11432:[1041634,200093]};var g=y;e.default=g},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=p(n(13)),h=p(n(165)),f=p(n(56));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,h.default);var e,n,r=a(s);function s(t){var e;!function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=(0,l.default)(t.map.getTargetElement()).find(".f-tip").get(0);return(e=r.call(this,{id:f.default.nextId("FeatureTip"),element:n||(0,l.default)(s.HTML).get(0),stopEvent:!1})).setMap(t.map),e.map=e.getMap(),e.tip=(0,l.default)(e.getElement()),e.addTips(t.tips),e.map.on("pointermove",l.default.proxy(e.label,u(e))),(0,l.default)(document).mouseover(l.default.proxy(e.out,u(e))),e}return e=s,(n=[{key:"hide",value:function(){this.tip.fadeOut()}},{key:"addTips",value:function(t){t.forEach(function(t){t.layer.nycTip=t.label})}},{key:"out",value:function(t){l.default.contains(this.map.getTargetElement(),t.target)||this.hide()}},{key:"label",value:function(t){var e=this.map.forEachFeatureAtPixel(t.pixel,function(t,e){return e.getVisible()&&e.nycTip?e.nycTip(t):null});e?(this.tip.html(e.html),this.tip.get(0).className="f-tip ".concat(e.css||""),this.setPosition(t.coordinate),this.tip.show(),this.position()):this.hide()}},{key:"position",value:function(){var t=this.map.getSize(),e=this.map.getPixelFromCoordinate(this.getPosition()),n=this.tip.width(),r=this.tip.height(),i=e[1]+r>t[1]?"bottom":"top",o=e[0]+n>t[0]?"right":"left";this.setPositioning("".concat(i,"-").concat(o))}}])&&i(e.prototype,n),s}();d.TipDef,d.LabelFunction,d.Label,d.Options,d.HTML='<div class="f-tip" role="tooltip"></div>';var y=d;e.default=y},function(t,e,n){"use strict";n.r(e);var r=n(66),i=n(1),o=n(16),a=n(5);function s(t,e,n){return function(r,i,o,s){if(r){var u=e?0:o[0]*i,c=e?0:o[1]*i,l=t[0]+u/2,h=t[2]-u/2,f=t[1]+c/2,p=t[3]-c/2;l>h&&(l=h=(h+l)/2),f>p&&(f=p=(p+f)/2);var d=Object(a.a)(r[0],l,h),y=Object(a.a)(r[1],f,p),g=30*i;return s&&n&&(d+=-g*Math.log(1+Math.max(0,l-r[0])/g)+g*Math.log(1+Math.max(0,r[0]-h)/g),y+=-g*Math.log(1+Math.max(0,f-r[1])/g)+g*Math.log(1+Math.max(0,r[1]-p)/g)),[d,y]}}}function u(t){return t}var c=n(14),l=n(12),h=n(0);function f(t,e,n){var r=Object(h.getWidth)(e)/n[0],i=Object(h.getHeight)(e)/n[1];return Math.min(t,Math.min(r,i))}function p(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Object(a.a)(r,n/2,2*e)}function d(t,e,n,r){return function(i,o,s,u){if(void 0!==i){var c=r?f(t,r,s):t;return(void 0===n||n)&&u?p(i,c,e):Object(a.a)(i,e,c)}}}var y=n(54),g=n(24),_="center",v="resolution",m="rotation",b=n(10),O=n(44),E=n(29),x=n(2),w=n(47),j=n(11),C=n(3),S=n(25);n.d(e,"createCenterConstraint",function(){return L}),n.d(e,"createResolutionConstraint",function(){return M}),n.d(e,"createRotationConstraint",function(){return A}),n.d(e,"isNoopAnimation",function(){return D});var T,P=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),R=function(t){function e(e){var n=t.call(this)||this,r=Object(j.a)({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Object(C.createProjection)(r.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,r.center&&(r.center=Object(C.fromUserCoordinate)(r.center,n.projection_)),r.extent&&(r.extent=Object(C.fromUserExtent)(r.extent,n.projection_)),n.applyOptions_(r),n}return P(e,t),e.prototype.applyOptions_=function(t){var e=M(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=L(t),r=e.constraint,i=A(t);this.constraints_={center:n,resolution:r,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(j.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(j.a)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=Object(j.a)({},r)).center=Object(C.fromUserCoordinate)(r.center,this.getProjection())),r.anchor&&((r=Object(j.a)({},r)).anchor=Object(C.fromUserCoordinate)(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&I(e,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,u=this.targetRotation_,c=[],l=0;l<n;++l){var h=arguments[l],f={start:i,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||E.c,callback:e};if(h.center&&(f.sourceCenter=o,f.targetCenter=h.center.slice(),o=f.targetCenter),void 0!==h.zoom?(f.sourceResolution=s,f.targetResolution=this.getResolutionForZoom(h.zoom),s=f.targetResolution):h.resolution&&(f.sourceResolution=s,f.targetResolution=h.resolution,s=f.targetResolution),void 0!==h.rotation){f.sourceRotation=u;var p=Object(a.d)(h.rotation-u+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=u+p,u=f.targetRotation}D(f)?f.complete=!0:i+=f.duration,c.push(f)}this.animations_.push(c),this.setHint(g.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[g.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[g.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(g.a.ANIMATING,-this.hints_[g.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&I(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,s=r.length;o<s;++o){var u=r[o];if(!u.complete){var c=t-u.start,l=u.duration>0?c/u.duration:1;l>=1?(u.complete=!0,l=1):i=!1;var h=u.easing(l);if(u.sourceCenter){var f=u.sourceCenter[0],p=u.sourceCenter[1],d=f+h*(u.targetCenter[0]-f),y=p+h*(u.targetCenter[1]-p);this.targetCenter_=[d,y]}if(u.sourceResolution&&u.targetResolution){var _=1===h?u.targetResolution:u.sourceResolution+h*(u.targetResolution-u.sourceResolution);if(u.anchor){var v=this.getSizeFromViewport_(this.getRotation()),m=this.constraints_.resolution(_,0,v,!0);this.targetCenter_=this.calculateCenterZoom(m,u.anchor)}this.targetResolution_=_,this.applyTargetState_(!0)}if(void 0!==u.sourceRotation&&void 0!==u.targetRotation){var b=1===h?Object(a.d)(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+h*(u.targetRotation-u.sourceRotation);if(u.anchor){var O=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(O,u.anchor)}this.targetRotation_=b}if(this.applyTargetState_(!0),e=!0,!u.complete)break}}if(i){this.animations_[n]=null,this.setHint(g.a.ANIMATING,-1);var E=r[0].callback;E&&I(E,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],Object(O.rotate)(n,t-this.getRotation()),Object(O.add)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+Object(i.c)(this)+'"]',r=document.querySelector(n);if(r){var o=getComputedStyle(r);e[0]=parseInt(o.width,10),e[1]=parseInt(o.height,10)}if(t){var a=e[0],s=e[1];e[0]=Math.abs(a*Math.cos(t))+Math.abs(s*Math.sin(t)),e[1]=Math.abs(a*Math.sin(t))+Math.abs(s*Math.cos(t))}return e},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Object(C.toUserCoordinate)(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(_)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return Object(C.toUserExtent)(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenterInternal();Object(b.a)(n,1);var r=this.getResolution();Object(b.a)(void 0!==r,2);var i=this.getRotation();return Object(b.a)(void 0!==i,3),Object(h.getForViewAndSize)(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(v)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Object(C.fromUserExtent)(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getSizeFromViewport_(),r=Object(h.getWidth)(t)/n[0],i=Object(h.getHeight)(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(m)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=Object(l.e)(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Object(a.a)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Object(a.a)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,r=Object(j.a)({size:this.getSizeFromViewport_()},e||{});if(Object(b.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){Object(b.a)(!Object(h.isEmpty)(t),25);var i=Object(C.fromUserExtent)(t,this.getProjection());n=Object(w.c)(i)}else if(t.getType()===x.a.CIRCLE)i=Object(C.fromUserExtent)(t.getExtent(),this.getProjection()),(n=Object(w.c)(i)).rotate(this.getRotation(),Object(h.getCenter)(i));else{var o=Object(C.getUserProjection)();n=o?n.clone().transform(o,this.getProjection()):t}this.fitInternal(n,r)},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getSizeFromViewport_());var i,a=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var u=t.getFlatCoordinates(),c=this.getRotation(),l=Math.cos(-c),h=Math.sin(-c),f=1/0,p=1/0,d=-1/0,y=-1/0,g=t.getStride(),_=0,v=u.length;_<v;_+=g){var m=u[_]*l-u[_+1]*h,b=u[_]*h+u[_+1]*l;f=Math.min(f,m),p=Math.min(p,b),d=Math.max(d,m),y=Math.max(y,b)}var O=this.getResolutionForExtentInternal([f,p,d,y],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);O=isNaN(O)?i:Math.max(O,i),O=this.getConstrainedResolution(O,s?0:1),h=-h;var E=(f+d)/2,x=(p+y)/2,w=[(E+=(a[1]-a[3])/2*O)*l-(x+=(a[0]-a[2])/2*O)*h,x*l+E*h],j=n.callback?n.callback:o.c;void 0!==n.duration?this.animateInternal({resolution:O,center:this.getConstrainedCenter(w,O),duration:n.duration,easing:n.easing},j):(this.targetResolution_=O,this.targetCenter_=w,this.applyTargetState_(!1,!0),I(j,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Object(C.fromUserCoordinate)(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var r=this.getRotation(),i=Math.cos(-r),o=Math.sin(-r),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,u=this.getResolution(),c=(a+=(e[0]/2-n[0])*u)*i-(s+=(n[1]-e[1]/2)*u)*(o=-o),l=s*i+a*o;this.setCenterInternal([c,l])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Object(C.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Object(C.fromUserCoordinate)(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getSizeFromViewport_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Object(C.fromUserCoordinate)(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(Object(C.fromUserCoordinate)(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getSizeFromViewport_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,o,i,n);this.get(m)!==r&&this.set(m,r),this.get(v)!==o&&this.set(v,o),this.get(_)&&Object(O.equals)(this.get(_),a)||this.set(_,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),u=this.constraints_.center(this.targetCenter_,s,a);if(0===r)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=u,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&Object(O.equals)(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:s,duration:r,easing:E.b,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(g.a.INTERACTING,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&Object(C.fromUserCoordinate)(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(g.a.INTERACTING,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(c.a);function I(t,e){setTimeout(function(){t(e)},0)}function L(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return s(t.extent,t.constrainOnlyCenter,e)}var n=Object(C.createProjection)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,s(r,!1,!1)}return u}function M(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,c=void 0!==t.multiWorld&&t.multiWorld,y=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,g=Object(C.createProjection)(t.projection,"EPSG:3857"),_=g.getExtent(),v=t.constrainOnlyCenter,m=t.extent;if(c||m||!g.isGlobal()||(v=!1,m=_),void 0!==t.resolutions){var b=t.resolutions;n=b[o],i=void 0!==b[s]?b[s]:b[b.length-1],e=t.constrainResolution?function(t,e,n){return function(r,i,o,s){if(void 0!==r){var u=t[0],c=t[t.length-1],h=n?f(u,n,o):u;if(s)return void 0===e||e?p(r,h,c):Object(a.a)(r,c,h);var d=Math.min(h,r),y=Math.floor(Object(l.e)(t,d,i));return t[y]>h&&y<t.length-1?t[y+1]:t[y]}}}(b,y,!v&&m):d(n,i,y,!v&&m)}else{var O=(_?Math.max(Object(h.getWidth)(_),Object(h.getHeight)(_)):360*C.METERS_PER_UNIT[S.b.DEGREES]/g.getMetersPerUnit())/r.b/Math.pow(2,0),E=O/Math.pow(2,28);void 0!==(n=t.maxResolution)?o=0:n=O/Math.pow(u,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,s):O/Math.pow(u,s):E),s=o+Math.floor(Math.log(n/i)/Math.log(u)),i=n/Math.pow(u,s-o),e=t.constrainResolution?function(t,e,n,r,i){return function(o,s,u,c){if(void 0!==o){var l=i?f(e,i,u):e,h=void 0!==n?n:0;if(c)return void 0===r||r?p(o,l,h):Object(a.a)(o,h,l);var d=Math.ceil(Math.log(e/l)/Math.log(t)-1e-9),y=-s*(.5-1e-9)+.5,g=Math.min(l,o),_=Math.floor(Math.log(e/g)/Math.log(t)+y),v=Math.max(d,_),m=e/Math.pow(t,v);return Object(a.a)(m,h,l)}}}(u,n,i,y,!v&&m):d(n,i,y,!v&&m)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:u}}function A(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(y.b)():!1===e?y.d:"number"==typeof e?Object(y.a)(e):y.d}return y.c}function D(t){return!(t.sourceCenter&&t.targetCenter&&!Object(O.equals)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}e.default=R},function(t,e,n){"use strict";var r=n(67),i=n(103),o=n(64),a=n(84),s=n(73),u=((new Date).toISOString().split("T")[0],new r.default({image:new i.a({stroke:new o.a({width:2}),points:4,radius:10,radius2:0,angle:0})}));e.a={geocode:u,location:function(t){return new r.default({image:new a.a({stroke:new o.a({width:1,color:"#000"}),fill:new s.a({color:t._geocoded?"rgba(0,255,0,.6)":"rgba(0,0,255,.6)"}),radius:8})})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"register",function(){return a});var r=n(3),i=n(51),o=n(59);function a(t){var e,n,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var u=a[e];if(!Object(r.get)(u)){var c=t.defs(u);Object(r.addProjection)(new o.a({code:u,axisOrientation:c.axis,metersPerUnit:c.to_meter,units:c.units}))}}for(e=0;e<s;++e){var l=a[e],h=Object(r.get)(l);for(n=0;n<s;++n){var f=a[n],p=Object(r.get)(f);if(!Object(i.c)(l,f))if(t.defs[l]===t.defs[f])Object(r.addEquivalentProjections)([h,p]);else{var d=t(l,f);Object(r.addCoordinateTransforms)(h,p,d.forward,d.inverse)}}}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=l(n(13));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=t||{}).target=t.target||"body",e=r.call(this,(0,c.default)(s.HTML)),(0,c.default)(t.target).append(e.getContainer().addClass(t.css)),e.open=!1,e.okBtn=e.find(".btn-ok"),e.yesNoBtns=e.find(".btn-yes, .btn-no"),e.inputBtns=e.find(".btn-submit, .btn-cancel"),e.field=e.find("input"),e.msg=e.find(".dia-msg"),e}return e=s,(n=[{key:"ok",value:function(t){this.buttons(s.Type.OK,t),this.show(s.Type.OK,t),this.okBtn.focus();var e=this,n=this.okBtn;return new Promise(function(t){n.one("click",function(n){e.checkHref(n),e.hide(),t(!0)})})}},{key:"input",value:function(t){var e=this.field;this.buttons(s.Type.INPUT,t),e.attr("placeholder",t.placeholder||""),this.show(s.Type.INPUT,t),e.focus();var n=this,r=this.inputBtns;return new Promise(function(t){var i=function(e){n.hndlKey(t,n,e)};(0,c.default)(document).keyup(i),r.one("click",function(r){var o=(0,c.default)(r.target).hasClass("btn-cancel");(0,c.default)(document).off("keyup",i),n.hide(),t(o?void 0:e.val())})})}},{key:"yesNo",value:function(t){this.buttons(s.Type.YES_NO,t),this.show(s.Type.YES_NO,t),this.find(".btn-yes").focus();var e=this,n=this.yesNoBtns;return new Promise(function(t){n.one("click",function(n){e.checkHref(n),e.hide(),t(e.isYesBtn(n.target))})})}},{key:"yesNoCancel",value:function(t){this.buttons(s.Type.YES_NO_CANCEL,t),this.show(s.Type.YES_NO_CANCEL,t),this.find(".btn-yes").focus();var e=this,n=this.yesNoBtns,r=this.find(".btn-cancel");return new Promise(function(t){var i=function(n){e.hndlKey(t,e,n)};(0,c.default)(document).keyup(i),n.one("click",function(n){e.checkHref(n),(0,c.default)(document).off("keyup",i),e.hide(),t(e.isYesBtn(n.target))}),r.one("click",function(n){e.checkHref(n),(0,c.default)(document).off("keyup",i),e.hide(),t(void 0)})})}},{key:"isYesBtn",value:function(t){return(0,c.default)(t).hasClass("btn-yes")||c.default.contains(this.find(".btn-yes").get(0),t)}},{key:"checkHref",value:function(t){"#"===(0,c.default)(t.target).attr("href")&&t.preventDefault()}},{key:"buttons",value:function(t,e){var n=e.buttonText||[],r=e.buttonHref||[];switch(t){case s.Type.OK:this.find(".btn-ok").html(n[0]||"OK").attr("href",r[0]||"#");break;case s.Type.INPUT:this.find(".btn-submit").html(n[0]||"Submit").attr("href",r[0]||"#"),this.find(".btn-cancel").html(n[1]||"Cancel").attr("href",r[1]||"#");break;case s.Type.YES_NO:this.find(".btn-yes").html(n[0]||"Yes").attr("href",r[0]||"#"),this.find(".btn-no").html(n[1]||"No").attr("href",r[1]||"#");break;case s.Type.YES_NO_CANCEL:this.find(".btn-yes").html(n[0]||"Yes").attr("href",r[0]||"#"),this.find(".btn-no").html(n[1]||"No").attr("href",r[1]||"#"),this.find(".btn-cancel").html(n[2]||"Cancel").attr("href",r[2]||"#")}}},{key:"show",value:function(t,e){var n;this.open=!0,(0,c.default)("*").on("focus",c.default.proxy(this.trapFocus,this)),this.currentType=t,this.getContainer().removeClass("dia-3-btns"),this.find(".ui-link").removeClass("ui-link"),this.inputBtns.css("display",t===s.Type.INPUT?"inline-block":"none"),this.field.css("display",t===s.Type.INPUT?"block":"none"),this.okBtn.css("display",t===s.Type.OK?"inline-block":"none"),this.yesNoBtns.css("display",t===s.Type.YES_NO?"inline-block":"none"),t===s.Type.YES_NO_CANCEL&&(this.getContainer().addClass("dia-3-btns"),this.yesNoBtns.css("display","inline-block"),this.find(".btn-cancel").css("display","inline-block"));try{n=(0,c.default)(e.message)}catch(t){}n&&n.length?this.msg.html(n):this.msg.html(e.message),this.getContainer().fadeIn()}},{key:"trapFocus",value:function(t){var e=this.getContainer();this.open&&!c.default.contains(e.get(0),t.target)&&this.find(".btn:visible").first().focus()}},{key:"hide",value:function(){var t=this.field;this.open=!1,(0,c.default)("*").off("focus",c.default.proxy(this.trapFocus,this)),this.getContainer().fadeOut(function(){t.val("")})}},{key:"hndlKey",value:function(t,e,n){13===n.keyCode&&(0,c.default)(n.target).get(0)===e.field.get(0)?(e.hide(),t(e.field.val())):27===n.keyCode&&(e.hide(),t(void 0))}}])&&i(e.prototype,n),s}(l(n(85)).default);h.Type={OK:"ok",YES_NO:"yes-no",YES_NO_CANCEL:"yes-no-cancel",INPUT:"input"},h.Options,h.ShowOptions,h.HTML='<div class="dia-container" role="dialog"><div class="dia"><div class="dia-msg"></div><input class="rad-all"><div class="dia-btns"><a class="btn rad-all btn-ok">OK</a><a class="btn rad-all btn-yes">Yes</a><a class="btn rad-all btn-no">No</a><a class="btn rad-all btn-submit">OK</a><a class="btn rad-all btn-cancel">Cancel</a></div></div></div>';var f=h;e.default=f},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=P(n(13)),p=P(n(56)),d=P(n(139)),y=P(n(140)),g=P(n(141)),_=P(n(161)),v=P(n(75)),m=P(n(76)),b=P(n(80)),O=P(n(81)),E=P(n(78)),x=P(n(79)),w=P(n(77)),j=P(n(111)),C=P(n(162)),S=P(n(163)),T=P(n(86));function P(t){return t&&t.__esModule?t:{default:t}}var R=p.default.proj4,I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,_.default);var e,n,r=u(o);function o(t,e){var n;!function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var i=t.view instanceof j.default;return o.setupView(t),t.interactions||(t.interactions=[new v.default,new m.default,new w.default,new O.default,new E.default,new x.default,new b.default]),n=r.call(this,t),p.default.mixin(l(n),[y.default]),n.latestPhoto=0,n.base=null,n.labels={},n.photos={},n.storage=new g.default,n.setupLayers(t,e),n.defaultExtent(i),n.hookupEvents(n.getTargetElement()),n}return e=o,(n=[{key:"saveGeoJson",value:function(t,e){var n=new T.default({featureProjection:this.getView().getProjection(),dataProjection:"EPSG:4326"});this.storage.saveGeoJson(e||"layer.json",n.writeFeatures(t.getFeatures()))}},{key:"showPhoto",value:function(t){this.hidePhoto(),this.photos[(t||this.latestPhoto)+""].setVisible(!0),this.showLabels("photo")}},{key:"hidePhoto",value:function(){this.base.setVisible(!0),this.showLabels(y.default.LabelType.BASE),Object.entries(this.photos).forEach(function(t){var e=i(t,2);e[0],e[1].setVisible(!1)})}},{key:"showLabels",value:function(t){this.labels.base.setVisible(t===y.default.LabelType.BASE),this.labels.photo.setVisible(t===y.default.LabelType.PHOTO)}},{key:"getBaseLayers",value:function(){return{base:this.base,labels:this.labels,photos:this.photos}}},{key:"getStorage",value:function(){return this.storage}},{key:"defaultExtent",value:function(t){t||this.getView().fit(o.EXTENT,this.getSize())}},{key:"setupLayers",value:function(t,e){var n=this;this.base=new S.default({extent:this.layerExtent(o.UNIVERSE_EXTENT,t.view),source:new C.default({url:o.BASE_URL,projection:"EPSG:3857"}),preload:e||0}),this.addLayer(this.base),Object.entries(o.LABEL_URLS).forEach(function(e){var r=i(e,2),a=r[0],s=r[1];n.labels[a]=new S.default({extent:n.layerExtent(o.LABEL_EXTENT,t.view),source:new C.default({url:s,projection:"EPSG:3857"}),zIndex:1e3,visible:a===y.default.LabelType.BASE}),n.addLayer(n.labels[a])}),Object.entries(o.PHOTO_URLS).forEach(function(e){var r=i(e,2),a=r[0],s=r[1],u=new S.default({extent:n.layerExtent(o.PHOTO_EXTENT,t.view),source:new C.default({url:s,projection:"EPSG:3857"}),visible:!1});1*a.split("-")[0]>n.latestPhoto&&(n.latestPhoto=a),u.set("name",a),n.addLayer(u),u.on("change:visible",f.default.proxy(n.photoChange,n)),n.photos[a]=u})}},{key:"layerExtent",value:function(t,e){if(e&&"EPSG:3857"!==e.getProjection().getCode()){var n="EPSG:3857",r="EPSG:2263",i=R(n,r,[t[0],t[1]]),o=R(n,r,[t[2],t[3]]);return[i[0],i[1],o[0],o[1]]}return t}},{key:"photoChange",value:function(){var t=this,e=!1;Object.entries(this.photos).some(function(n){var r=i(n,2),o=(r[0],r[1]);if(e=o.getVisible())return t.showLabels(y.default.LabelType.PHOTO),!0}),e||this.showLabels(y.default.LabelType.BASE)}}])&&a(e.prototype,n),o}();I.setupView=function(t){t.view instanceof j.default||(t.view=new j.default({center:I.CENTER,minZoom:8,maxZoom:21,zoom:8,constrainRotation:1}))},I.BASE_URL="https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/carto/basemap/{z}/{x}/{-y}.jpg"),I.PHOTO_URLS={1924:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/1924/{z}/{x}/{-y}.png8"),1951:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/1951/{z}/{x}/{-y}.png8"),1996:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/1996/{z}/{x}/{-y}.png8"),"2001-2":"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2001-2/{z}/{x}/{-y}.png8"),2004:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2004/{z}/{x}/{-y}.png8"),2006:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2006/{z}/{x}/{-y}.png8"),2008:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2008/{z}/{x}/{-y}.png8"),2010:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2010/{z}/{x}/{-y}.png8"),2012:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2012/{z}/{x}/{-y}.png8"),2014:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2014/{z}/{x}/{-y}.png8"),2016:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2016/{z}/{x}/{-y}.png8"),2018:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/photo/2018/{z}/{x}/{-y}.png8")},I.LABEL_URLS={base:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/carto/label/{z}/{x}/{-y}.png8"),photo:"https://".concat(d.default.TILE_HOSTS,"/tms/1.0.0/carto/label-lt/{z}/{x}/{-y}.png8")},I.UNIVERSE_EXTENT=[-8453323,4774561,-7983695,5165920],I.EXTENT=[-8266522,4937867,-8203781,5000276],I.CENTER=[-8235252,4969073],I.LABEL_EXTENT=[-8268e3,4870900,-8005e3,5055500],I.PHOTO_EXTENT=[-8268357,4937238,-8203099,5001716];var L=I;e.default=L},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=y(n(13)),u=y(n(145)),c=y(n(109)),l=y(n(146)),h=y(n(148)),f=y(n(150)),p=y(n(152)),d=y(n(154));function y(t){return t&&t.__esModule?t:{default:t}}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,u.default);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(t){!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var r,i=t.map;r=void 0!==t.searchTarget?t.searchTarget:(0,s.default)(i.getTargetElement()).find(".ol-overlaycontainer-stopevent");var o=t.geocoder||new c.default({url:t.url});return e.call(this,{search:new d.default(r),zoom:new f.default(i),dialogTarget:t.dialogTarget,geolocate:new p.default(i),locator:new l.default({geocoder:o}),mapLocator:new h.default({map:i})})}return n}();g.Options;var _=g;e.default=_},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=y(n(13)),h=y(n(157)),f=y(n(42)),p=y(n(74)),d=y(n(160));function y(t){return t&&t.__esModule?t:{default:t}}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,r=s(u);function u(t){var e;!function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t)).geocoder=t.geocoder,e.locationTemplate=t.locationTemplate,e.featureCount=void 0,e.geocodedCount=0,e.replace=(new d.default).replace;var n=new p.default;return e.on=l.default.proxy(n.on,n),e.one=l.default.proxy(n.one,n),e.off=l.default.proxy(n.off,n),e.trigger=l.default.proxy(n.trigger,n),e}return e=u,(n=[{key:"readFeatures",value:function(t,e){var n=o(c(u.prototype),"readFeatures",this).call(this,t,e);return this.featureCount=(this.featureCount||0)+n.length,n}},{key:"setGeocode",value:function(t,e){var n=t.get("_input"),r=t.get("_source");t.set("_geocodeResp",e),"geocoded"===e.type?(console.info("Geocoded:",n,r,"Geocoder response:",e),t.setGeometry(new f.default(e.coordinate))):(console.warn("Ambiguous location:",n,r,"Geocoder response:",e),t.dispatchEvent("change",{target:t}))}},{key:"setGeometry",value:function(t,e){var n=this,r=!1,i=this.replace(this.locationTemplate,e);t.set("_input",i),t.set("_source",e),""===i.replace(/\,/g,"").trim()?(t.dispatchEvent({type:"change",target:t}),console.error("Invalid location:",i,"Bad record:",e)):this.geocoder.search(i).then(function(e){n.setGeocode(t,e),r=!0}).catch(function(t){console.error("Geocoding error:",i,e,"Geocoder response:",t)}).finally(function(){r||t.dispatchEvent({type:"change",target:t}),n.geocodedCount=n.geocodedCount+1,n.geocodedCount===n.featureCount&&n.trigger("geocode-complete",n)})}}])&&i(e.prototype,n),u}(h.default);g.Options;var _=g;e.default=_},,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),function(t){var e=n(13),r=n.n(e),i=n(89),o=n(88),a=n(108),s=n.n(a),u=n(109),c=n.n(u),l=n(115),h=n.n(l),f=n(116),p=n.n(f),d=n(117),y=n.n(d),g=n(110),_=n.n(g),v=n(112),m=n(42),b="https://maps.nyc.gov/geoclient/v1/search.json?app_key=74DF5DB1D7320A9A2&app_id=nyc-lib-example",O=["geometry","X","Y","_geocodeResp","_input","_source"],E=new h.a({target:"map"}),x=new p.a({map:E,url:b}),w=new i.default,j=new o.default({source:w,style:v.a.location,zIndex:2e4}),C=new c.a({url:b}),S=new y.a({geocoder:C,locationTemplate:"${ADDRESS}, ${BOROUGH}"});E.addLayer(j),x.mapLocator.layer.setStyle(v.a.geocode);var T=!1;r()(".photo").click(function(){E[(T=!T)?"showPhoto":"hidePhoto"](),r()(".photo").html(T?"Base Map":"Aerial Photo")}),C.on("geocoded",function(t){if(C._feature){var e=C._feature,n=e.getId(),i=t.name.split(",")[0].trim(),o=t.name.split(",")[1].trim(),a=t.coordinate;e._geocoded=!0,e.set("ADDRESS",i),e.set("BOROUGH",o),e.setGeometry(new m.default(a)),r()("#fid_".concat(n," input")).val(i).parent().addClass("geocoded"),r()("#fid_".concat(n," select")).val(o).parent().addClass("geocoded"),C._feature=null,E.getView().animate({center:a,zoom:15})}}),C.on("ambiguous",function(t){C._feature&&(C._feature=null)}),r()(".load-csv").click(function(){var t=r()('<input class="file-in" type="file">'),e=new FileReader;e.onload=function(){w.clear(),w.addFeatures(S.readFeatures(e.result))},r()("body").append(t),t.change(function(n){t.remove(),e.readAsText(n.target.files[0])}),t.trigger("click")});var P,R=function(t){C._feature||(C._feature=t,C.search("".concat(t.get("ADDRESS"),", ").concat(t.get("BOROUGH"))))},I=function(t){var e=r()(t.target),n=e.data("feature");n.set("BOROUGH",e.val()),R(n)},L=function(t){var e=r()(t.target),n=e.data("feature");n.set("ADDRESS",e.val()),13===t.keyCode&&R(n)},M=function(t){var e=P.getId();P._geocoded=!0,P.setGeometry(new m.default(t.coordinate)),r()("#fid_".concat(e," .address, #fid_").concat(e," .borough")).addClass("geocoded")},A=function(t){var e=r()(t.target).toggleClass("pressed");e.hasClass("pressed")?(E.on("click",M),P=e.data("feature")):(E.off("click",M),P=null)};S.on("geocode-complete",function(){var t,e,n,i,o=[];w.getFeatures().forEach(function(t){t.getGeometry()||o.push(t)}),t=o,e=r()(".failed table"),n=e.find("thead").empty(),i=e.find("tbody").empty(),t.length?(t.forEach(function(t,e){var o=t.getProperties(),a=r()('<tr id="fid_'.concat(t.getId(),'"></tr>'));o._input!==S.locationTemplate&&i.append(a),Object.keys(o).forEach(function(i){if(-1===r.a.inArray(i,O)&&(0===e&&n.append("<th>".concat(i,"</th>")),o._input!==S.locationTemplate)){var s=r()('<td class="'.concat(i.toLowerCase(),'"></td>'));if(a.append(s),"ADDRESS"===i){var u=r()("<input>").keyup(L).data("feature",t),c=r()("<button>&#8599;</button>").click(A).data("feature",t);s.html(u.val(o[i])),s.append(c)}else if("BOROUGH"===i){var l=r()("<select><option>Bronx</option><option>Brooklyn</option><option>Manhattan</option><option>Queens</option><option>Staten Island</option></select>").change(I).data("feature",t);s.html(l.val(o[i]))}else s.html(o[i])}})}),r()(".failed").show(),e.focus()):e.hide()}),r()(".save-csv").click(function(){var t=[];w.getFeatures().forEach(function(e){var n=e.getProperties();if(n._input!==S.locationTemplate){var i=e.getGeometry(),o={};if(i){var a=proj4("EPSG:3857","EPSG:2263",i.getCoordinates());o.X=Math.round(a[0]),o.Y=Math.round(a[1])}Object.keys(n).forEach(function(t){-1===r.a.inArray(t,O)&&(o[t]=n[t])}),t.push(o)}});var e=s.a.unparse(t,{header:!0});E.storage.saveGeoJson("location.csv",e)}),new _.a({map:E,tips:[{layer:j,label:function(t){return{html:"<div><strong>".concat(t.get("NAME"),"</strong></div><div>").concat(t.get("ADDRESS"),", ").concat(t.get("BOROUGH"),"<div></div>")}}}]}),t.map=E,t.source=w,t.layer=j,t.geocoder=C}.call(this,n(133))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e){t.exports=window.proj4||{defs:function(){}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n,r=a(s);function s(){return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),r.call(this)}return e=s,(n=[{key:"search",value:function(t){throw"Not implemented"}}])&&i(e.prototype,n),s}(((c=n(74))&&c.__esModule?c:{default:c}).default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(137),e.default=function(t,e){var n=!1;return new Promise(function(r,i){var o=setTimeout(function(){n=!0,i(new Error("Request timeout for ".concat(t)))},e||15e3);fetch(t).then(function(t){clearTimeout(o),n||r(t)}).catch(function(t){n||i(t)})})}},function(t,e,n){n(138),t.exports=self.fetch.bind(self)},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",function(){return p}),n.d(e,"Request",function(){return b}),n.d(e,"Response",function(){return E}),n.d(e,"DOMException",function(){return w}),n.d(e,"fetch",function(){return j});var r="URLSearchParams"in self,i="Symbol"in self&&"iterator"in Symbol,o="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in self,s="ArrayBuffer"in self;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function y(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function g(t){var e=new FileReader,n=y(e);return e.readAsArrayBuffer(t),n}function _(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=_(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=_(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,n,r=d(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=y(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=l(t),e=h(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[l(t)]},p.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},p.prototype.set=function(t,e){this.map[l(t)]=h(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),f(t)},p.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),f(t)},p.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),f(t)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var n,r,i=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function O(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function E(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];E.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})};var w=self.DOMException;try{new w}catch(t){(w=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function j(t,e){return new Promise(function(n,r){var i=new b(t,e);if(i.signal&&i.signal.aborted)return r(new w("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new E(i,r))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new w("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),i.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),i.signal&&(i.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",s)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})}j.polyfill=!0,self.fetch||(self.fetch=j,self.Headers=p,self.Request=b,self.Response=E)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(56))&&r.__esModule?r:{default:r},o=n(57);(0,n(113).register)(i.default.proj4);var a={TILE_HOSTS:"maps{1-4}.nyc.gov",TILE_GRID:(0,o.createXYZ)({minZoom:8,maxZoom:21})};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(13))&&r.__esModule?r:{default:r},o={hookupEvents:function(t){(0,i.default)(t).on("drop",i.default.proxy(this.loadLayer,this)),(0,i.default)(t).on("dragover",function(t){t.preventDefault()})},loadLayer:function(t){var e=t.originalEvent.dataTransfer;if(t.preventDefault(),t.stopPropagation(),e&&e.files.length){var n=e.files;"json"===n[0].name.split(".").pop().toLowerCase()?this.storage.loadGeoJsonFile(this,null,n[0]):this.storage.loadShapeFile(this,null,n)}},sortedPhotos:function(){var t=this,e=[];return Object.keys(this.photos).forEach(function(n){e.push(t.photos[n])}),e.sort(function(t,e){var n=t.name||t.get("name");return(e.name||e.get("name")).substr(0,4)-n.substr(0,4)})},LabelType:{BASE:"base",PHOTO:"photo"}};e.default=o},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=d(n(86)),l=d(n(89)),h=d(n(88)),f=d(n(142)),p=n(113);function d(t){return t&&t.__esModule?t:{default:t}}var y=d(n(56)).default.proj4,g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,s=a(u);function u(){return function(t,e){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this),s.call(this)}return e=u,(n=[{key:"addToMap",value:function(t,e,n){var i={featureProjection:t.getView().getProjection().getCode(),dataProjection:this.customProj(n,y)};(0,p.register)(y),"object"===r(e)&&(e={type:"FeatureCollection",features:e});var o=new l.default,a=new h.default({source:o});return o.addFeatures((new c.default).readFeatures(e,i)),t.addLayer(a),a}}])&&i(e.prototype,n),u}(f.default);e.default=g},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(13)),o=a(n(56));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"canDownload",value:function(){return"download"in(0,i.default)("<a></a>").get(0)}},{key:"saveGeoJson",value:function(t,e){var n="data:application/jsoncharset=utf-8,".concat(encodeURIComponent(e)),r=(0,i.default)('<a class="file-dwn"><img></a>');(0,i.default)("body").append(r),r.attr({href:n,download:t}).find("img").trigger("click"),r.remove()}},{key:"setItem",value:function(t,e){"localStorage"in window&&localStorage.setItem(t,e)}},{key:"getItem",value:function(t){if("localStorage"in window)return localStorage.getItem(t)}},{key:"removeItem",value:function(t){"localStorage"in window&&localStorage.removeItem(t)}},{key:"readTextFile",value:function(t,e){var n=new FileReader;if(n.onload=function(){t(n.result)},e)n.readAsText(e);else{var r=(0,i.default)('<input class="file-in" type="file">');(0,i.default)("body").append(r),r.change(function(t){r.remove(),n.readAsText(t.target.files[0])}),r.trigger("click")}}},{key:"loadGeoJsonFile",value:function(t,e,n){var r=this;this.readTextFile(function(n){var i=r.addToMap(t,n);e&&e(i)},n)}},{key:"loadShapeFile",value:function(t,e,n){if(n)this.getShpDbfPrj(t,n,e);else{var r=this,o=(0,i.default)('<input class="file-in" type="file" multiple>');(0,i.default)("body").append(o),o.change(function(n){r.getShpDbfPrj(t,n.target.files,e),o.remove()}),o.trigger("click")}}},{key:"getShpDbfPrj",value:function(t,e,n){var r,i,o,a=this;Object.values(e).forEach(function(t){var e=t.name,n=e.substr(e.length-4).toLowerCase();".shp"===n?r=t:".dbf"===n?i=t:".prj"===n&&(o=t)}),r?this.readPrj(o,function(e){a.readShpDbf(t,r,i,e,n)}):n&&n()}},{key:"readPrj",value:function(t,e){t?this.readTextFile(e,t):e()}},{key:"readShpDbf",value:function(t,e,n,r,i){var o,a,s=this,u=new FileReader;u.onload=function(e){o=e.target.result,!a&&n||s.readShp(t,o,a,r,i)};var c=new FileReader;c.onload=function(e){a=e.target.result,o&&s.readShp(t,o,a,r,i)},u.readAsArrayBuffer(e),n&&c.readAsArrayBuffer(n)}},{key:"readShp",value:function(e,n,r,i,o){var a=this,s=[];t.shapefile.open(n,r).then(function(t){t.read().then(function n(r){if(!r.done)return s.push(r.value),t.read().then(n);var u=a.addToMap(e,s,i);o&&o(u)})}).catch(function(t){console.error(t)})}},{key:"addToMap",value:function(t,e,n){throw"Not implemented"}},{key:"customProj",value:function(t,e){if(t){var n=o.default.nextId("shp:prj");return e.defs(n,t),n}}}])&&r(e.prototype,n),t}();s.shapefile=n(143);var u=s;e.default=u},function(t,e){t.exports=window.shapefile||{}},function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,r){r=r||Object.create(null);var i=document.createEvent("Event");i.initEvent(n,r.bubbles||!1,r.cancelable||!1);for(var o,a=2;a<t.length;a++)i[o=t[a]]=r[o]||e[a];i.buttons=r.buttons||0;var s;return s=void 0!==r.pressure&&i.buttons?r.pressure:i.buttons?.5:0,i.x=i.clientX,i.y=i.clientY,i.pointerId=r.pointerId||0,i.width=r.width||1,i.height=r.height||1,i.pressure=s,i.tiltX=r.tiltX||0,i.tiltY=r.tiltY||0,i.twist=r.twist||0,i.tangentialPressure=r.tangentialPressure||0,i.pointerType=r.pointerType||"",i.hwTimestamp=r.hwTimestamp||0,i.isPrimary=r.isPrimary||!1,i.detail=0,i}var r=window.Map&&window.Map.prototype.forEach?Map:i;function i(){this.array=[],this.size=0}i.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},u="undefined"!=typeof SVGElementInstance,c={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,r=n.events;r&&(r.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var r=new n(t,e);return e.preventDefault&&(r.preventDefault=e.preventDefault),r._target=r._target||e.target,r},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),r=0;r<o.length;r++)n[e=o[r]]=t[e]||a[r],!u||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in s?void 0:e:t._target},propagate:function(t,e,n){for(var r=t.target,i=[];null!=r&&r!==document&&!r.contains(t.relatedTarget);)if(i.push(r),!(r=r.parentNode))return;n&&i.reverse(),i.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(t,e,r){this.captureInfo[t]&&this.releaseCapture(t,r),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,r),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var i=new n("gotpointercapture",{bubbles:!0});i.pointerId=t,i._target=e,r||this.asyncDispatchEvent(i)},releaseCapture:function(t,e){var r=this.captureInfo[t];if(r){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var i=new n("lostpointercapture",{bubbles:!0});i.pointerId=t,i._target=r,e||this.asyncDispatchEvent(i)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};c.boundHandler=c.eventHandler.bind(c);var l={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var r,i,o=t.elementFromPoint(e,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(e,n)){var a=this.targetingShadow(r);return this.searchRoot(a,e,n)||r}i=this.olderShadow(i)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,r=this.owner(t.target);return r.elementFromPoint(e,n)||(r=document),this.searchRoot(r,e,n)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),f=Array.prototype.map.call.bind(Array.prototype.map),p=Array.prototype.slice.call.bind(Array.prototype.slice),d=Array.prototype.filter.call.bind(Array.prototype.filter),y=window.MutationObserver||window.WebKitMutationObserver,g={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function _(t,e,n,r){this.addCallback=t.bind(r),this.removeCallback=e.bind(r),this.changedCallback=n.bind(r),y&&(this.observer=new y(this.mutationWatcher.bind(this)))}function v(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}_.prototype={watchSubtree:function(t){this.observer&&l.canTarget(t)&&this.observer.observe(t,g)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){h(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(p(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=f(t,this.findElements,this);return e.push(d(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){"childList"===t.type?(this.flattenMutationTree(t.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(t.removedNodes).forEach(this.removeElement,this)):"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var m=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],b="",O=window.PointerEvent||window.MSPointerEvent,E=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,x=c.pointermap,w=[1,4,2,8,16],j=!1;try{j=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var C,S={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e.x),u=Math.abs(i-e.y);if(s<=25&&u<=25)return!0}},prepareEvent:function(t){var e=c.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var n=x.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=x.get(this.POINTER_ID),n=this.prepareEvent(t);j||(n.buttons=w[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),x.set(this.POINTER_ID,t),e&&0!==e.buttons?c.move(n):c.down(n)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);j||this.prepareButtonsForMove(e,t),e.button=-1,x.set(this.POINTER_ID,t),c.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=x.get(this.POINTER_ID),n=this.prepareEvent(t);if(!j){var r=w[n.button];n.buttons=e?e.buttons&~r:0,t.buttons=n.buttons}x.set(this.POINTER_ID,t),n.buttons&=~w[n.button],0===n.buttons?c.up(n):c.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);j||this.prepareButtonsForMove(e,t),e.button=-1,x.set(this.POINTER_ID,t),c.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);j||this.prepareButtonsForMove(e,t),e.button=-1,c.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.deactivateMouse()},deactivateMouse:function(){x.delete(this.POINTER_ID)}},T=c.captureInfo,P=l.findTarget.bind(l),R=l.allShadows.bind(l),I=c.pointermap,L={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){C.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);"number"==typeof n&&(t._scrollType=n,c.listen(t,this.events),R(t).forEach(function(t){t._scrollType=n,c.listen(t,this.events)},this))},elementRemoved:function(t){if(I.size>0){var e=this.events;t.addEventListener("touchend",function(){t._scrollType=void 0,c.unlisten(t,e)})}else t._scrollType=void 0,c.unlisten(t,this.events);R(t).forEach(function(t){t._scrollType=void 0,c.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(e);"number"==typeof r&&"number"==typeof i?(t._scrollType=r,R(t).forEach(function(t){t._scrollType=r},this)):"number"==typeof i?this.elementRemoved(t):"number"==typeof r&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?1:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?2:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?4:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?8:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return 15;if("none"===t)return 0;var e=t.split(" "),n=this.scrollTypes;return n.UP(e)|n.DOWN(e)|n.LEFT(e)|n.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===I.size||1===I.size&&I.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=c.cloneEvent(t),r=n.pointerId=t.identifier+2;if(n.target=T[r]||P(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){var i=Math.tan(t.altitudeAngle),o=180/Math.PI;n.tiltX=Math.atan(Math.cos(t.azimuthAngle)/i)*o,n.tiltY=Math.atan(Math.sin(t.azimuthAngle)/i)*o}else n.tiltX=0,n.tiltY=0;"stylus"===t.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var r,i=0;i<n.length;i++)r=n[i],e.call(this,this.touchToPointer(r))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if(0===n)e=!1;else if(15===n)e=!0;else{var r=t.changedTouches[0],i=r.clientY-this.firstXY.Y,o=Math.abs(i),a=r.clientX-this.firstXY.X,s=Math.abs(a),u=1&n,c=2&n,l=4&n,h=8&n;l&&h?e=s>o:l?e=s>o&&a>0:h&&(e=s>o&&a<0),e||(u&&c?e=s<o:u?e=s<o&&i>0:c&&(e=s<o&&i<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,r=0,i=t.length;r<i&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(I.size>=e.length){var n=[];I.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var i=t.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){I.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),c.enterOver(t),c.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):("touchforcechange"!==t.type&&t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=I.get(e.pointerId);if(n){var r=n.out,i=n.outTarget;c.move(e),r&&i!==e.target&&(r.relatedTarget=e.target,e.relatedTarget=i,r.target=i,e.target?(c.leaveOut(r),c.enterOver(e)):(e.target=i,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(c.up(t),c.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){c.cancel(t),c.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){I.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=S.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};e.push(r);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,r);setTimeout(i,2500)}}};C=new _(L.elementAdded,L.elementRemoved,L.elementChanged,L);var M,A,D,F=c.pointermap,k=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,N={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return k&&((e=c.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){F.delete(t)},MSPointerDown:function(t){F.set(t.pointerId,t);var e=this.prepareEvent(t);c.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);c.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);c.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);c.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);c.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=c.makeEvent("lostpointercapture",t);c.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=c.makeEvent("gotpointercapture",t);c.dispatchEvent(e)}};function G(t){if(!c.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function Y(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function X(t){return 0!==c.pointermap.get(t).buttons}return window.navigator.msPointerEnabled?(M=function(t){G(t),Y(this),X(t)&&(c.setCapture(t,this,!0),this.msSetPointerCapture(t))},A=function(t){G(t),c.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(M=function(t){G(t),Y(this),X(t)&&c.setCapture(t,this)},A=function(t){G(t),c.releaseCapture(t)}),D=function(t){return!!c.captureInfo[t]},function(){if(O){m.forEach(function(t){b+=t.selector+v(t.value)+"\n",E&&(b+=function(t){return"body /shadow-deep/ "+t}(t.selector)+v(t.value)+"\n")});var t=document.createElement("style");t.textContent=b,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),c.registerSource("ms",N)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),c.registerSource("mouse",S),void 0!==window.ontouchstart&&c.registerSource("touch",L);c.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:M},releasePointerCapture:{value:A},hasPointerCapture:{value:D}}),{dispatcher:c,Installer:_,PointerEvent:n,PointerMap:r,targetFinding:l}},"object"===a(e)&&void 0!==t?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=f(n(56)),l=f(n(74)),h=f(n(114));function f(t){return t&&t.__esModule?t:{default:t}}var p=c.default.proj4,d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,l.default);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this)).zoom=t.zoom,e.geolocate=t.geolocate,e.search=t.search,e.locator=t.locator,e.mapLocator=t.mapLocator,e.dialog=new h.default({target:t.dialogTarget}),e.autoLocate=t.autoLocate||!1,e.hookupEvents(),e.locateFromQueryString(document.location.search),e}return e=s,(n=[{key:"setLocation",value:function(t){this.mapLocator.setLocation(t)}},{key:"hookupEvents",value:function(){this.locator.on("geocoded",this.located,this),this.locator.on("geolocated",this.located,this),this.locator.on("ambiguous",this.ambiguous,this),this.locator.on("error",this.error,this),this.search.on("disambiguated",this.located,this),this.search.on("search",this.locator.search,this.locator),this.geolocate.on("geolocate",this.locator.locate,this.locator)}},{key:"goTo",value:function(t){if(t.indexOf("EPSG")>-1){t=t.split(",");var e=this.mapLocator.getProjection(),n=p(t[2],e,[1*t[0],1*t[1]]);this.mapLocator.zoomLocation({coordinate:n})}else this.locator.search(t)}},{key:"locateFromQueryString",value:function(t){var e={};try{(t=decodeURIComponent(t)).substr(1).split("&").forEach(function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])})}catch(t){}e.location?this.goTo(e.location):this.autoLocate&&this.locator.locate()}},{key:"located",value:function(t){var e=this;this.search.val("geolocated"===t.type?"":t.name),this.mapLocator.zoomLocation(t,function(){e.trigger(t.type,t)})}},{key:"ambiguous",value:function(t){t.possible.length?this.search.disambiguate(t):this.dialog.ok({message:"The location you entered was not understood"})}},{key:"error",value:function(){this.dialog.ok({message:"Failed to contact geocoder"})}}])&&i(e.prototype,n),s}();d.Options;var y=d;e.default=y},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=g(n(13)),h=g(n(56)),f=g(n(107)),p=g(n(147)),d=n(44),y=n(0);function g(t){return t&&t.__esModule?t:{default:t}}var _=h.default.proj4,v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,f.default);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t)).locating=!1,e.extentLimit=t.extentLimit,e.geolocation=new p.default({trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),e.geolocation.on("change",l.default.proxy(e.geolocationChange,u(e))),e.geolocation.on("error",l.default.proxy(e.geolocationError,u(e))),e}return e=s,(n=[{key:"locate",value:function(){this.locating=!0,this.geolocation.setTracking(!0)}},{key:"track",value:function(t){this.geolocation.setTracking(t)}},{key:"geolocationError",value:function(t){console.error(t.message,t)}},{key:"geolocationChange",value:function(){var t=this.geolocation,e=t.getPosition(),n=(0,d.toStringHDMS)(e);e=_("EPSG:4326",this.projection,e),this.withinLimit(e)&&(this.locating&&(this.track(!1),this.locating=!1),this.trigger("geolocated",{coordinate:e,heading:t.getHeading(),accuracy:t.getAccuracy()/this.metersPerUnit(),type:"geolocated",name:n}))}},{key:"withinLimit",value:function(t){return!this.extentLimit||(0,y.containsCoordinate)(this.extentLimit,t)}}])&&i(e.prototype,n),s}();v.Options;var m=v;e.default=m},function(t,e,n){"use strict";n.r(e);var r,i=n(14),o=n(27),a=n(7),s=n(47),u=n(5),c=n(3),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h="accuracy",f="accuracyGeometry",p="altitude",d="altitudeAccuracy",y="heading",g="position",_="projection",v="speed",m="tracking",b="trackingOptions",O=function(t){function e(e){var n=t.call(this,a.a.ERROR)||this;return n.code=e.code,n.message=e.message,n}return l(e,t),e}(o.a),E=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.position_=null,n.transform_=c.identityTransform,n.watchId_=void 0,n.addEventListener(Object(i.b)(_),n.handleProjectionChanged_),n.addEventListener(Object(i.b)(m),n.handleTrackingChanged_),void 0!==r.projection&&n.setProjection(r.projection),void 0!==r.trackingOptions&&n.setTrackingOptions(r.trackingOptions),n.setTracking(void 0!==r.tracking&&r.tracking),n}return l(e,t),e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Object(c.getTransformFromProjections)(Object(c.get)("EPSG:4326"),t),this.position_&&this.set(g,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(h,e.accuracy),this.set(p,null===e.altitude?void 0:e.altitude),this.set(d,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(y,null===e.heading?void 0:Object(u.i)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var n=this.transform_(this.position_);this.set(g,n),this.set(v,null===e.speed?void 0:e.speed);var r=Object(s.a)(this.position_,e.accuracy);r.applyTransform(this.transform_),this.set(f,r),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new O(t))},e.prototype.getAccuracy=function(){return this.get(h)},e.prototype.getAccuracyGeometry=function(){return this.get(f)||null},e.prototype.getAltitude=function(){return this.get(p)},e.prototype.getAltitudeAccuracy=function(){return this.get(d)},e.prototype.getHeading=function(){return this.get(y)},e.prototype.getPosition=function(){return this.get(g)},e.prototype.getProjection=function(){return this.get(_)},e.prototype.getSpeed=function(){return this.get(v)},e.prototype.getTracking=function(){return this.get(m)},e.prototype.getTrackingOptions=function(){return this.get(b)},e.prototype.setProjection=function(t){this.set(_,Object(c.get)(t))},e.prototype.setTracking=function(t){this.set(m,t)},e.prototype.setTrackingOptions=function(t){this.set(b,t)},e}(i.a);e.default=E},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=v(n(86)),l=v(n(67)),h=v(n(164)),f=v(n(89)),p=v(n(88)),d=v(n(87)),y=v(n(42)),g=v(n(149)),_=v(n(110));function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,g.default);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this)).layer=null,e.source=null,e.map=t.map,e.view=e.map.getView(),e.zoom=void 0!==t.zoom?t.zoom:g.default.ZOOM_LEVEL,e.format=new c.default,e.tip=null,e.createLayer(t.style),e}return e=s,(n=[{key:"zoomLocation",value:function(t,e){var n=this.map,r=this.view,i=this.source,o=this.feature(t);if(o){var a=o.getGeometry();i.clear(),i.addFeature(o),e&&n.once("moveend",e),"Point"===a.getType()?r.animate({center:t.coordinate,zoom:this.zoom}):r.fit(a.getExtent(),{size:n.getSize(),duration:500})}}},{key:"setLocation",value:function(t){this.source.clear(),this.source.addFeature(this.feature(t))}},{key:"getProjection",value:function(){return this.view.getProjection()}},{key:"feature",value:function(t){var e=t.geometry,n=t.coordinate;if(e||n){var r=new d.default({name:t.name,isFeature:t.isFeature});return e?r.setGeometry(this.format.readGeometry(e)):r.setGeometry(new y.default(n)),r}console.error("Unable to map invalid geometry:",t)}},{key:"createLayer",value:function(t){this.source=new f.default,this.layer=new p.default({source:this.source,style:t||s.LOCATION_STYLE,zIndex:1e4}),this.map.addLayer(this.layer),this.tip=new _.default({map:this.map,tips:[{layer:this.layer,label:function(t){return{css:"nyc-user-location",html:t.get("name")}}}]})}}])&&i(e.prototype,n),s}();m.Options,m.LOCATION_STYLE=new l.default({image:new h.default({scale:.09375,imgSize:[1024,1024],src:"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221024%22%20height%3D%221024%22%3E%3Cfilter%20id%3D%22filter%22%20style%3D%22color-interpolation-filters%3AsRGB%22%20x%3D%22-0.035750399%22%20width%3D%221.0715008%22%20y%3D%22-0.03625311%22%20%20height%3D%221.0725062%22%3E%3CfeGaussianBlur%20stdDeviation%3D%226.0015266%22%2F%3E%3C%2Ffilter%3E%3Cpath%20style%3D%22opacity%3A0.1%3Bfill%3A%23000000%3Bfill-opacity%3A1%3Bstroke%3A%23000000%3Bstroke-width%3A10%3Bstroke-opacity%3A1%3Bfilter%3Aurl(%23filter)%22%20d%3D%22M%20868.91078%2C141.10492%20C%20806.53392%2C79.855774%20695.84806%2C89.539532%20621.70905%2C162.73227%20547.57005%2C235.92501%20492.08486%2C476.05139%20510.9101%2C494.53629%20529.73535%2C513.02119%20773.473%2C457.74384%20847.612%2C384.5511%20921.751%2C311.35836%20931.28764%2C202.35407%20868.91078%2C141.10492%20Z%20M%20645.16036%2C361.99953%20c%20-41.52967%2C-40.77885%20-35.13918%2C-113.58881%2014.19918%2C-162.29746%2049.33837%2C-48.70864%20123.27149%2C-55.19708%20164.80115%2C-14.41823%2041.52967%2C40.77885%2035.13918%2C113.58881%20-14.19918%2C162.29745%20-49.33837%2C48.70864%20-123.27149%2C55.19709%20-164.80115%2C14.41824%20z%22%2F%3E%3Cpath%20style%3D%22fill%3A%23000%3Bstroke%3A%23fff%3Bstroke-width%3A20%22%20d%3D%22m%20512%2C25.6%20c%20-95.4279%2C0%20-172.8%2C77.3721%20-172.8%2C172.8%200%2C95.4279%20144%2C288%20172.8%2C288%2028.8%2C0%20172.8%2C-192.5721%20172.8%2C-288%20C%20684.8%2C102.9721%20607.4279%2C25.6%20512%2C25.6%20Z%20m%200%2C288%20c%20-63.5346%2C0%20-115.2%2C-51.6942%20-115.2%2C-115.2%200%2C-63.5058%2051.6654%2C-115.2%20115.2%2C-115.2%2063.5346%2C0%20115.2%2C51.6942%20115.2%2C115.2%200%2C63.5058%20-51.6654%2C115.2%20-115.2%2C115.2%20z%22%2F%3E%3C%2Fsvg%3E"})});var b=m;e.default=b},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"zoomLocation",value:function(t,e){throw"Not implemented"}},{key:"setLocation",value:function(t){throw"Not implemented"}},{key:"getProjection",value:function(){throw"Not implemented"}}])&&r(e.prototype,n),t}();i.ZOOM_LEVEL=17;var o=i;e.default=o},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=l(n(13));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,(0,c.default)(t.getTargetElement()).find(".ol-overlaycontainer-stopevent"))).map=t,e.view=t.getView(),e.getContainer().on("click dblclick mouseover mousemove",function(){(0,c.default)(".f-tip").hide()}),e}return e=s,(n=[{key:"zoom",value:function(t){this.view.animate({zoom:this.view.getZoom()+1*(0,c.default)(t.currentTarget).data("zoom-incr")})}}])&&i(e.prototype,n),s}(l(n(151)).default);e.default=h},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=h(n(13));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),e=r.call(this,(0,l.default)(s.HTML)),(0,l.default)(t).append(e.getContainer()),e.find(".btn-z-in, .btn-z-out").click(l.default.proxy(e.zoom,u(e))),e}return e=s,(n=[{key:"zoom",value:function(t){throw"Not implemented"}}])&&i(e.prototype,n),s}(h(n(85)).default);f.HTML='<div class="zoom"><button class="btn-z-in btn-sq rad-all" data-zoom-incr="1" title="Zoom in"><span class="screen-reader-only">Zoom in</span><span class="fas fa-plus" role="img"></span></button><button class="btn-z-out btn-sq rad-all" data-zoom-incr="-1" title="Zoom out"><span class="screen-reader-only">Zoom out</span><span class="fas fa-minus" role="img"></span></button></div>';var p=f;e.default=p},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=u(n(13));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(t){var r;return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(r=e.call(this,(0,s.default)(t.getTargetElement()).find(".ol-overlaycontainer-stopevent"))).getContainer().on("click dblclick mouseover mousemove",function(){(0,s.default)(".f-tip").hide()}),r}return n}(u(n(153)).default);e.default=c},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=h(n(13));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),e=r.call(this,(0,l.default)(s.HTML)),(0,l.default)(t).append(e.getContainer()),e.find(".btn-geo").click(l.default.proxy(e.geolocate,u(e))),e}return e=s,(n=[{key:"geolocate",value:function(){this.trigger("geolocate")}}])&&i(e.prototype,n),s}(h(n(85)).default);f.HTML='<div class="geoloc"><button class="btn-geo btn-sq rad-all" title="Current location"><span class="screen-reader-only">Current location</span><span class="fas fa-crosshairs" role="img"></span></button></div>';var p=f;e.default=p},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=d(n(13)),l=d(n(86)),h=n(0),f=d(n(155)),p=d(n(107));function d(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,f.default);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t)).geoJson=new l.default,e.getContainer().on("click dblclick mouseover mousemove",function(){(0,c.default)(".f-tip").hide()}),e}return e=s,(n=[{key:"featureAsLocation",value:function(t,e){var n=t.getGeometry(),r={name:e.nameField?t.get(e.nameField):t.getName(),data:t.getProperties(),type:"geocoded",accuracy:p.default.Accuracy.HIGH};return n&&(r.coordinate=(0,h.getCenter)(n.getExtent()),r.geometry=JSON.parse(this.geoJson.writeGeometry(n))),r}}])&&i(e.prototype,n),s}();e.default=y},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=p(n(13)),l=p(n(85)),h=p(n(156)),f=p(n(114));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,l.default);var e,n,r=a(s);function s(t){var e,n;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),e=r.call(this,(0,c.default)(s.HTML)),"INPUT"===(t=(0,c.default)(t).get(0)).tagName&&(n=t,(t=(0,c.default)('<div class="map-srch"></div>')).insertAfter(n),e.find(".srch").addClass("input-group")),(0,c.default)(t).append(e.getContainer()),e.input=e.find("input"),e.clear=e.find(".btn-x"),n&&(e.input.attr("id",(0,c.default)(n).attr("id")).attr("placeholder",(0,c.default)(n).attr("placeholder")).addClass((0,c.default)(n).attr("class")),(0,c.default)(n).remove(),e.clear.remove()),e.isAddrSrch=!0,e.list=e.find("ul.rad-all"),e.retention=e.find("ul.retention"),e.autoComplete=null,e.hookupEvents(e.input),e}return e=s,(n=[{key:"featureAsLocation",value:function(t,e){throw"Not implemented"}},{key:"val",value:function(t){return"string"==typeof t&&(this.input.val(t),this.clearBtn()),this.input.val()}},{key:"disambiguate",value:function(t){var e=this,n=t.possible;if(n.length){var r=this.list;this.emptyList(),n.forEach(function(t){r.append(e.listItem({layerName:"addr"},t))}),this.showList(!0)}}},{key:"setFeatures",value:function(t){var e=this;this.autoComplete=this.autoComplete||new h.default,t.nameField=t.nameField||"name",t.displayField=t.displayField||t.nameField,t.placeholder&&this.input.attr("placeholder",t.placeholder),this.sortAlphapetically(t).forEach(function(n){var r=e.featureAsLocation(n,t),i=e.listItem(t,r);e.retention.append(i)}),this.emptyList()}},{key:"removeFeatures",value:function(t){this.find("li."+t).remove()}},{key:"sortAlphapetically",value:function(t){var e=[];return t.features.forEach(function(t){t.get?e.push(c.default.extend({},t)):e.push(c.default.extend({get:function(t){return this.properties[t]}},t))}),e.sort(function(e,n){var r=t.nameField;return e.get(r)<n.get(r)?-1:e.get(r)>n.get(r)?1:0}),e}},{key:"listItem",value:function(t,e){var n=(0,c.default)("<li></li>"),r=t.displayField,i="".concat(e.data[r]||e.name);return n.addClass(t.layerName),"addr"!==t.layerName&&n.addClass("feature"),n.addClass("notranslate").attr({translate:"no","data-id":encodeURIComponent(i)}).html('<a href="#">'.concat(i,"</a>")).data("nameField",t.nameField).data("displayField",r).data("location",e).click(c.default.proxy(this.disambiguated,this)).keyup(c.default.proxy(this.disambiguated,this))}},{key:"emptyList",value:function(){var t=this.retention;this.find("li").each(function(e,n){0===t.find('li[data-id="'.concat((0,c.default)(n).attr("data-id"),'"]')).length&&t.append(n)}),this.list.empty()}},{key:"disambiguated",value:function(t){var e=(0,c.default)(t.currentTarget),n=e.data("location");n&&(this.val(n.name),n.isFeature=e.hasClass("feature"),this.trigger("disambiguated",n),e.parent().slideUp(),this.emptyList())}},{key:"listClick",value:function(t){if(t=t.originalEvent||t,"block"===this.list.css("display")){var e=(0,c.default)(t.target);c.default.contains(this.list.get(0),e.get(0))?this.autoComplete&&e.trigger("click"):"block"===this.getContainer().css("display")&&this.list.slideUp()}}},{key:"hookupEvents",value:function(t){t.on("keyup change",c.default.proxy(this.key,this)),t.focus(function(){return t.select()}),this.clear.click(c.default.proxy(this.clearTxt,this)),(0,c.default)(document).mouseup(c.default.proxy(this.listClick,this)),this.find(".btn-srch").click(c.default.proxy(this.triggerSearch,this))}},{key:"key",value:function(t){13===t.keyCode&&this.isAddrSrch?(this.triggerSearch(),this.list.slideUp()):this.filterList(),this.clearBtn()}},{key:"clearTxt",value:function(){this.val(""),this.clearBtn(),this.input.focus()}},{key:"clearBtn",value:function(){this.clear[this.val()?"show":"hide"]()}},{key:"filterList",value:function(){var t=this.val().trim();this.autoComplete&&t?this.autoComplete.filter(this.retention,this.list,t):this.emptyList(),this.showList(!1)}},{key:"showList",value:function(t){var e=this;if("block"===this.getContainer().css("display"))this.list.slideDown(function(){t&&e.list.children().first().find("a").attr("tabindex",0).focus()});else{var n=(0,c.default)("<div><strong>Possible matches:</strong></div>");n.append(this.list),this.dialog=this.dialog||new f.default({target:(0,c.default)(".nyc-map"),css:"posbl"}),this.list.one("click",c.default.proxy(this.dialog.hide,this.dialog)),this.dialog.ok({buttonText:["Cancel"],message:n})}}},{key:"triggerSearch",value:function(){var t=this.val().trim();t.length&&(this.input.blur(),this.trigger("search",t))}}])&&i(e.prototype,n),s}();d.FeatureSearchOptions,d.HTML='<div class="srch-ctl"><div class="srch" role="search"><input class="rad-all" type="text" placeholder="Search for an address..."><button class="btn btn-rnd btn-x"><span class="screen-reader-only">Clear</span><span class="fas fa-times" role="img"></span></button><button class="btn btn-srch btn-primary btn-lg">Search</button></div><ul class="rad-all" role="region" label="Possible matches for your search"></ul><ul class="retention"></ul></div>';var y=d;e.default=y},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=(i=n(13))&&i.__esModule?i:{default:i},a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"filter",value:function(t,e,n){var r=this,i=n.length>3,a=n.length>6,s={exact:[],possible:[]},u=this.regexp(n),c=[],l=this.test;o.default.merge((0,o.default)(e).find("li"),(0,o.default)(t).find("li")).each(function(t,e){c.push((0,o.default)(e)),l(u,(0,o.default)(e),s,i,r.log)}),(0,o.default)(t).append(c),s.exact.length?(0,o.default)(e).prepend(s.exact):a||(0,o.default)(e).prepend(s.possible)}},{key:"test",value:function(t,e,n,r){var i=e.html();r&&t.exact.test(i)&&n.exact.push(e),t.possible.test(i)&&n.possible.push(e)}},{key:"regexp",value:function(t){for(var e=new String(t.replace(/[^a-zA-Z0-9]/g,"")),n=new String(t.replace(/[^a-zA-Z0-9 ]/g,"")),r="^",i=0;i<e.length;i++)r+="(?=.*".concat(e.charAt(i),")|");return r=r.substr(0,r.length-1),r+=".*$",{exact:new RegExp("(".concat(n,")"),"i"),possible:new RegExp(r,"i")}}}])&&r(e.prototype,n),t}();e.default=a},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=_(n(108)),l=_(n(158)),h=_(n(87)),f=_(n(70)),p=_(n(42)),d=_(n(58)),y=_(n(159)),g=n(3);function _(t){return t&&t.__esModule?t:{default:t}}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,f.default);var e,n,r=a(s);function s(t){var e;return function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this)).autoDetect=!0===t.autoDetect,e.dataProjection=(0,g.get)(t.dataProjection||"EPSG:4326"),e.featureProjection=(0,g.get)(t.featureProjection||"EPSG:3857"),e.id=t.id,e.x=t.x,e.y=t.y,e.lastId=0,e}return e=s,(n=[{key:"readFeature",value:function(t,e){var n;t[this.id]?n=t[this.id]:(n=this.lastId,this.lastId+=1);var r=new h.default(t);return r.setId(n),this.setGeometry(r,t,e),r}},{key:"setGeometry",value:function(t,e,n){var r=e[this.x]=parseFloat(e[this.x]),i=e[this.y]=parseFloat(e[this.y]);if(isNaN(r)||isNaN(i))throw"Invalid coordinate [".concat(r,", ").concat(i,"] for id ").concat(t.getId());var o=new p.default([r,i]);o.transform(n&&n.dataProjection?n.dataProjection:this.dataProjection,n&&n.featureProjection?n.featureProjection:this.featureProjection),t.setGeometry(o)}},{key:"readFeatures",value:function(t,e){var n=this,r=[];return(t=this.parseSource(t)).forEach(function(t){try{r.push(n.readFeature(t,e))}catch(e){console.error(e,t)}}),r}},{key:"parseSource",value:function(t){return t instanceof ArrayBuffer&&(t=new l.default.TextDecoder("utf-8").decode(t)),"string"==typeof t&&(t=c.default.parse(t,{header:!0}).data),this.detectCsvFormat(t),t}},{key:"detectCsvFormat",value:function(t){this.autoDetect&&(this.id=y.default.ID,t[0][y.default.X]?(this.x=y.default.X,this.y=y.default.Y,this.dataProjection=(0,g.get)("EPSG:2263")):(this.x=y.default.LNG,this.y=y.default.LAT,this.dataProjection=(0,g.get)("EPSG:4326")))}},{key:"readProjection",value:function(t){return this.dataProjection}},{key:"getType",value:function(){return d.default.ARRAY_BUFFER}}])&&i(e.prototype,n),s}();v.Options;var m=v;e.default=m},function(t,e){t.exports=window},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};r.ID="ID",r.X="X",r.Y="Y",r.LNG="LNG",r.LAT="LAT",r.NAME="NAME",r.ADDR1="ADDR1",r.ADDR2="ADDR2",r.CITY="CITY",r.BORO="BORO",r.STATE="STATE",r.ZIP="ZIP",r.PHONE="PHONE",r.EMAIL="EMAIL",r.WEBSITE="WEBSITE",r.DETAIL="DETAIL";var i=r;e.default=i},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"replace",value:function(t,e){return Object.keys(e).forEach(function(n){t=t.replace(new RegExp("\\$\\{"+n+"\\}","g"),void 0!==e[n]?e[n]:"")}),t}}])&&r(e.prototype,n),t}();e.default=i},function(t,e,n){"use strict";n.r(e);var r,i=n(1),o=n(35),a=n(28),s=n(27),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return u(e,t),e}(s.a),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return l(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(c),f=(n(144),n(30)),p=n(17),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i,o)||this;return a.pointerEvent=r,a}return d(e,t),e}(h),g=n(6),_=n(45),v="pointermove",m="pointerdown",b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=n?n*f.a:f.a,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=Object(g.a)(i,m,r.handlePointerDown_,r),r.relayedListenerKey_=Object(g.a)(i,v,r.relayEvent_,r),r}return b(e,t),e.prototype.emulateClick_=function(t){var e=new y(p.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new y(p.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new y(p.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==p.a.POINTERUP||e.type==p.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==p.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new y(p.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(g.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new y(p.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(Object(g.a)(document,p.a.POINTERMOVE,this.handlePointerMove_,this),Object(g.a)(document,p.a.POINTERUP,this.handlePointerUp_,this),Object(g.a)(this.element_,p.a.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new y(p.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new y(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(g.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(g.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(g.c),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(_.a),E=n(62),x="layergroup",w="size",j="target",C="view",S=n(50),T=n(14),P=n(53),R=n(9),I=n(7),L=n(10),M=n(11),A=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(M.b)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){Object(L.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),c=u<r&&n[u]<n[s]?u:s;e[t]=e[c],n[t]=n[c],t=c}e[t]=i,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()},t}(),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e,n){var r=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return D(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(I.a.CHANGE,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===R.a.LOADED||n===R.a.ERROR||n===R.a.EMPTY||n===R.a.ABORT){e.removeEventListener(I.a.CHANGE,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,i,o=0,a=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(r=this.dequeue()[0]).getKey(),(n=r.getState())===R.a.ABORT?a=!0:n!==R.a.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,r.load());0===o&&a&&this.tileChangeCallback_()},e}(A),k=n(111),N=n(24),G=n(15),Y=n(0),X=n(16),z=n(104),U=n(43),B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W="layers",K=function(t){function e(e){var n=this,r=e||{},i=Object(M.a)({},r);delete i.layers;var a=r.layers;return(n=t.call(this,i)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(Object(T.b)(W),n.handleLayersChanged_),a?Array.isArray(a)?a=new o.a(a.slice(),{unique:!0}):Object(L.a)("function"==typeof a.getArray,43):a=new o.a(void 0,{unique:!0}),n.setLayers(a),n}return B(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(g.c),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(g.a)(t,a.a.ADD,this.handleLayersAdd_,this),Object(g.a)(t,a.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(g.c);Object(M.b)(this.listenerKeys_);for(var n=t.getArray(),r=0,o=n.length;r<o;r++){var s=n[r];this.listenerKeys_[Object(i.c)(s)]=[Object(g.a)(s,P.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(g.a)(s,I.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.c)(e)]=[Object(g.a)(e,P.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(g.a)(e,I.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(i.c)(e);this.listenerKeys_[n].forEach(g.c),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(W)},e.prototype.setLayers=function(t){this.set(W,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var r=this.getLayerState(),i=n,o=e.length;i<o;i++){var a=e[i];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),a.minZoom=Math.max(a.minZoom,r.minZoom),a.maxZoom=Math.min(a.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==a.extent?a.extent=Object(Y.getIntersection)(a.extent,r.extent):a.extent=r.extent)}return e},e.prototype.getSourceState=function(){return U.a.READY},e}(z.a),H=n(40),Z=n(8),V=n(3),q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function J(t,e){t.style.msTouchAction=e,t.style.touchAction=e,t.setAttribute("touch-action",e)}var Q=function(t){function e(e){var n=t.call(this)||this,r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,i,a={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new K({layers:t.layers});return a[x]=s,a[j]=t.target,a[C]=void 0!==t.view?t.view:new k.default,void 0!==t.controls&&(Array.isArray(t.controls)?n=new o.a(t.controls.slice()):(Object(L.a)("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new o.a(t.interactions.slice()):(Object(L.a)("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?i=new o.a(t.overlays.slice()):(Object(L.a)("function"==typeof t.overlays.getArray,49),i=t.overlays):i=new o.a,{controls:n,interactions:r,keyboardEventTarget:e,overlays:i,values:a}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:f.a,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=Object(Z.c)(),n.pixelToCoordinateTransform_=Object(Z.c)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new O(n,e.moveTolerance);var i=n.handleMapBrowserEvent.bind(n);for(var s in p.a)n.mapBrowserEventHandler_.addEventListener(p.a[s],i);n.keyboardEventTarget_=r.keyboardEventTarget,n.keyHandlerKeys_=null,n.focusHandlerKeys_=null;var u=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(I.a.CONTEXTMENU,u,!1),n.viewport_.addEventListener(I.a.WHEEL,u,!1),n.controls=r.controls||new o.a,n.interactions=r.interactions||new o.a,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new F(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(Object(T.b)(x),n.handleLayerGroupChanged_),n.addEventListener(Object(T.b)(C),n.handleViewChanged_),n.addEventListener(Object(T.b)(w),n.handleSizeChanged_),n.addEventListener(Object(T.b)(j),n.handleTargetChanged_),n.setProperties(r.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(a.a.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(a.a.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(a.a.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(a.a.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(a.a.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(a.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return q(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(I.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(I.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(I.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:X.b,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{},i=void 0!==r.hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=r.layerFilter||X.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:X.b,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(j)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Object(V.toUserCoordinate)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Object(Z.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(x)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Object(V.fromUserCoordinate)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Object(Z.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(w)},e.prototype.getView=function(){return this.get(C)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,r){var i=this.frameState_;if(!(i&&e in i.wantedTiles))return 1/0;if(!i.wantedTiles[e][t.getKey()])return 1/0;var o=i.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new h(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var r=n.length-1;r>=0;r--){var i=n[r];if(i.getActive()&&!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[N.a.ANIMATING]||i[N.a.INTERACTING]){var o=!f.c&&Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener(S.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(S.a.RENDERCOMPLETE,t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.focusHandlerKeys_){for(var e=0,n=this.focusHandlerKeys_.length;e<n;++e)Object(g.c)(this.focusHandlerKeys_[e]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(g.c)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var r=!0;t.hasAttribute("tabindex")&&(r=document.activeElement===t,this.focusHandlerKeys_=[Object(g.a)(t,I.a.FOCUS,J.bind(this,this.viewport_,"none")),Object(g.a)(t,I.a.BLUR,J.bind(this,this.viewport_,"auto"))]),J(this.viewport_,r?"none":"auto");var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(g.a)(i,I.a.KEYDOWN,this.handleBrowserEvent,this),Object(g.a)(i,I.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(I.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),Object(G.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(I.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(g.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(g.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(i.c)(t)),this.viewPropertyListenerKey_=Object(g.a)(t,P.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(g.a)(t,I.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(g.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(g.a)(t,P.a.PROPERTYCHANGE,this.render,this),Object(g.a)(t,I.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),r=this.frameState_,i=null;if(void 0!==e&&Object(H.a)(e)&&n&&n.isDef()){var o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:r?r.declutterItems:[],extent:Object(Y.getForViewAndSize)(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r&&(!this.previousExtent_||!Object(Y.isEmpty)(this.previousExtent_)&&!Object(Y.equals)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new c(E.a.MOVESTART,this,r)),this.previousExtent_=Object(Y.createOrUpdateEmpty)(this.previousExtent_)),this.previousExtent_&&!i.viewHints[N.a.ANIMATING]&&!i.viewHints[N.a.INTERACTING]&&!Object(Y.equals)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new c(E.a.MOVEEND,this,i)),Object(Y.clone)(i.extent,this.previousExtent_))),this.dispatchEvent(new c(E.a.POSTRENDER,this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(x,t)},e.prototype.setSize=function(t){this.set(w,t)},e.prototype.setTarget=function(t){this.set(j,t)},e.prototype.setView=function(t){this.set(C,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e}(T.a),$=n(12),tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=e.render?e.render:X.c,e.target&&n.setTarget(e.target),n}return tt(e,t),e.prototype.disposeInternal=function(){Object(G.e)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(G.e)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(g.c)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==X.c&&this.listenerKeys.push(Object(g.a)(t,E.a.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(T.a),nt=n(23),rt=n(49),it=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ot(t){this.updateElement_(t.frameState)}var at=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||ot,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",o=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.collapseLabel?r.collapseLabel:"»";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==r.label?r.label:"i";"string"==typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=o,c.appendChild(u),c.addEventListener(I.a.CLICK,n.handleClick_.bind(n),!1);var l=i+" "+nt.e+" "+nt.b+(n.collapsed_&&n.collapsible_?" "+nt.a:"")+(n.collapsible_?"":" ol-uncollapsible"),h=n.element;return h.className=l,h.appendChild(n.ulElement_),h.appendChild(c),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return it(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,i=0,o=r.length;i<o;++i){var a=r[i];if(Object(rt.b)(a,t.viewState)){var s=a.layer.getSource();if(s){var u=s.getAttributions();if(u){var c=u(t);if(c)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var l=0,h=c.length;l<h;++l)c[l]in e||(n.push(c[l]),e[c[l]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object($.b)(e,this.renderedAttributions_)){Object(G.d)(this.ulElement_);for(var r=0,i=e.length;r<i;++r){var o=document.createElement("li");o.innerHTML=e[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(nt.a),this.collapsed_?Object(G.g)(this.collapseLabel_,this.label_):Object(G.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(et),st=n(29),ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ct(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(nt.c);i||0!==n?i&&0!==n&&this.element.classList.remove(nt.c):this.element.classList.add(nt.c)}this.label_.style.transform=r}this.rotation_=n}}var lt=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render||ct,target:r.target})||this;var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"⇧";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=o):(n.label_=o,n.label_.classList.add("ol-compass"));var a=r.tipLabel?r.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),s.addEventListener(I.a.CLICK,n.handleClick_.bind(n),!1);var u=i+" "+nt.e+" "+nt.b,c=n.element;return c.className=u,c.appendChild(s),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(nt.c),n}return ut(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:st.b}):t.setRotation(0))},e}(et),ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var i=void 0!==r.className?r.className:"ol-zoom",o=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInLabel?r.zoomInLabel:"+",s=void 0!==r.zoomOutLabel?r.zoomOutLabel:"−",u=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",c=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=i+"-in",l.setAttribute("type","button"),l.title=u,l.appendChild("string"==typeof a?document.createTextNode(a):a),l.addEventListener(I.a.CLICK,n.handleClick_.bind(n,o),!1);var h=document.createElement("button");h.className=i+"-out",h.setAttribute("type","button"),h.title=c,h.appendChild("string"==typeof s?document.createTextNode(s):s),h.addEventListener(I.a.CLICK,n.handleClick_.bind(n,-o),!1);var f=i+" "+nt.e+" "+nt.b,p=n.element;return p.className=f,p.appendChild(l),p.appendChild(h),n.duration_=void 0!==r.duration?r.duration:250,n}return ht(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:st.b})):e.setZoom(r)}}},e}(et),pt=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),dt=n(75),yt=n(76),gt=n(54),_t=n(21),vt=n(36),mt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bt=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:X.a})||this).condition_=r.condition?r.condition:_t.a,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return mt(e,t),e.prototype.handleDragEvent=function(t){if(Object(_t.e)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==gt.c){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!Object(_t.e)(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!Object(_t.e)(t)||!Object(_t.d)(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(vt.b),Ot=n(80),Et=n(81),xt=n(78),wt=n(79),jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=X.a),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return jt(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==gt.c){var u=a.getViewport().getBoundingClientRect(),c=Object(vt.a)(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=a.getCoordinateFromPixelInternal(c),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(vt.b),St=n(77),Tt=n(102),Pt=n(52),Rt=n(72);n(83),n(63);var It=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Lt(t,e){Rt.a.expire()}var Mt=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return It(e,t),e.prototype.dispatchRenderEvent=function(t,e){Object(i.b)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Object(Z.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(Z.d)(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s){var u,c=e.viewState;function l(t,e,n){return i.call(o,e,t?n:null)}var h=c.projection,f=t,p=[[0,0]];if(h.canWrapX()){var d=h.getExtent(),y=Object(Y.getWidth)(d),g=t[0];(g<d[0]||g>d[2])&&(f=[g+y*Math.ceil((d[0]-g)/y),t[1]]),r&&p.push([-y,0],[y,0])}var _,v=e.layerStatesArray,m=v.length;this.declutterTree_&&(_=this.declutterTree_.all().map(function(t){return t.value}));for(var b=[],O=0;O<p.length;O++)for(var E=m-1;E>=0;--E){var x=v[E],w=x.layer;if(w.hasRenderer()&&Object(rt.b)(x,c)&&a.call(s,w)){var j=w.getRenderer(),C=w.getSource(),S=C.getWrapX()?f:t;if(j&&C){var T=l.bind(null,x.managed);b[0]=S[0]+p[O][0],b[1]=S[1]+p[O][1],u=j.forEachFeatureAtCoordinate(b,e,n,T,_)}if(u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){return Object(i.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,X.b,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,r=n.length-1;r>=0;--r)for(var i=n[r],o=i.items,a=0,s=o.length;a<s;a+=3)e=o[a].renderDeclutter(o[a+1],o[a+2],i.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){Rt.a.canExpireCache()&&t.postRenderFunctions.push(Lt)},e}(Pt.a),At=n(4),Dt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=Object(g.a)(At.o,I.a.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className=nt.e+" ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Dt(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new Tt.a(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){Object(g.c)(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(S.a.PRECOMPOSE,e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),r=e.viewState;this.children_.length=0;for(var i=!1,o=null,a=0,s=n.length;a<s;++a){var u=n[a];if(i=i||u.hasOverlay,e.layerIndex=a,Object(rt.b)(u,r)&&(u.sourceState==U.a.READY||u.sourceState==U.a.UNDEFINED)){var c=u.layer.render(e,o);if(c){var l=c.childElementCount;c===o&&a!=s-1||2!==l||i||c.removeChild(c.lastElementChild),c!==o&&(this.children_.push(c),i=2===l,o=c)}}}t.prototype.renderFrame.call(this,e),Object(G.f)(this.element_,this.children_),this.dispatchRenderEvent(S.a.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var u=a[s],c=u.layer;if(c.hasRenderer()&&Object(rt.b)(u,o)&&i(c)){var l=c.getRenderer().getDataAtPixel(t,e,n);if(l){var h=r(c,l);if(h)return h}}}},e}(Mt),kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(t){function e(e){return(e=Object(M.a)({},e)).controls||(e.controls=function(t){var e={},n=new o.a;return(void 0===e.zoom||e.zoom)&&n.push(new ft(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new lt(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new at(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e={},n=new o.a,r=new pt(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new bt),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new dt.default({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new yt.default({condition:e.onFocusOnly?_t.c:void 0,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Ct),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new St.default({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Et.default),n.push(new xt.default({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new wt.default({condition:e.onFocusOnly?_t.c:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Ot.default({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return kt(e,t),e.prototype.createRenderer=function(){return new Ft(this)},e}(Q);e.default=Nt},function(t,e,n){"use strict";n.r(e);var r,i=n(1),o=n(9),a=n(29),s=n(45),u=n(7),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.hitDetectionImageData=null,i.tileCoord=e,i.state=n,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return c(e,t),e.prototype.changed=function(){this.dispatchEvent(u.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.a.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.a.LOADED){t.interimTile=null;break}t.getState()==o.a.LOADING?e=t:t.getState()==o.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==o.a.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Object(i.b)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:Object(a.a)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(s.a),h=n(15),f=n(106),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function d(){var t=Object(h.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var y=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=i,s.src_=r,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return p(e,t),e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&(this.unlistenImage_(),this.image_=d()),this.interimTile&&this.interimTile.dispose(),this.state=o.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=d(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(f.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(l),g=n(99),_=n(34),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(e){return t.call(this,e)||this}return v(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().dispose()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(_.b)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(_.c)(t.tileCoord)),t.dispose())}.bind(this))}},e}(g.a),b=n(3),O=n(6),E=n(0),x=n(5);function w(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);return[Math.round(n+i/a),Math.round(r+o/a)]}var j=function(){function t(t,e,n,r,i){this.sourceProj_=t,this.targetProj_=e;var o={},a=Object(b.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Object(E.getWidth)(r)==Object(E.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(E.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(E.getWidth)(this.targetProj_.getExtent()):null;var s=Object(E.getTopLeft)(n),u=Object(E.getTopRight)(n),c=Object(E.getBottomRight)(n),l=Object(E.getBottomLeft)(n),h=this.transformInv_(s),f=this.transformInv_(u),p=this.transformInv_(c),d=this.transformInv_(l);if(this.addQuad_(s,u,c,l,h,f,p,d,10),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,a,s,u){var c=Object(E.boundingExtent)([i,o,a,s]),l=this.sourceWorldWidth_?Object(E.getWidth)(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&l>.5&&l<1,p=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=Object(E.boundingExtent)([t,e,n,r]);p=Object(E.getWidth)(d)/this.targetWorldWidth_>.25||p}!f&&this.sourceProj_.isGlobal()&&l&&(p=l>.25||p)}if(p||!this.maxSourceExtent_||Object(E.intersects)(c,this.maxSourceExtent_)){if(!(p||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1]))){if(!(u>0))return;p=!0}if(u>0){if(!p){var y=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(y),_=void 0;_=f?(Object(x.d)(i[0],h)+Object(x.d)(a[0],h))/2-Object(x.d)(g[0],h):(i[0]+a[0])/2-g[0];var v=(i[1]+a[1])/2-g[1];p=_*_+v*v>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(m),O=[(r[0]+t[0])/2,(r[1]+t[1])/2],w=this.transformInv_(O);this.addQuad_(t,e,m,O,i,o,b,w,u-1),this.addQuad_(O,m,n,r,w,b,a,s,u-1)}else{var j=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(j),S=[(n[0]+r[0])/2,(n[1]+r[1])/2],T=this.transformInv_(S);this.addQuad_(t,j,S,r,i,C,T,s,u-1),this.addQuad_(j,e,n,S,C,o,a,T,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,r,i,a,s),this.addTriangle_(t,e,n,i,o,a)}},t.prototype.calculateSourceExtent=function(){var t=Object(E.createEmpty)();return this.triangles_.forEach(function(e,n,r){var i=e.source;Object(E.extendCoordinate)(t,i[0]),Object(E.extendCoordinate)(t,i[1]),Object(E.extendCoordinate)(t,i[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(e,n,r,i,a,s,u,c,l,h,f){var p=t.call(this,a,o.a.IDLE)||this;p.renderEdges_=void 0!==f&&f,p.pixelRatio_=u,p.gutter_=c,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=i,p.wrappedTileCoord_=s||a,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var d=i.getTileCoordExtent(p.wrappedTileCoord_),y=p.targetTileGrid_.getExtent(),g=p.sourceTileGrid_.getExtent(),_=y?Object(E.getIntersection)(d,y):d;if(0===Object(E.getArea)(_))return p.state=o.a.EMPTY,p;var v=e.getExtent();v&&(g=g?Object(E.getIntersection)(g,v):v);var m=i.getResolution(p.wrappedTileCoord_[0]),O=function(t,e,n,r){var i=Object(b.transform)(n,e,t),o=Object(b.getPointResolution)(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var u=t.getExtent();if(!u||Object(E.containsCoordinate)(u,i)){var c=Object(b.getPointResolution)(t,o,i)/o;isFinite(c)&&c>0&&(o/=c)}return o}(e,r,Object(E.getCenter)(_),m);if(!isFinite(O)||O<=0)return p.state=o.a.EMPTY,p;var w=void 0!==h?h:.5;if(p.triangulation_=new j(e,r,_,g,O*w),0===p.triangulation_.getTriangles().length)return p.state=o.a.EMPTY,p;p.sourceZ_=n.getZForResolution(O);var C=p.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(C[1]=Object(x.a)(C[1],g[1],g[3]),C[3]=Object(x.a)(C[3],g[1],g[3])):C=Object(E.getIntersection)(C,g)),Object(E.getArea)(C)){for(var S=n.getTileRangeForExtentAndZ(C,p.sourceZ_),T=S.minX;T<=S.maxX;T++)for(var P=S.minY;P<=S.maxY;P++){var R=l(p.sourceZ_,T,P,u);R&&p.sourceTiles_.push(R)}0===p.sourceTiles_.length&&(p.state=o.a.EMPTY)}else p.state=o.a.EMPTY;return p}return C(e,t),e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==o.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],a=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,r,i,o,a,s,u,c,l){var f=Object(h.a)(Math.round(n*t),Math.round(n*e));if(0===u.length)return f.canvas;f.scale(n,n);var p=Object(E.createEmpty)();u.forEach(function(t,e,n){Object(E.extend)(p,t.extent)});var d=Object(E.getWidth)(p),y=Object(E.getHeight)(p),g=Object(h.a)(Math.round(n*d/r),Math.round(n*y/r)),_=n/r;u.forEach(function(t,e,n){var r=t.extent[0]-p[0],i=-(t.extent[3]-p[3]),o=Object(E.getWidth)(t.extent),a=Object(E.getHeight)(t.extent);g.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,r*_,i*_,o*_,a*_)});var v=Object(E.getTopLeft)(a);return s.getTriangles().forEach(function(t,e,i){var a=t.source,s=t.target,u=a[0][0],c=a[0][1],l=a[1][0],h=a[1][1],d=a[2][0],y=a[2][1],_=(s[0][0]-v[0])/o,m=-(s[0][1]-v[1])/o,b=(s[1][0]-v[0])/o,O=-(s[1][1]-v[1])/o,E=(s[2][0]-v[0])/o,j=-(s[2][1]-v[1])/o,C=u,S=c;u=0,c=0;var T=[[l-=C,h-=S,0,0,b-_],[d-=C,y-=S,0,0,E-_],[0,0,l,h,O-m],[0,0,d,y,j-m]],P=Object(x.e)(T);if(P){f.save(),f.beginPath();var R=(_+b+E)/3,I=(m+O+j)/3,L=w(R,I,_,m),M=w(R,I,b,O),A=w(R,I,E,j);f.moveTo(M[0],M[1]),f.lineTo(L[0],L[1]),f.lineTo(A[0],A[1]),f.clip(),f.transform(P[0],P[2],P[1],P[3],_,m),f.translate(p[0]-C,p[3]-S),f.scale(r/n,-r/n),f.drawImage(g.canvas,0,0),f.restore()}}),l&&(f.save(),f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var r=t.target,i=(r[0][0]-v[0])/o,a=-(r[0][1]-v[1])/o,s=(r[1][0]-v[0])/o,u=-(r[1][1]-v[1])/o,c=(r[2][0]-v[0])/o,l=-(r[2][1]-v[1])/o;f.beginPath(),f.moveTo(s,u),f.lineTo(i,a),f.lineTo(c,l),f.closePath(),f.stroke()}),f.restore()),f.canvas}(r,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.a.IDLE){this.state=o.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var i=e.getState();if(i==o.a.IDLE||i==o.a.LOADING){t++;var a=Object(O.a)(e,u.a.CHANGE,function(n){var r=e.getState();r!=o.a.LOADED&&r!=o.a.ERROR&&r!=o.a.EMPTY||(Object(O.c)(a),0==--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==o.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(O.c),this.sourcesListenerKeys_=null},e}(l),T=n(10);function P(t,e){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var t=a[0],n=e.getFullTileRange(t);return Object(T.a)(n,55),(n.getHeight()-a[2]-1).toString()}):void 0}}function R(t,e,n){}var I=n(27),L=n(40),M=n(98),A=n(57),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.cacheSize;if(void 0===r){var i=[256,256],o=e.tileGrid;o&&Object(L.c)(o.getTileSize(o.getMinZoom()),i);var a="undefined"!=typeof screen,s=a?screen.availWidth||screen.width:1920,u=a?screen.availHeight||screen.height:1080;r=4*Math.ceil(s/i[0])*Math.ceil(u/i[1])}return n.tileCache=new m(r),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return D(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var a,s,u,c=!0,l=n.minX;l<=n.maxX;++l)for(var h=n.minY;h<=n.maxY;++h)s=Object(_.d)(e,l,h),u=!1,i.containsKey(s)&&(u=(a=i.get(s)).getState()===o.a.LOADED)&&(u=!1!==r(a)),u||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,r,o){return Object(i.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(A.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(b.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),o=Object(L.c)(r.getTileSize(t),this.tmpSize);return 1==i?o:Object(L.b)(o,i,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=Object(A.wrapX)(r,t,n)),Object(_.f)(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,r){},e}(M.a),k=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return D(e,t),e}(I.a),N=F,G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):R,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return G(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=Object(i.c)(n),a=n.getState();a==o.a.LOADING?(this.tileLoadingKeys_[r]=!0,e="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=a==o.a.ERROR?"tileloaderror":a==o.a.LOADED||a==o.a.ABORT?"tileloadend":void 0),null!=e&&this.dispatchEvent(new k(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=P(t[i],e);return function(t){return 1===t.length?t[0]:function(e,n,r){if(e){var i=Object(_.e)(e),o=Object(x.d)(i,t.length);return t[o](e,n,r)}}}(r)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var r=Object(_.d)(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(N),X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function z(t,e){t.getImage().src=e}var U=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:z,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:y,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return X(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Object(b.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Object(b.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Object(b.equivalent)(e,t)){var n=Object(i.c)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Object(A.getForProjection)(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Object(b.equivalent)(e,t))return this.tileCache;var n=Object(i.c)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new m(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,r,i,a){var s=[t,e,n],c=this.getTileCoordForTileUrlFunction(s,i),l=c?this.tileUrlFunction(c,r,i):void 0,h=new this.tileClass(s,void 0!==l?o.a.IDLE:o.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=a,h.addEventListener(u.a.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,n,r,i){var o=this.getProjection();if(o&&i&&!Object(b.equivalent)(o,i)){var a=this.getTileCacheForProjection(i),s=[t,e,n],u=void 0,c=Object(_.c)(s);a.containsKey(c)&&(u=a.get(c));var l=this.getKey();if(u&&u.key==l)return u;var h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(i),p=this.getTileCoordForTileUrlFunction(s,i),d=new S(o,h,i,f,s,p,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=l,u?(d.interimTile=u,d.refreshInterimChain(),a.replace(c,d)):a.set(c,d),d}return this.getTileInternal(t,e,n,r,o||i)},e.prototype.getTileInternal=function(t,e,n,r,i){var a=null,s=Object(_.d)(t,e,n),u=this.getKey();if(this.tileCache.containsKey(s)){if((a=this.tileCache.get(s)).key!=u){var c=a;a=this.createTile_(t,e,n,r,i,u),c.getState()==o.a.IDLE?a.interimTile=c.interimTile:a.interimTile=c,a.refreshInterimChain(),this.tileCache.replace(s,a)}}else a=this.createTile_(t,e,n,r,i,u),this.tileCache.set(s,a);return a},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Object(b.get)(t);if(n){var r=Object(i.c)(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(Y),B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(t){function e(e){var n=e||{},r=void 0!==n.projection?n.projection:"EPSG:3857",i=void 0!==n.tileGrid?n.tileGrid:Object(A.createXYZ)({extent:Object(A.extentFromProjection)(r),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return B(e,t),e}(U);e.default=W},function(t,e,n){"use strict";n.r(e);var r,i=n(49),o="preload",a="useInterimTilesOnError",s=n(11),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=this,r=e||{},i=Object(s.a)({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return u(e,t),e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(a)},e.prototype.setUseInterimTilesOnError=function(t){this.set(a,t)},e}(i.a),l=n(1),h=n(3),f=n(69),p=n(9),d=n(0),y=n(105),g=n(8),_=n(12),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=Object(d.createEmpty)(),n.tmpTileRange_=new f.b(0,0,0,0),n}return v(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==p.a.LOADED||n==p.a.EMPTY||n==p.a.ERROR&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,i,o);return s.getState()==p.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(p.a.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,a=r.center,s=r.rotation,u=t.pixelRatio,c=this.getLayer(),f=c.getSource(),y=f.getRevision(),v=f.getTileGridForProjection(i),m=v.getZForResolution(o,f.zDirection),b=v.getResolution(m),O=t.extent,E=n.extent&&Object(h.fromUserExtent)(n.extent,i);E&&(O=Object(d.getIntersection)(O,Object(h.fromUserExtent)(n.extent,i)));var x=f.getTilePixelRatio(u),w=Math.round(t.size[0]*x),j=Math.round(t.size[1]*x);s&&(w=j=Math.round(Math.sqrt(w*w+j*j)));var C=b*w/2/x,S=b*j/2/x,T=[a[0]-C,a[1]-S,a[0]+C,a[1]+S],P=v.getTileRangeForExtentAndZ(O,m),R={};R[m]={};var I=this.createLoadedTileFinder(f,i,R),L=this.tmpExtent,M=this.tmpTileRange_;this.newTiles_=!1;for(var A=P.minX;A<=P.maxX;++A)for(var D=P.minY;D<=P.maxY;++D){var F=this.getTile(m,A,D,t);if(this.isDrawableTile(F)){var k=Object(l.c)(this);if(F.getState()==p.a.LOADED){R[m][F.tileCoord.toString()]=F;var N=F.inTransition(k);this.newTiles_||!N&&-1!==this.renderedTiles.indexOf(F)||(this.newTiles_=!0)}if(1===F.getAlpha(k,t.time))continue}var G=v.getTileCoordChildTileRange(F.tileCoord,M,L),Y=!1;G&&(Y=I(m+1,G)),Y||v.forEachTileCoordParentTileRange(F.tileCoord,I,M,L)}var X=b/o;Object(g.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/x,1/x,s,-w/2,-j/2),this.useContainer(e,this.pixelTransform,n.opacity);var z=this.context,U=z.canvas;Object(g.d)(this.inversePixelTransform,this.pixelTransform),Object(g.b)(this.tempTransform_,w/2,j/2,X,X,0,-w/2,-j/2),U.width!=w||U.height!=j?(U.width=w,U.height=j):this.containerReused||z.clearRect(0,0,w,j),E&&this.clipUnrotated(z,t,E),this.preRender(z,t),this.renderedTiles.length=0;var B,W,K,H=Object.keys(R).map(Number);H.sort(_.f),1!==n.opacity||this.containerReused&&!f.getOpaque(t.viewState.projection)?(B=[],W=[]):H=H.reverse();for(var Z=H.length-1;Z>=0;--Z){var V=H[Z],q=f.getTilePixelSize(V,u,i),J=v.getResolution(V)/b,Q=q[0]*J*X,$=q[1]*J*X,tt=v.getTileCoordForCoordAndZ(Object(d.getTopLeft)(T),V),et=v.getTileCoordExtent(tt),nt=Object(g.a)(this.tempTransform_,[x*(et[0]-T[0])/b,x*(T[3]-et[3])/b]),rt=x*f.getGutterForProjection(i),it=R[V];for(var ot in it){var at=(F=it[ot]).tileCoord,st=nt[0]-(tt[1]-at[1])*Q,ut=Math.round(st+Q),ct=nt[1]-(tt[2]-at[2])*$,lt=Math.round(ct+$),ht=ut-(A=Math.round(st)),ft=lt-(D=Math.round(ct)),pt=m===V;if(!(N=pt&&1!==F.getAlpha(Object(l.c)(this),t.time)))if(B){z.save(),K=[A,D,A+ht,D,A+ht,D+ft,A,D+ft];for(var dt=0,yt=B.length;dt<yt;++dt)if(m!==V&&V<W[dt]){var gt=B[dt];z.beginPath(),z.moveTo(K[0],K[1]),z.lineTo(K[2],K[3]),z.lineTo(K[4],K[5]),z.lineTo(K[6],K[7]),z.moveTo(gt[6],gt[7]),z.lineTo(gt[4],gt[5]),z.lineTo(gt[2],gt[3]),z.lineTo(gt[0],gt[1]),z.clip()}B.push(K),W.push(V)}else z.clearRect(A,D,ht,ft);this.drawTileImage(F,t,A,D,ht,ft,rt,pt,n.opacity),B&&!N&&z.restore(),this.renderedTiles.push(F),this.updateUsedTiles(t.usedTiles,f,F)}}this.renderedRevision=y,this.renderedResolution=b,this.extentChanged=!this.renderedExtent_||!Object(d.equals)(this.renderedExtent_,T),this.renderedExtent_=T,this.renderedPixelRatio=u,this.renderedProjection=i,this.manageTilePyramid(t,f,v,u,i,O,m,c.getPreload()),this.updateCacheSize_(t,f),this.scheduleExpireCache(t,f),this.postRender(z,t),n.extent&&z.restore();var _t=Object(g.i)(this.pixelTransform);return _t!==U.style.transform&&(U.style.transform=_t),this.container},e.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,u){var c=this.getTileImage(t);if(c){var h=Object(l.c)(this),f=s?t.getAlpha(h,e.time):1,p=u*f,d=p!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,n,r,i,o),d&&this.context.restore(),1!==f?e.animate=!0:s&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Object(l.c)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=Object(l.c)(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.updateCacheSize_=function(t,e){var n=Object(l.c)(e),r=0;n in t.usedTiles&&(r+=Object.keys(t.usedTiles[n]).length),n in t.wantedTiles&&(r+=Object.keys(t.wantedTiles[n]).length);var i=e.tileCache;i.highWaterMark<r&&(i.highWaterMark=r)},e.prototype.manageTilePyramid=function(t,e,n,r,i,o,a,s,u){var c=Object(l.c)(e);c in t.wantedTiles||(t.wantedTiles[c]={});var h,f,d,y,g,_,v=t.wantedTiles[c],m=t.tileQueue;for(_=n.getMinZoom();_<=a;++_)for(f=n.getTileRangeForExtentAndZ(o,_,f),d=n.getResolution(_),y=f.minX;y<=f.maxX;++y)for(g=f.minY;g<=f.maxY;++g)a-_<=s?((h=e.getTile(_,y,g,r,i)).getState()==p.a.IDLE&&(v[h.getKey()]=!0,m.isKeyQueued(h.getKey())||m.enqueue([h,c,n.getTileCoordCenter(h.tileCoord),d])),void 0!==u&&u(h)):e.useTile(_,y,g,i)},e}(y.a);m.prototype.getLayer;var b=m,O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(e){return t.call(this,e)||this}return O(e,t),e.prototype.createRenderer=function(){return new b(this)},e}(c);e.default=E},function(t,e,n){"use strict";n.r(e);var r,i=n(1),o=n(18),a=n(10),s=n(61),u=n(7),c=n(55),l=n(15),h=n(45),f=n(72),p=n(106),d=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=r,s.src_=n,s.tainted_,s}return d(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===o.a.LOADED){this.tainted_=!1;var t=Object(l.a)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(u.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=o.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=o.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],r=Object(l.a)(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==o.a.IDLE){this.imageState_=o.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(p.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,r=this.color_[0]/255,i=this.color_[1]/255,o=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=r,n[a+1]*=i,n[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(h.a),g="bottom-left",_="bottom-right",v="top-left",m="top-right",b=n(101),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(e){var n=this,r=e||{},u=void 0!==r.opacity?r.opacity:1,l=void 0!==r.rotation?r.rotation:0,h=void 0!==r.scale?r.scale:1,p=void 0!==r.rotateWithView&&r.rotateWithView;(n=t.call(this,{opacity:u,rotation:l,scale:h,rotateWithView:p})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:v,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:c.a.FRACTION,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:c.a.FRACTION,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var d=void 0!==r.img?r.img:null,g=void 0!==r.imgSize?r.imgSize:null,_=r.src;Object(a.a)(!(void 0!==_&&d),4),Object(a.a)(!d||d&&g,5),void 0!==_&&0!==_.length||!d||(_=d.src||Object(i.c)(d)),Object(a.a)(void 0!==_&&_.length>0,6);var m=void 0!==r.src?o.a.IDLE:o.a.LOADED;return n.color_=void 0!==r.color?Object(s.a)(r.color):null,n.iconImage_=function(t,e,n,r,i,o){var a=f.a.get(e,r,o);return a||(a=new y(t,e,n,r,i,o),f.a.set(e,r,o,a)),a}(d,_,g,n.crossOrigin_,m,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:v,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return O(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==c.a.FRACTION||this.anchorYUnits_==c.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==c.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==c.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=v){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=m&&this.anchorOrigin_!=_||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=g&&this.anchorOrigin_!=_||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=v){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=m&&this.offsetOrigin_!=_||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=g&&this.offsetOrigin_!=_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(u.a.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(u.a.CHANGE,t)},e}(b.a);e.default=E},function(t,e,n){"use strict";n.r(e);var r,i=n(62),o=n(14),a="bottom-center",s="bottom-right",u="center-center",c="center-right",l="top-left",h=n(23),f=n(15),p=n(6),d=n(0),y=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g="element",_="map",v="offset",m="position",b="positioning",O=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+h.d,n.element.style.position="absolute",n.autoPan=void 0!==e.autoPan&&e.autoPan,n.autoPanAnimation=e.autoPanAnimation||{},n.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,n.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener(Object(o.b)(g),n.handleElementChanged),n.addEventListener(Object(o.b)(_),n.handleMapChanged),n.addEventListener(Object(o.b)(v),n.handleOffsetChanged),n.addEventListener(Object(o.b)(m),n.handlePositionChanged),n.addEventListener(Object(o.b)(b),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:l),void 0!==e.position&&n.setPosition(e.position),n}return y(e,t),e.prototype.getElement=function(){return this.get(g)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(_)},e.prototype.getOffset=function(){return this.get(v)},e.prototype.getPosition=function(){return this.get(m)},e.prototype.getPositioning=function(){return this.get(b)},e.prototype.handleElementChanged=function(){Object(f.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(f.e)(this.element),Object(p.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(p.a)(t,i.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(m)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(g,t)},e.prototype.setMap=function(t){this.set(_,t)},e.prototype.setOffset=function(t){this.set(v,t)},e.prototype.setPosition=function(t){this.set(m,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),r=this.getRect(n,[Object(f.c)(n),Object(f.b)(n)]),i=this.autoPanMargin;if(!Object(d.containsExtent)(e,r)){var o=r[0]-e[0],a=e[2]-r[2],s=r[1]-e[1],u=e[3]-r[3],c=[0,0];if(o<0?c[0]=o-i:a<0&&(c[0]=Math.abs(a)+i),s<0?c[1]=s-i:u<0&&(c[1]=Math.abs(u)+i),0!==c[0]||0!==c[1]){var l=t.getView().getCenterInternal(),h=t.getPixelFromCoordinateInternal(l),p=[h[0]+c[0],h[1]+c[1]];t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set(b,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=r[0],l=r[1];if(i==s||i==c||"top-right"==i){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var h=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=h&&(this.rendered.right_=n.right=h)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),i!=a&&i!=u&&"top-center"!=i||(o-=this.element.offsetWidth/2);var f=Math.round(t[0]+o)+"px";this.rendered.left_!=f&&(this.rendered.left_=n.left=f)}if("bottom-left"==i||i==a||i==s){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var p=Math.round(e[1]-t[1]-l)+"px";this.rendered.bottom_!=p&&(this.rendered.bottom_=n.bottom=p)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),"center-left"!=i&&i!=u&&i!=c||(l-=this.element.offsetHeight/2);var d=Math.round(t[1]+l)+"px";this.rendered.top_!=d&&(this.rendered.top_=n.top=d)}},e.prototype.getOptions=function(){return this.options},e}(o.a);e.default=O}]);